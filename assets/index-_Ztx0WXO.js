var sH=Object.defineProperty;var lH=(t,e,n)=>e in t?sH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var hT=(t,e,n)=>lH(t,typeof e!="symbol"?e+"":e,n);function uH(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Oo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var pT={exports:{}},Bd={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bx;function cH(){if(Bx)return Bd;Bx=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,o){var s=null;if(o!==void 0&&(s=""+o),i.key!==void 0&&(s=""+i.key),"key"in i){o={};for(var u in i)u!=="key"&&(o[u]=i[u])}else o=i;return i=o.ref,{$$typeof:t,type:r,key:s,ref:i!==void 0?i:null,props:o}}return Bd.Fragment=e,Bd.jsx=n,Bd.jsxs=n,Bd}var zx;function fH(){return zx||(zx=1,pT.exports=cH()),pT.exports}var j=fH(),mT={exports:{}},qe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gx;function dH(){if(Gx)return qe;Gx=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),_=Symbol.iterator;function S(K){return K===null||typeof K!="object"?null:(K=_&&K[_]||K["@@iterator"],typeof K=="function"?K:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,C={};function M(K,oe,me){this.props=K,this.context=oe,this.refs=C,this.updater=me||w}M.prototype.isReactComponent={},M.prototype.setState=function(K,oe){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,oe,"setState")},M.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function U(){}U.prototype=M.prototype;function L(K,oe,me){this.props=K,this.context=oe,this.refs=C,this.updater=me||w}var H=L.prototype=new U;H.constructor=L,A(H,M.prototype),H.isPureReactComponent=!0;var z=Array.isArray;function G(){}var P={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function x(K,oe,me){var ve=me.ref;return{$$typeof:t,type:K,key:oe,ref:ve!==void 0?ve:null,props:me}}function F(K,oe){return x(K.type,oe,K.props)}function k(K){return typeof K=="object"&&K!==null&&K.$$typeof===t}function B(K){var oe={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(me){return oe[me]})}var q=/\/+/g;function Se(K,oe){return typeof K=="object"&&K!==null&&K.key!=null?B(""+K.key):oe.toString(36)}function De(K){switch(K.status){case"fulfilled":return K.value;case"rejected":throw K.reason;default:switch(typeof K.status=="string"?K.then(G,G):(K.status="pending",K.then(function(oe){K.status==="pending"&&(K.status="fulfilled",K.value=oe)},function(oe){K.status==="pending"&&(K.status="rejected",K.reason=oe)})),K.status){case"fulfilled":return K.value;case"rejected":throw K.reason}}throw K}function Q(K,oe,me,ve,xe){var ke=typeof K;(ke==="undefined"||ke==="boolean")&&(K=null);var Oe=!1;if(K===null)Oe=!0;else switch(ke){case"bigint":case"string":case"number":Oe=!0;break;case"object":switch(K.$$typeof){case t:case e:Oe=!0;break;case h:return Oe=K._init,Q(Oe(K._payload),oe,me,ve,xe)}}if(Oe)return xe=xe(K),Oe=ve===""?"."+Se(K,0):ve,z(xe)?(me="",Oe!=null&&(me=Oe.replace(q,"$&/")+"/"),Q(xe,oe,me,"",function(Fe){return Fe})):xe!=null&&(k(xe)&&(xe=F(xe,me+(xe.key==null||K&&K.key===xe.key?"":(""+xe.key).replace(q,"$&/")+"/")+Oe)),oe.push(xe)),1;Oe=0;var qt=ve===""?".":ve+":";if(z(K))for(var le=0;le<K.length;le++)ve=K[le],ke=qt+Se(ve,le),Oe+=Q(ve,oe,me,ke,xe);else if(le=S(K),typeof le=="function")for(K=le.call(K),le=0;!(ve=K.next()).done;)ve=ve.value,ke=qt+Se(ve,le++),Oe+=Q(ve,oe,me,ke,xe);else if(ke==="object"){if(typeof K.then=="function")return Q(De(K),oe,me,ve,xe);throw oe=String(K),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.")}return Oe}function fe(K,oe,me){if(K==null)return K;var ve=[],xe=0;return Q(K,ve,"","",function(ke){return oe.call(me,ke,xe++)}),ve}function Ee(K){if(K._status===-1){var oe=K._result;oe=oe(),oe.then(function(me){(K._status===0||K._status===-1)&&(K._status=1,K._result=me)},function(me){(K._status===0||K._status===-1)&&(K._status=2,K._result=me)}),K._status===-1&&(K._status=0,K._result=oe)}if(K._status===1)return K._result.default;throw K._result}var Ce=typeof reportError=="function"?reportError:function(K){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var oe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof K=="object"&&K!==null&&typeof K.message=="string"?String(K.message):String(K),error:K});if(!window.dispatchEvent(oe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",K);return}console.error(K)},$e={map:fe,forEach:function(K,oe,me){fe(K,function(){oe.apply(this,arguments)},me)},count:function(K){var oe=0;return fe(K,function(){oe++}),oe},toArray:function(K){return fe(K,function(oe){return oe})||[]},only:function(K){if(!k(K))throw Error("React.Children.only expected to receive a single React element child.");return K}};return qe.Activity=m,qe.Children=$e,qe.Component=M,qe.Fragment=n,qe.Profiler=i,qe.PureComponent=L,qe.StrictMode=r,qe.Suspense=c,qe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,qe.__COMPILER_RUNTIME={__proto__:null,c:function(K){return P.H.useMemoCache(K)}},qe.cache=function(K){return function(){return K.apply(null,arguments)}},qe.cacheSignal=function(){return null},qe.cloneElement=function(K,oe,me){if(K==null)throw Error("The argument must be a React element, but you passed "+K+".");var ve=A({},K.props),xe=K.key;if(oe!=null)for(ke in oe.key!==void 0&&(xe=""+oe.key),oe)!D.call(oe,ke)||ke==="key"||ke==="__self"||ke==="__source"||ke==="ref"&&oe.ref===void 0||(ve[ke]=oe[ke]);var ke=arguments.length-2;if(ke===1)ve.children=me;else if(1<ke){for(var Oe=Array(ke),qt=0;qt<ke;qt++)Oe[qt]=arguments[qt+2];ve.children=Oe}return x(K.type,xe,ve)},qe.createContext=function(K){return K={$$typeof:s,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null},K.Provider=K,K.Consumer={$$typeof:o,_context:K},K},qe.createElement=function(K,oe,me){var ve,xe={},ke=null;if(oe!=null)for(ve in oe.key!==void 0&&(ke=""+oe.key),oe)D.call(oe,ve)&&ve!=="key"&&ve!=="__self"&&ve!=="__source"&&(xe[ve]=oe[ve]);var Oe=arguments.length-2;if(Oe===1)xe.children=me;else if(1<Oe){for(var qt=Array(Oe),le=0;le<Oe;le++)qt[le]=arguments[le+2];xe.children=qt}if(K&&K.defaultProps)for(ve in Oe=K.defaultProps,Oe)xe[ve]===void 0&&(xe[ve]=Oe[ve]);return x(K,ke,xe)},qe.createRef=function(){return{current:null}},qe.forwardRef=function(K){return{$$typeof:u,render:K}},qe.isValidElement=k,qe.lazy=function(K){return{$$typeof:h,_payload:{_status:-1,_result:K},_init:Ee}},qe.memo=function(K,oe){return{$$typeof:d,type:K,compare:oe===void 0?null:oe}},qe.startTransition=function(K){var oe=P.T,me={};P.T=me;try{var ve=K(),xe=P.S;xe!==null&&xe(me,ve),typeof ve=="object"&&ve!==null&&typeof ve.then=="function"&&ve.then(G,Ce)}catch(ke){Ce(ke)}finally{oe!==null&&me.types!==null&&(oe.types=me.types),P.T=oe}},qe.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},qe.use=function(K){return P.H.use(K)},qe.useActionState=function(K,oe,me){return P.H.useActionState(K,oe,me)},qe.useCallback=function(K,oe){return P.H.useCallback(K,oe)},qe.useContext=function(K){return P.H.useContext(K)},qe.useDebugValue=function(){},qe.useDeferredValue=function(K,oe){return P.H.useDeferredValue(K,oe)},qe.useEffect=function(K,oe){return P.H.useEffect(K,oe)},qe.useEffectEvent=function(K){return P.H.useEffectEvent(K)},qe.useId=function(){return P.H.useId()},qe.useImperativeHandle=function(K,oe,me){return P.H.useImperativeHandle(K,oe,me)},qe.useInsertionEffect=function(K,oe){return P.H.useInsertionEffect(K,oe)},qe.useLayoutEffect=function(K,oe){return P.H.useLayoutEffect(K,oe)},qe.useMemo=function(K,oe){return P.H.useMemo(K,oe)},qe.useOptimistic=function(K,oe){return P.H.useOptimistic(K,oe)},qe.useReducer=function(K,oe,me){return P.H.useReducer(K,oe,me)},qe.useRef=function(K){return P.H.useRef(K)},qe.useState=function(K){return P.H.useState(K)},qe.useSyncExternalStore=function(K,oe,me){return P.H.useSyncExternalStore(K,oe,me)},qe.useTransition=function(){return P.H.useTransition()},qe.version="19.2.0",qe}var Hx;function _f(){return Hx||(Hx=1,mT.exports=dH()),mT.exports}var N=_f();const GV=Oo(N),hH=uH({__proto__:null,default:GV},[N]);var gT={exports:{}},zd={},yT={exports:{}},vT={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $x;function pH(){return $x||($x=1,(function(t){function e(Q,fe){var Ee=Q.length;Q.push(fe);e:for(;0<Ee;){var Ce=Ee-1>>>1,$e=Q[Ce];if(0<i($e,fe))Q[Ce]=fe,Q[Ee]=$e,Ee=Ce;else break e}}function n(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var fe=Q[0],Ee=Q.pop();if(Ee!==fe){Q[0]=Ee;e:for(var Ce=0,$e=Q.length,K=$e>>>1;Ce<K;){var oe=2*(Ce+1)-1,me=Q[oe],ve=oe+1,xe=Q[ve];if(0>i(me,Ee))ve<$e&&0>i(xe,me)?(Q[Ce]=xe,Q[ve]=Ee,Ce=ve):(Q[Ce]=me,Q[oe]=Ee,Ce=oe);else if(ve<$e&&0>i(xe,Ee))Q[Ce]=xe,Q[ve]=Ee,Ce=ve;else break e}}return fe}function i(Q,fe){var Ee=Q.sortIndex-fe.sortIndex;return Ee!==0?Ee:Q.id-fe.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],d=[],h=1,m=null,_=3,S=!1,w=!1,A=!1,C=!1,M=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function H(Q){for(var fe=n(d);fe!==null;){if(fe.callback===null)r(d);else if(fe.startTime<=Q)r(d),fe.sortIndex=fe.expirationTime,e(c,fe);else break;fe=n(d)}}function z(Q){if(A=!1,H(Q),!w)if(n(c)!==null)w=!0,G||(G=!0,B());else{var fe=n(d);fe!==null&&De(z,fe.startTime-Q)}}var G=!1,P=-1,D=5,x=-1;function F(){return C?!0:!(t.unstable_now()-x<D)}function k(){if(C=!1,G){var Q=t.unstable_now();x=Q;var fe=!0;try{e:{w=!1,A&&(A=!1,U(P),P=-1),S=!0;var Ee=_;try{t:{for(H(Q),m=n(c);m!==null&&!(m.expirationTime>Q&&F());){var Ce=m.callback;if(typeof Ce=="function"){m.callback=null,_=m.priorityLevel;var $e=Ce(m.expirationTime<=Q);if(Q=t.unstable_now(),typeof $e=="function"){m.callback=$e,H(Q),fe=!0;break t}m===n(c)&&r(c),H(Q)}else r(c);m=n(c)}if(m!==null)fe=!0;else{var K=n(d);K!==null&&De(z,K.startTime-Q),fe=!1}}break e}finally{m=null,_=Ee,S=!1}fe=void 0}}finally{fe?B():G=!1}}}var B;if(typeof L=="function")B=function(){L(k)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,Se=q.port2;q.port1.onmessage=k,B=function(){Se.postMessage(null)}}else B=function(){M(k,0)};function De(Q,fe){P=M(function(){Q(t.unstable_now())},fe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_next=function(Q){switch(_){case 1:case 2:case 3:var fe=3;break;default:fe=_}var Ee=_;_=fe;try{return Q()}finally{_=Ee}},t.unstable_requestPaint=function(){C=!0},t.unstable_runWithPriority=function(Q,fe){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var Ee=_;_=Q;try{return fe()}finally{_=Ee}},t.unstable_scheduleCallback=function(Q,fe,Ee){var Ce=t.unstable_now();switch(typeof Ee=="object"&&Ee!==null?(Ee=Ee.delay,Ee=typeof Ee=="number"&&0<Ee?Ce+Ee:Ce):Ee=Ce,Q){case 1:var $e=-1;break;case 2:$e=250;break;case 5:$e=1073741823;break;case 4:$e=1e4;break;default:$e=5e3}return $e=Ee+$e,Q={id:h++,callback:fe,priorityLevel:Q,startTime:Ee,expirationTime:$e,sortIndex:-1},Ee>Ce?(Q.sortIndex=Ee,e(d,Q),n(c)===null&&Q===n(d)&&(A?(U(P),P=-1):A=!0,De(z,Ee-Ce))):(Q.sortIndex=$e,e(c,Q),w||S||(w=!0,G||(G=!0,B()))),Q},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(Q){var fe=_;return function(){var Ee=_;_=fe;try{return Q.apply(this,arguments)}finally{_=Ee}}}})(vT)),vT}var Kx;function mH(){return Kx||(Kx=1,yT.exports=pH()),yT.exports}var _T={exports:{}},Zn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yx;function gH(){if(Yx)return Zn;Yx=1;var t=_f();function e(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(c,d,h){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:c,containerInfo:d,implementation:h}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(c,d){if(c==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Zn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Zn.createPortal=function(c,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(c,d,null,h)},Zn.flushSync=function(c){var d=s.T,h=r.p;try{if(s.T=null,r.p=2,c)return c()}finally{s.T=d,r.p=h,r.d.f()}},Zn.preconnect=function(c,d){typeof c=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(c,d))},Zn.prefetchDNS=function(c){typeof c=="string"&&r.d.D(c)},Zn.preinit=function(c,d){if(typeof c=="string"&&d&&typeof d.as=="string"){var h=d.as,m=u(h,d.crossOrigin),_=typeof d.integrity=="string"?d.integrity:void 0,S=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?r.d.S(c,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:m,integrity:_,fetchPriority:S}):h==="script"&&r.d.X(c,{crossOrigin:m,integrity:_,fetchPriority:S,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Zn.preinitModule=function(c,d){if(typeof c=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=u(d.as,d.crossOrigin);r.d.M(c,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(c)},Zn.preload=function(c,d){if(typeof c=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,m=u(h,d.crossOrigin);r.d.L(c,h,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Zn.preloadModule=function(c,d){if(typeof c=="string")if(d){var h=u(d.as,d.crossOrigin);r.d.m(c,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(c)},Zn.requestFormReset=function(c){r.d.r(c)},Zn.unstable_batchedUpdates=function(c,d){return c(d)},Zn.useFormState=function(c,d,h){return s.H.useFormState(c,d,h)},Zn.useFormStatus=function(){return s.H.useHostTransitionStatus()},Zn.version="19.2.0",Zn}var Wx;function HV(){if(Wx)return _T.exports;Wx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),_T.exports=gH(),_T.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jx;function yH(){if(jx)return zd;jx=1;var t=mH(),e=_f(),n=HV();function r(a){var l="https://react.dev/errors/"+a;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)l+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var l=a,f=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(f=l.return),a=l.return;while(a)}return l.tag===3?f:null}function s(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function u(a){if(a.tag===31){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function c(a){if(o(a)!==a)throw Error(r(188))}function d(a){var l=a.alternate;if(!l){if(l=o(a),l===null)throw Error(r(188));return l!==a?null:a}for(var f=a,p=l;;){var E=f.return;if(E===null)break;var T=E.alternate;if(T===null){if(p=E.return,p!==null){f=p;continue}break}if(E.child===T.child){for(T=E.child;T;){if(T===f)return c(E),a;if(T===p)return c(E),l;T=T.sibling}throw Error(r(188))}if(f.return!==p.return)f=E,p=T;else{for(var I=!1,O=E.child;O;){if(O===f){I=!0,f=E,p=T;break}if(O===p){I=!0,p=E,f=T;break}O=O.sibling}if(!I){for(O=T.child;O;){if(O===f){I=!0,f=T,p=E;break}if(O===p){I=!0,p=T,f=E;break}O=O.sibling}if(!I)throw Error(r(189))}}if(f.alternate!==p)throw Error(r(190))}if(f.tag!==3)throw Error(r(188));return f.stateNode.current===f?a:l}function h(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a;for(a=a.child;a!==null;){if(l=h(a),l!==null)return l;a=a.sibling}return null}var m=Object.assign,_=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),U=Symbol.for("react.consumer"),L=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),k=Symbol.iterator;function B(a){return a===null||typeof a!="object"?null:(a=k&&a[k]||a["@@iterator"],typeof a=="function"?a:null)}var q=Symbol.for("react.client.reference");function Se(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===q?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case A:return"Fragment";case M:return"Profiler";case C:return"StrictMode";case z:return"Suspense";case G:return"SuspenseList";case x:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case w:return"Portal";case L:return a.displayName||"Context";case U:return(a._context.displayName||"Context")+".Consumer";case H:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case P:return l=a.displayName||null,l!==null?l:Se(a.type)||"Memo";case D:l=a._payload,a=a._init;try{return Se(a(l))}catch{}}return null}var De=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ee={pending:!1,data:null,method:null,action:null},Ce=[],$e=-1;function K(a){return{current:a}}function oe(a){0>$e||(a.current=Ce[$e],Ce[$e]=null,$e--)}function me(a,l){$e++,Ce[$e]=a.current,a.current=l}var ve=K(null),xe=K(null),ke=K(null),Oe=K(null);function qt(a,l){switch(me(ke,l),me(xe,a),me(ve,null),l.nodeType){case 9:case 11:a=(a=l.documentElement)&&(a=a.namespaceURI)?cx(a):0;break;default:if(a=l.tagName,l=l.namespaceURI)l=cx(l),a=fx(l,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}oe(ve),me(ve,a)}function le(){oe(ve),oe(xe),oe(ke)}function Fe(a){a.memoizedState!==null&&me(Oe,a);var l=ve.current,f=fx(l,a.type);l!==f&&(me(xe,a),me(ve,f))}function Ke(a){xe.current===a&&(oe(ve),oe(xe)),Oe.current===a&&(oe(Oe),Vd._currentValue=Ee)}var de,Qt;function je(a){if(de===void 0)try{throw Error()}catch(f){var l=f.stack.trim().match(/\n( *(at )?)/);de=l&&l[1]||"",Qt=-1<f.stack.indexOf(`
    at`)?" (<anonymous>)":-1<f.stack.indexOf("@")?"@unknown:0:0":""}return`
`+de+a+Qt}var wn=!1;function Zt(a,l){if(!a||wn)return"";wn=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(l){var ce=function(){throw Error()};if(Object.defineProperty(ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ce,[])}catch(ie){var te=ie}Reflect.construct(a,[],ce)}else{try{ce.call()}catch(ie){te=ie}a.call(ce.prototype)}}else{try{throw Error()}catch(ie){te=ie}(ce=a())&&typeof ce.catch=="function"&&ce.catch(function(){})}}catch(ie){if(ie&&te&&typeof ie.stack=="string")return[ie.stack,te.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var E=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");E&&E.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var T=p.DetermineComponentFrameRoot(),I=T[0],O=T[1];if(I&&O){var $=I.split(`
`),ee=O.split(`
`);for(E=p=0;p<$.length&&!$[p].includes("DetermineComponentFrameRoot");)p++;for(;E<ee.length&&!ee[E].includes("DetermineComponentFrameRoot");)E++;if(p===$.length||E===ee.length)for(p=$.length-1,E=ee.length-1;1<=p&&0<=E&&$[p]!==ee[E];)E--;for(;1<=p&&0<=E;p--,E--)if($[p]!==ee[E]){if(p!==1||E!==1)do if(p--,E--,0>E||$[p]!==ee[E]){var ae=`
`+$[p].replace(" at new "," at ");return a.displayName&&ae.includes("<anonymous>")&&(ae=ae.replace("<anonymous>",a.displayName)),ae}while(1<=p&&0<=E);break}}}finally{wn=!1,Error.prepareStackTrace=f}return(f=a?a.displayName||a.name:"")?je(f):""}function Ir(a,l){switch(a.tag){case 26:case 27:case 5:return je(a.type);case 16:return je("Lazy");case 13:return a.child!==l&&l!==null?je("Suspense Fallback"):je("Suspense");case 19:return je("SuspenseList");case 0:case 15:return Zt(a.type,!1);case 11:return Zt(a.type.render,!1);case 1:return Zt(a.type,!0);case 31:return je("Activity");default:return""}}function Da(a){try{var l="",f=null;do l+=Ir(a,f),f=a,a=a.return;while(a);return l}catch(p){return`
Error generating stack: `+p.message+`
`+p.stack}}var ln=Object.prototype.hasOwnProperty,An=t.unstable_scheduleCallback,Oa=t.unstable_cancelCallback,m0=t.unstable_shouldYield,em=t.unstable_requestPaint,ir=t.unstable_now,Qs=t.unstable_getCurrentPriorityLevel,qf=t.unstable_ImmediatePriority,Bf=t.unstable_UserBlockingPriority,ka=t.unstable_NormalPriority,g0=t.unstable_LowPriority,tm=t.unstable_IdlePriority,nm=t.log,rm=t.unstable_setDisableYieldValue,Ai=null,Gn=null;function Jr(a){if(typeof nm=="function"&&rm(a),Gn&&typeof Gn.setStrictMode=="function")try{Gn.setStrictMode(Ai,a)}catch{}}var en=Math.clz32?Math.clz32:om,im=Math.log,wu=Math.LN2;function om(a){return a>>>=0,a===0?32:31-(im(a)/wu|0)|0}var Xi=256,Zs=262144,un=4194304;function Qi(a){var l=a&42;if(l!==0)return l;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Zi(a,l,f){var p=a.pendingLanes;if(p===0)return 0;var E=0,T=a.suspendedLanes,I=a.pingedLanes;a=a.warmLanes;var O=p&134217727;return O!==0?(p=O&~T,p!==0?E=Qi(p):(I&=O,I!==0?E=Qi(I):f||(f=O&~a,f!==0&&(E=Qi(f))))):(O=p&~T,O!==0?E=Qi(O):I!==0?E=Qi(I):f||(f=p&~a,f!==0&&(E=Qi(f)))),E===0?0:l!==0&&l!==E&&(l&T)===0&&(T=E&-E,f=l&-l,T>=f||T===32&&(f&4194048)!==0)?l:E}function Ii(a,l){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&l)===0}function y0(a,l){switch(a){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function am(){var a=un;return un<<=1,(un&62914560)===0&&(un=4194304),a}function eo(a){for(var l=[],f=0;31>f;f++)l.push(a);return l}function el(a,l){a.pendingLanes|=l,l!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function v0(a,l,f,p,E,T){var I=a.pendingLanes;a.pendingLanes=f,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=f,a.entangledLanes&=f,a.errorRecoveryDisabledLanes&=f,a.shellSuspendCounter=0;var O=a.entanglements,$=a.expirationTimes,ee=a.hiddenUpdates;for(f=I&~f;0<f;){var ae=31-en(f),ce=1<<ae;O[ae]=0,$[ae]=-1;var te=ee[ae];if(te!==null)for(ee[ae]=null,ae=0;ae<te.length;ae++){var ie=te[ae];ie!==null&&(ie.lane&=-536870913)}f&=~ce}p!==0&&tl(a,p,0),T!==0&&E===0&&a.tag!==0&&(a.suspendedLanes|=T&~(I&~l))}function tl(a,l,f){a.pendingLanes|=l,a.suspendedLanes&=~l;var p=31-en(l);a.entangledLanes|=l,a.entanglements[p]=a.entanglements[p]|1073741824|f&261930}function zf(a,l){var f=a.entangledLanes|=l;for(a=a.entanglements;f;){var p=31-en(f),E=1<<p;E&l|a[p]&l&&(a[p]|=l),f&=~E}}function Gf(a,l){var f=l&-l;return f=(f&42)!==0?1:nl(f),(f&(a.suspendedLanes|l))!==0?0:f}function nl(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function ko(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function sm(){var a=fe.p;return a!==0?a:(a=window.event,a===void 0?32:Ox(a.type))}function Ci(a,l){var f=fe.p;try{return fe.p=a,l()}finally{fe.p=f}}var Ri=Math.random().toString(36).slice(2),cn="__reactFiber$"+Ri,Dn="__reactProps$"+Ri,to="__reactContainer$"+Ri,Au="__reactEvents$"+Ri,_0="__reactListeners$"+Ri,lm="__reactHandles$"+Ri,um="__reactResources$"+Ri,no="__reactMarker$"+Ri;function Iu(a){delete a[cn],delete a[Dn],delete a[Au],delete a[_0],delete a[lm]}function ro(a){var l=a[cn];if(l)return l;for(var f=a.parentNode;f;){if(l=f[to]||f[cn]){if(f=l.alternate,l.child!==null||f!==null&&f.child!==null)for(a=vx(a);a!==null;){if(f=a[cn])return f;a=vx(a)}return l}a=f,f=a.parentNode}return null}function Xr(a){if(a=a[cn]||a[to]){var l=a.tag;if(l===5||l===6||l===13||l===31||l===26||l===27||l===3)return a}return null}function Cr(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a.stateNode;throw Error(r(33))}function io(a){var l=a[um];return l||(l=a[um]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function fn(a){a[no]=!0}var Hf=new Set,$f={};function oo(a,l){ao(a,l),ao(a+"Capture",l)}function ao(a,l){for($f[a]=l,a=0;a<l.length;a++)Hf.add(l[a])}var Kf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Yf={},Wf={};function cm(a){return ln.call(Wf,a)?!0:ln.call(Yf,a)?!1:Kf.test(a)?Wf[a]=!0:(Yf[a]=!0,!1)}function Cu(a,l,f){if(cm(l))if(f===null)a.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":a.removeAttribute(l);return;case"boolean":var p=l.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){a.removeAttribute(l);return}}a.setAttribute(l,""+f)}}function Rr(a,l,f){if(f===null)a.removeAttribute(l);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttribute(l,""+f)}}function dn(a,l,f,p){if(p===null)a.removeAttribute(f);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(f);return}a.setAttributeNS(l,f,""+p)}}function On(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function La(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function jf(a,l,f){var p=Object.getOwnPropertyDescriptor(a.constructor.prototype,l);if(!a.hasOwnProperty(l)&&typeof p<"u"&&typeof p.get=="function"&&typeof p.set=="function"){var E=p.get,T=p.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return E.call(this)},set:function(I){f=""+I,T.call(this,I)}}),Object.defineProperty(a,l,{enumerable:p.enumerable}),{getValue:function(){return f},setValue:function(I){f=""+I},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function ft(a){if(!a._valueTracker){var l=La(a)?"checked":"value";a._valueTracker=jf(a,l,""+a[l])}}function rl(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var f=l.getValue(),p="";return a&&(p=La(a)?a.checked?"true":"false":a.value),a=p,a!==f?(l.setValue(a),!0):!1}function so(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var il=/[\n"\\]/g;function dr(a){return a.replace(il,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function Ru(a,l,f,p,E,T,I,O){a.name="",I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"?a.type=I:a.removeAttribute("type"),l!=null?I==="number"?(l===0&&a.value===""||a.value!=l)&&(a.value=""+On(l)):a.value!==""+On(l)&&(a.value=""+On(l)):I!=="submit"&&I!=="reset"||a.removeAttribute("value"),l!=null?Jf(a,I,On(l)):f!=null?Jf(a,I,On(f)):p!=null&&a.removeAttribute("value"),E==null&&T!=null&&(a.defaultChecked=!!T),E!=null&&(a.checked=E&&typeof E!="function"&&typeof E!="symbol"),O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?a.name=""+On(O):a.removeAttribute("name")}function fm(a,l,f,p,E,T,I,O){if(T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(a.type=T),l!=null||f!=null){if(!(T!=="submit"&&T!=="reset"||l!=null)){ft(a);return}f=f!=null?""+On(f):"",l=l!=null?""+On(l):f,O||l===a.value||(a.value=l),a.defaultValue=l}p=p??E,p=typeof p!="function"&&typeof p!="symbol"&&!!p,a.checked=O?a.checked:!!p,a.defaultChecked=!!p,I!=null&&typeof I!="function"&&typeof I!="symbol"&&typeof I!="boolean"&&(a.name=I),ft(a)}function Jf(a,l,f){l==="number"&&so(a.ownerDocument)===a||a.defaultValue===""+f||(a.defaultValue=""+f)}function Va(a,l,f,p){if(a=a.options,l){l={};for(var E=0;E<f.length;E++)l["$"+f[E]]=!0;for(f=0;f<a.length;f++)E=l.hasOwnProperty("$"+a[f].value),a[f].selected!==E&&(a[f].selected=E),E&&p&&(a[f].defaultSelected=!0)}else{for(f=""+On(f),l=null,E=0;E<a.length;E++){if(a[E].value===f){a[E].selected=!0,p&&(a[E].defaultSelected=!0);return}l!==null||a[E].disabled||(l=a[E])}l!==null&&(l.selected=!0)}}function dm(a,l,f){if(l!=null&&(l=""+On(l),l!==a.value&&(a.value=l),f==null)){a.defaultValue!==l&&(a.defaultValue=l);return}a.defaultValue=f!=null?""+On(f):""}function Ua(a,l,f,p){if(l==null){if(p!=null){if(f!=null)throw Error(r(92));if(De(p)){if(1<p.length)throw Error(r(93));p=p[0]}f=p}f==null&&(f=""),l=f}f=On(l),a.defaultValue=f,p=a.textContent,p===f&&p!==""&&p!==null&&(a.value=p),ft(a)}function hr(a,l){if(l){var f=a.firstChild;if(f&&f===a.lastChild&&f.nodeType===3){f.nodeValue=l;return}}a.textContent=l}var hm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xf(a,l,f){var p=l.indexOf("--")===0;f==null||typeof f=="boolean"||f===""?p?a.setProperty(l,""):l==="float"?a.cssFloat="":a[l]="":p?a.setProperty(l,f):typeof f!="number"||f===0||hm.has(l)?l==="float"?a.cssFloat=f:a[l]=(""+f).trim():a[l]=f+"px"}function Qf(a,l,f){if(l!=null&&typeof l!="object")throw Error(r(62));if(a=a.style,f!=null){for(var p in f)!f.hasOwnProperty(p)||l!=null&&l.hasOwnProperty(p)||(p.indexOf("--")===0?a.setProperty(p,""):p==="float"?a.cssFloat="":a[p]="");for(var E in l)p=l[E],l.hasOwnProperty(E)&&f[E]!==p&&Xf(a,E,p)}else for(var T in l)l.hasOwnProperty(T)&&Xf(a,T,l[T])}function Pu(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Fa=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xu(a){return Fa.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Pi(){}var Zf=null;function Qr(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var qa=null,lo=null;function ol(a){var l=Xr(a);if(l&&(a=l.stateNode)){var f=a[Dn]||null;e:switch(a=l.stateNode,l.type){case"input":if(Ru(a,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name),l=f.name,f.type==="radio"&&l!=null){for(f=a;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll('input[name="'+dr(""+l)+'"][type="radio"]'),l=0;l<f.length;l++){var p=f[l];if(p!==a&&p.form===a.form){var E=p[Dn]||null;if(!E)throw Error(r(90));Ru(p,E.value,E.defaultValue,E.defaultValue,E.checked,E.defaultChecked,E.type,E.name)}}for(l=0;l<f.length;l++)p=f[l],p.form===a.form&&rl(p)}break e;case"textarea":dm(a,f.value,f.defaultValue);break e;case"select":l=f.value,l!=null&&Va(a,!!f.multiple,l,!1)}}}var Mu=!1;function Ba(a,l,f){if(Mu)return a(l,f);Mu=!0;try{var p=a(l);return p}finally{if(Mu=!1,(qa!==null||lo!==null)&&(sg(),qa&&(l=qa,a=lo,lo=qa=null,ol(l),a)))for(l=0;l<a.length;l++)ol(a[l])}}function xi(a,l){var f=a.stateNode;if(f===null)return null;var p=f[Dn]||null;if(p===null)return null;f=p[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(a=a.type,p=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!p;break e;default:a=!1}if(a)return null;if(f&&typeof f!="function")throw Error(r(231,l,typeof f));return f}var Zr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),al=!1;if(Zr)try{var _t={};Object.defineProperty(_t,"passive",{get:function(){al=!0}}),window.addEventListener("test",_t,_t),window.removeEventListener("test",_t,_t)}catch{al=!1}var uo=null,ed=null,sl=null;function td(){if(sl)return sl;var a,l=ed,f=l.length,p,E="value"in uo?uo.value:uo.textContent,T=E.length;for(a=0;a<f&&l[a]===E[a];a++);var I=f-a;for(p=1;p<=I&&l[f-p]===E[T-p];p++);return sl=E.slice(a,1<p?1-p:void 0)}function ll(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function Lo(){return!0}function Mi(){return!1}function Hn(a){function l(f,p,E,T,I){this._reactName=f,this._targetInst=E,this.type=p,this.nativeEvent=T,this.target=I,this.currentTarget=null;for(var O in a)a.hasOwnProperty(O)&&(f=a[O],this[O]=f?f(T):T[O]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?Lo:Mi,this.isPropagationStopped=Mi,this}return m(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Lo)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Lo)},persist:function(){},isPersistent:Lo}),l}var Vo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},co=Hn(Vo),za=m({},Vo,{view:0,detail:0}),nd=Hn(za),Ga,Nu,fo,Du=m({},za,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ha,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==fo&&(fo&&a.type==="mousemove"?(Ga=a.screenX-fo.screenX,Nu=a.screenY-fo.screenY):Nu=Ga=0,fo=a),Ga)},movementY:function(a){return"movementY"in a?a.movementY:Nu}}),rd=Hn(Du),ul=m({},Du,{dataTransfer:0}),mm=Hn(ul),gm=m({},za,{relatedTarget:0}),cl=Hn(gm),id=m({},Vo,{animationName:0,elapsedTime:0,pseudoElement:0}),ym=Hn(id),Ou=m({},Vo,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),vm=Hn(Ou),_m=m({},Vo,{data:0}),ho=Hn(_m),Em={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bm(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=Sm[a])?!!l[a]:!1}function Ha(){return bm}var or=m({},za,{key:function(a){if(a.key){var l=Em[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=ll(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Tm[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ha,charCode:function(a){return a.type==="keypress"?ll(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?ll(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),wm=Hn(or),Am=m({},Du,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Uo=Hn(Am),v=m({},za,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ha}),b=Hn(v),R=m({},Vo,{propertyName:0,elapsedTime:0,pseudoElement:0}),V=Hn(R),X=m({},Du,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),re=Hn(X),ge=m({},Vo,{newState:0,oldState:0}),ze=Hn(ge),tn=[9,13,27,32],lt=Zr&&"CompositionEvent"in window,Nt=null;Zr&&"documentMode"in document&&(Nt=document.documentMode);var ei=Zr&&"TextEvent"in window&&!Nt,po=Zr&&(!lt||Nt&&8<Nt&&11>=Nt),Ni=" ",Di=!1;function fl(a,l){switch(a){case"keyup":return tn.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ku(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Lu=!1;function M5(a,l){switch(a){case"compositionend":return ku(l);case"keypress":return l.which!==32?null:(Di=!0,Ni);case"textInput":return a=l.data,a===Ni&&Di?null:a;default:return null}}function N5(a,l){if(Lu)return a==="compositionend"||!lt&&fl(a,l)?(a=td(),sl=ed=uo=null,Lu=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return po&&l.locale!=="ko"?null:l.data;default:return null}}var D5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function T1(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!D5[a.type]:l==="textarea"}function S1(a,l,f,p){qa?lo?lo.push(p):lo=[p]:qa=p,l=pg(l,"onChange"),0<l.length&&(f=new co("onChange","change",null,f,p),a.push({event:f,listeners:l}))}var od=null,ad=null;function O5(a){ix(a,0)}function Im(a){var l=Cr(a);if(rl(l))return a}function b1(a,l){if(a==="change")return l}var w1=!1;if(Zr){var E0;if(Zr){var T0="oninput"in document;if(!T0){var A1=document.createElement("div");A1.setAttribute("oninput","return;"),T0=typeof A1.oninput=="function"}E0=T0}else E0=!1;w1=E0&&(!document.documentMode||9<document.documentMode)}function I1(){od&&(od.detachEvent("onpropertychange",C1),ad=od=null)}function C1(a){if(a.propertyName==="value"&&Im(ad)){var l=[];S1(l,ad,a,Qr(a)),Ba(O5,l)}}function k5(a,l,f){a==="focusin"?(I1(),od=l,ad=f,od.attachEvent("onpropertychange",C1)):a==="focusout"&&I1()}function L5(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Im(ad)}function V5(a,l){if(a==="click")return Im(l)}function U5(a,l){if(a==="input"||a==="change")return Im(l)}function F5(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var Pr=typeof Object.is=="function"?Object.is:F5;function sd(a,l){if(Pr(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var f=Object.keys(a),p=Object.keys(l);if(f.length!==p.length)return!1;for(p=0;p<f.length;p++){var E=f[p];if(!ln.call(l,E)||!Pr(a[E],l[E]))return!1}return!0}function R1(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function P1(a,l){var f=R1(a);a=0;for(var p;f;){if(f.nodeType===3){if(p=a+f.textContent.length,a<=l&&p>=l)return{node:f,offset:l-a};a=p}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=R1(f)}}function x1(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?x1(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function M1(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var l=so(a.document);l instanceof a.HTMLIFrameElement;){try{var f=typeof l.contentWindow.location.href=="string"}catch{f=!1}if(f)a=l.contentWindow;else break;l=so(a.document)}return l}function S0(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}var q5=Zr&&"documentMode"in document&&11>=document.documentMode,Vu=null,b0=null,ld=null,w0=!1;function N1(a,l,f){var p=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;w0||Vu==null||Vu!==so(p)||(p=Vu,"selectionStart"in p&&S0(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),ld&&sd(ld,p)||(ld=p,p=pg(b0,"onSelect"),0<p.length&&(l=new co("onSelect","select",null,l,f),a.push({event:l,listeners:p}),l.target=Vu)))}function dl(a,l){var f={};return f[a.toLowerCase()]=l.toLowerCase(),f["Webkit"+a]="webkit"+l,f["Moz"+a]="moz"+l,f}var Uu={animationend:dl("Animation","AnimationEnd"),animationiteration:dl("Animation","AnimationIteration"),animationstart:dl("Animation","AnimationStart"),transitionrun:dl("Transition","TransitionRun"),transitionstart:dl("Transition","TransitionStart"),transitioncancel:dl("Transition","TransitionCancel"),transitionend:dl("Transition","TransitionEnd")},A0={},D1={};Zr&&(D1=document.createElement("div").style,"AnimationEvent"in window||(delete Uu.animationend.animation,delete Uu.animationiteration.animation,delete Uu.animationstart.animation),"TransitionEvent"in window||delete Uu.transitionend.transition);function hl(a){if(A0[a])return A0[a];if(!Uu[a])return a;var l=Uu[a],f;for(f in l)if(l.hasOwnProperty(f)&&f in D1)return A0[a]=l[f];return a}var O1=hl("animationend"),k1=hl("animationiteration"),L1=hl("animationstart"),B5=hl("transitionrun"),z5=hl("transitionstart"),G5=hl("transitioncancel"),V1=hl("transitionend"),U1=new Map,I0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");I0.push("scrollEnd");function Oi(a,l){U1.set(a,l),oo(l,[a])}var Cm=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},ti=[],Fu=0,C0=0;function Rm(){for(var a=Fu,l=C0=Fu=0;l<a;){var f=ti[l];ti[l++]=null;var p=ti[l];ti[l++]=null;var E=ti[l];ti[l++]=null;var T=ti[l];if(ti[l++]=null,p!==null&&E!==null){var I=p.pending;I===null?E.next=E:(E.next=I.next,I.next=E),p.pending=E}T!==0&&F1(f,E,T)}}function Pm(a,l,f,p){ti[Fu++]=a,ti[Fu++]=l,ti[Fu++]=f,ti[Fu++]=p,C0|=p,a.lanes|=p,a=a.alternate,a!==null&&(a.lanes|=p)}function R0(a,l,f,p){return Pm(a,l,f,p),xm(a)}function pl(a,l){return Pm(a,null,null,l),xm(a)}function F1(a,l,f){a.lanes|=f;var p=a.alternate;p!==null&&(p.lanes|=f);for(var E=!1,T=a.return;T!==null;)T.childLanes|=f,p=T.alternate,p!==null&&(p.childLanes|=f),T.tag===22&&(a=T.stateNode,a===null||a._visibility&1||(E=!0)),a=T,T=T.return;return a.tag===3?(T=a.stateNode,E&&l!==null&&(E=31-en(f),a=T.hiddenUpdates,p=a[E],p===null?a[E]=[l]:p.push(l),l.lane=f|536870912),T):null}function xm(a){if(50<xd)throw xd=0,VE=null,Error(r(185));for(var l=a.return;l!==null;)a=l,l=a.return;return a.tag===3?a.stateNode:null}var qu={};function H5(a,l,f,p){this.tag=a,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xr(a,l,f,p){return new H5(a,l,f,p)}function P0(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Fo(a,l){var f=a.alternate;return f===null?(f=xr(a.tag,l,a.key,a.mode),f.elementType=a.elementType,f.type=a.type,f.stateNode=a.stateNode,f.alternate=a,a.alternate=f):(f.pendingProps=l,f.type=a.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=a.flags&65011712,f.childLanes=a.childLanes,f.lanes=a.lanes,f.child=a.child,f.memoizedProps=a.memoizedProps,f.memoizedState=a.memoizedState,f.updateQueue=a.updateQueue,l=a.dependencies,f.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},f.sibling=a.sibling,f.index=a.index,f.ref=a.ref,f.refCleanup=a.refCleanup,f}function q1(a,l){a.flags&=65011714;var f=a.alternate;return f===null?(a.childLanes=0,a.lanes=l,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=f.childLanes,a.lanes=f.lanes,a.child=f.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=f.memoizedProps,a.memoizedState=f.memoizedState,a.updateQueue=f.updateQueue,a.type=f.type,l=f.dependencies,a.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),a}function Mm(a,l,f,p,E,T){var I=0;if(p=a,typeof a=="function")P0(a)&&(I=1);else if(typeof a=="string")I=jG(a,f,ve.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case x:return a=xr(31,f,l,E),a.elementType=x,a.lanes=T,a;case A:return ml(f.children,E,T,l);case C:I=8,E|=24;break;case M:return a=xr(12,f,l,E|2),a.elementType=M,a.lanes=T,a;case z:return a=xr(13,f,l,E),a.elementType=z,a.lanes=T,a;case G:return a=xr(19,f,l,E),a.elementType=G,a.lanes=T,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case L:I=10;break e;case U:I=9;break e;case H:I=11;break e;case P:I=14;break e;case D:I=16,p=null;break e}I=29,f=Error(r(130,a===null?"null":typeof a,"")),p=null}return l=xr(I,f,l,E),l.elementType=a,l.type=p,l.lanes=T,l}function ml(a,l,f,p){return a=xr(7,a,p,l),a.lanes=f,a}function x0(a,l,f){return a=xr(6,a,null,l),a.lanes=f,a}function B1(a){var l=xr(18,null,null,0);return l.stateNode=a,l}function M0(a,l,f){return l=xr(4,a.children!==null?a.children:[],a.key,l),l.lanes=f,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}var z1=new WeakMap;function ni(a,l){if(typeof a=="object"&&a!==null){var f=z1.get(a);return f!==void 0?f:(l={value:a,source:l,stack:Da(l)},z1.set(a,l),l)}return{value:a,source:l,stack:Da(l)}}var Bu=[],zu=0,Nm=null,ud=0,ri=[],ii=0,$a=null,mo=1,go="";function qo(a,l){Bu[zu++]=ud,Bu[zu++]=Nm,Nm=a,ud=l}function G1(a,l,f){ri[ii++]=mo,ri[ii++]=go,ri[ii++]=$a,$a=a;var p=mo;a=go;var E=32-en(p)-1;p&=~(1<<E),f+=1;var T=32-en(l)+E;if(30<T){var I=E-E%5;T=(p&(1<<I)-1).toString(32),p>>=I,E-=I,mo=1<<32-en(l)+E|f<<E|p,go=T+a}else mo=1<<T|f<<E|p,go=a}function N0(a){a.return!==null&&(qo(a,1),G1(a,1,0))}function D0(a){for(;a===Nm;)Nm=Bu[--zu],Bu[zu]=null,ud=Bu[--zu],Bu[zu]=null;for(;a===$a;)$a=ri[--ii],ri[ii]=null,go=ri[--ii],ri[ii]=null,mo=ri[--ii],ri[ii]=null}function H1(a,l){ri[ii++]=mo,ri[ii++]=go,ri[ii++]=$a,mo=l.id,go=l.overflow,$a=a}var $n=null,Rt=null,nt=!1,Ka=null,oi=!1,O0=Error(r(519));function Ya(a){var l=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw cd(ni(l,a)),O0}function $1(a){var l=a.stateNode,f=a.type,p=a.memoizedProps;switch(l[cn]=a,l[Dn]=p,f){case"dialog":Xe("cancel",l),Xe("close",l);break;case"iframe":case"object":case"embed":Xe("load",l);break;case"video":case"audio":for(f=0;f<Nd.length;f++)Xe(Nd[f],l);break;case"source":Xe("error",l);break;case"img":case"image":case"link":Xe("error",l),Xe("load",l);break;case"details":Xe("toggle",l);break;case"input":Xe("invalid",l),fm(l,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0);break;case"select":Xe("invalid",l);break;case"textarea":Xe("invalid",l),Ua(l,p.value,p.defaultValue,p.children)}f=p.children,typeof f!="string"&&typeof f!="number"&&typeof f!="bigint"||l.textContent===""+f||p.suppressHydrationWarning===!0||lx(l.textContent,f)?(p.popover!=null&&(Xe("beforetoggle",l),Xe("toggle",l)),p.onScroll!=null&&Xe("scroll",l),p.onScrollEnd!=null&&Xe("scrollend",l),p.onClick!=null&&(l.onclick=Pi),l=!0):l=!1,l||Ya(a,!0)}function K1(a){for($n=a.return;$n;)switch($n.tag){case 5:case 31:case 13:oi=!1;return;case 27:case 3:oi=!0;return;default:$n=$n.return}}function Gu(a){if(a!==$n)return!1;if(!nt)return K1(a),nt=!0,!1;var l=a.tag,f;if((f=l!==3&&l!==27)&&((f=l===5)&&(f=a.type,f=!(f!=="form"&&f!=="button")||QE(a.type,a.memoizedProps)),f=!f),f&&Rt&&Ya(a),K1(a),l===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Rt=yx(a)}else if(l===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Rt=yx(a)}else l===27?(l=Rt,ss(a.type)?(a=rT,rT=null,Rt=a):Rt=l):Rt=$n?si(a.stateNode.nextSibling):null;return!0}function gl(){Rt=$n=null,nt=!1}function k0(){var a=Ka;return a!==null&&(yr===null?yr=a:yr.push.apply(yr,a),Ka=null),a}function cd(a){Ka===null?Ka=[a]:Ka.push(a)}var L0=K(null),yl=null,Bo=null;function Wa(a,l,f){me(L0,l._currentValue),l._currentValue=f}function zo(a){a._currentValue=L0.current,oe(L0)}function V0(a,l,f){for(;a!==null;){var p=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,p!==null&&(p.childLanes|=l)):p!==null&&(p.childLanes&l)!==l&&(p.childLanes|=l),a===f)break;a=a.return}}function U0(a,l,f,p){var E=a.child;for(E!==null&&(E.return=a);E!==null;){var T=E.dependencies;if(T!==null){var I=E.child;T=T.firstContext;e:for(;T!==null;){var O=T;T=E;for(var $=0;$<l.length;$++)if(O.context===l[$]){T.lanes|=f,O=T.alternate,O!==null&&(O.lanes|=f),V0(T.return,f,a),p||(I=null);break e}T=O.next}}else if(E.tag===18){if(I=E.return,I===null)throw Error(r(341));I.lanes|=f,T=I.alternate,T!==null&&(T.lanes|=f),V0(I,f,a),I=null}else I=E.child;if(I!==null)I.return=E;else for(I=E;I!==null;){if(I===a){I=null;break}if(E=I.sibling,E!==null){E.return=I.return,I=E;break}I=I.return}E=I}}function Hu(a,l,f,p){a=null;for(var E=l,T=!1;E!==null;){if(!T){if((E.flags&524288)!==0)T=!0;else if((E.flags&262144)!==0)break}if(E.tag===10){var I=E.alternate;if(I===null)throw Error(r(387));if(I=I.memoizedProps,I!==null){var O=E.type;Pr(E.pendingProps.value,I.value)||(a!==null?a.push(O):a=[O])}}else if(E===Oe.current){if(I=E.alternate,I===null)throw Error(r(387));I.memoizedState.memoizedState!==E.memoizedState.memoizedState&&(a!==null?a.push(Vd):a=[Vd])}E=E.return}a!==null&&U0(l,a,f,p),l.flags|=262144}function Dm(a){for(a=a.firstContext;a!==null;){if(!Pr(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function vl(a){yl=a,Bo=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Kn(a){return Y1(yl,a)}function Om(a,l){return yl===null&&vl(a),Y1(a,l)}function Y1(a,l){var f=l._currentValue;if(l={context:l,memoizedValue:f,next:null},Bo===null){if(a===null)throw Error(r(308));Bo=l,a.dependencies={lanes:0,firstContext:l},a.flags|=524288}else Bo=Bo.next=l;return f}var $5=typeof AbortController<"u"?AbortController:function(){var a=[],l=this.signal={aborted:!1,addEventListener:function(f,p){a.push(p)}};this.abort=function(){l.aborted=!0,a.forEach(function(f){return f()})}},K5=t.unstable_scheduleCallback,Y5=t.unstable_NormalPriority,hn={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function F0(){return{controller:new $5,data:new Map,refCount:0}}function fd(a){a.refCount--,a.refCount===0&&K5(Y5,function(){a.controller.abort()})}var dd=null,q0=0,$u=0,Ku=null;function W5(a,l){if(dd===null){var f=dd=[];q0=0,$u=GE(),Ku={status:"pending",value:void 0,then:function(p){f.push(p)}}}return q0++,l.then(W1,W1),l}function W1(){if(--q0===0&&dd!==null){Ku!==null&&(Ku.status="fulfilled");var a=dd;dd=null,$u=0,Ku=null;for(var l=0;l<a.length;l++)(0,a[l])()}}function j5(a,l){var f=[],p={status:"pending",value:null,reason:null,then:function(E){f.push(E)}};return a.then(function(){p.status="fulfilled",p.value=l;for(var E=0;E<f.length;E++)(0,f[E])(l)},function(E){for(p.status="rejected",p.reason=E,E=0;E<f.length;E++)(0,f[E])(void 0)}),p}var j1=Q.S;Q.S=function(a,l){NP=ir(),typeof l=="object"&&l!==null&&typeof l.then=="function"&&W5(a,l),j1!==null&&j1(a,l)};var _l=K(null);function B0(){var a=_l.current;return a!==null?a:wt.pooledCache}function km(a,l){l===null?me(_l,_l.current):me(_l,l.pool)}function J1(){var a=B0();return a===null?null:{parent:hn._currentValue,pool:a}}var Yu=Error(r(460)),z0=Error(r(474)),Lm=Error(r(542)),Vm={then:function(){}};function X1(a){return a=a.status,a==="fulfilled"||a==="rejected"}function Q1(a,l,f){switch(f=a[f],f===void 0?a.push(l):f!==l&&(l.then(Pi,Pi),l=f),l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,eR(a),a;default:if(typeof l.status=="string")l.then(Pi,Pi);else{if(a=wt,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=l,a.status="pending",a.then(function(p){if(l.status==="pending"){var E=l;E.status="fulfilled",E.value=p}},function(p){if(l.status==="pending"){var E=l;E.status="rejected",E.reason=p}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,eR(a),a}throw Tl=l,Yu}}function El(a){try{var l=a._init;return l(a._payload)}catch(f){throw f!==null&&typeof f=="object"&&typeof f.then=="function"?(Tl=f,Yu):f}}var Tl=null;function Z1(){if(Tl===null)throw Error(r(459));var a=Tl;return Tl=null,a}function eR(a){if(a===Yu||a===Lm)throw Error(r(483))}var Wu=null,hd=0;function Um(a){var l=hd;return hd+=1,Wu===null&&(Wu=[]),Q1(Wu,a,l)}function pd(a,l){l=l.props.ref,a.ref=l!==void 0?l:null}function Fm(a,l){throw l.$$typeof===_?Error(r(525)):(a=Object.prototype.toString.call(l),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a)))}function tR(a){function l(W,Y){if(a){var Z=W.deletions;Z===null?(W.deletions=[Y],W.flags|=16):Z.push(Y)}}function f(W,Y){if(!a)return null;for(;Y!==null;)l(W,Y),Y=Y.sibling;return null}function p(W){for(var Y=new Map;W!==null;)W.key!==null?Y.set(W.key,W):Y.set(W.index,W),W=W.sibling;return Y}function E(W,Y){return W=Fo(W,Y),W.index=0,W.sibling=null,W}function T(W,Y,Z){return W.index=Z,a?(Z=W.alternate,Z!==null?(Z=Z.index,Z<Y?(W.flags|=67108866,Y):Z):(W.flags|=67108866,Y)):(W.flags|=1048576,Y)}function I(W){return a&&W.alternate===null&&(W.flags|=67108866),W}function O(W,Y,Z,ue){return Y===null||Y.tag!==6?(Y=x0(Z,W.mode,ue),Y.return=W,Y):(Y=E(Y,Z),Y.return=W,Y)}function $(W,Y,Z,ue){var Pe=Z.type;return Pe===A?ae(W,Y,Z.props.children,ue,Z.key):Y!==null&&(Y.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===D&&El(Pe)===Y.type)?(Y=E(Y,Z.props),pd(Y,Z),Y.return=W,Y):(Y=Mm(Z.type,Z.key,Z.props,null,W.mode,ue),pd(Y,Z),Y.return=W,Y)}function ee(W,Y,Z,ue){return Y===null||Y.tag!==4||Y.stateNode.containerInfo!==Z.containerInfo||Y.stateNode.implementation!==Z.implementation?(Y=M0(Z,W.mode,ue),Y.return=W,Y):(Y=E(Y,Z.children||[]),Y.return=W,Y)}function ae(W,Y,Z,ue,Pe){return Y===null||Y.tag!==7?(Y=ml(Z,W.mode,ue,Pe),Y.return=W,Y):(Y=E(Y,Z),Y.return=W,Y)}function ce(W,Y,Z){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return Y=x0(""+Y,W.mode,Z),Y.return=W,Y;if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case S:return Z=Mm(Y.type,Y.key,Y.props,null,W.mode,Z),pd(Z,Y),Z.return=W,Z;case w:return Y=M0(Y,W.mode,Z),Y.return=W,Y;case D:return Y=El(Y),ce(W,Y,Z)}if(De(Y)||B(Y))return Y=ml(Y,W.mode,Z,null),Y.return=W,Y;if(typeof Y.then=="function")return ce(W,Um(Y),Z);if(Y.$$typeof===L)return ce(W,Om(W,Y),Z);Fm(W,Y)}return null}function te(W,Y,Z,ue){var Pe=Y!==null?Y.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Pe!==null?null:O(W,Y,""+Z,ue);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case S:return Z.key===Pe?$(W,Y,Z,ue):null;case w:return Z.key===Pe?ee(W,Y,Z,ue):null;case D:return Z=El(Z),te(W,Y,Z,ue)}if(De(Z)||B(Z))return Pe!==null?null:ae(W,Y,Z,ue,null);if(typeof Z.then=="function")return te(W,Y,Um(Z),ue);if(Z.$$typeof===L)return te(W,Y,Om(W,Z),ue);Fm(W,Z)}return null}function ie(W,Y,Z,ue,Pe){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return W=W.get(Z)||null,O(Y,W,""+ue,Pe);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case S:return W=W.get(ue.key===null?Z:ue.key)||null,$(Y,W,ue,Pe);case w:return W=W.get(ue.key===null?Z:ue.key)||null,ee(Y,W,ue,Pe);case D:return ue=El(ue),ie(W,Y,Z,ue,Pe)}if(De(ue)||B(ue))return W=W.get(Z)||null,ae(Y,W,ue,Pe,null);if(typeof ue.then=="function")return ie(W,Y,Z,Um(ue),Pe);if(ue.$$typeof===L)return ie(W,Y,Z,Om(Y,ue),Pe);Fm(Y,ue)}return null}function we(W,Y,Z,ue){for(var Pe=null,it=null,Ie=Y,He=Y=0,et=null;Ie!==null&&He<Z.length;He++){Ie.index>He?(et=Ie,Ie=null):et=Ie.sibling;var ot=te(W,Ie,Z[He],ue);if(ot===null){Ie===null&&(Ie=et);break}a&&Ie&&ot.alternate===null&&l(W,Ie),Y=T(ot,Y,He),it===null?Pe=ot:it.sibling=ot,it=ot,Ie=et}if(He===Z.length)return f(W,Ie),nt&&qo(W,He),Pe;if(Ie===null){for(;He<Z.length;He++)Ie=ce(W,Z[He],ue),Ie!==null&&(Y=T(Ie,Y,He),it===null?Pe=Ie:it.sibling=Ie,it=Ie);return nt&&qo(W,He),Pe}for(Ie=p(Ie);He<Z.length;He++)et=ie(Ie,W,He,Z[He],ue),et!==null&&(a&&et.alternate!==null&&Ie.delete(et.key===null?He:et.key),Y=T(et,Y,He),it===null?Pe=et:it.sibling=et,it=et);return a&&Ie.forEach(function(ds){return l(W,ds)}),nt&&qo(W,He),Pe}function Ne(W,Y,Z,ue){if(Z==null)throw Error(r(151));for(var Pe=null,it=null,Ie=Y,He=Y=0,et=null,ot=Z.next();Ie!==null&&!ot.done;He++,ot=Z.next()){Ie.index>He?(et=Ie,Ie=null):et=Ie.sibling;var ds=te(W,Ie,ot.value,ue);if(ds===null){Ie===null&&(Ie=et);break}a&&Ie&&ds.alternate===null&&l(W,Ie),Y=T(ds,Y,He),it===null?Pe=ds:it.sibling=ds,it=ds,Ie=et}if(ot.done)return f(W,Ie),nt&&qo(W,He),Pe;if(Ie===null){for(;!ot.done;He++,ot=Z.next())ot=ce(W,ot.value,ue),ot!==null&&(Y=T(ot,Y,He),it===null?Pe=ot:it.sibling=ot,it=ot);return nt&&qo(W,He),Pe}for(Ie=p(Ie);!ot.done;He++,ot=Z.next())ot=ie(Ie,W,He,ot.value,ue),ot!==null&&(a&&ot.alternate!==null&&Ie.delete(ot.key===null?He:ot.key),Y=T(ot,Y,He),it===null?Pe=ot:it.sibling=ot,it=ot);return a&&Ie.forEach(function(aH){return l(W,aH)}),nt&&qo(W,He),Pe}function St(W,Y,Z,ue){if(typeof Z=="object"&&Z!==null&&Z.type===A&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case S:e:{for(var Pe=Z.key;Y!==null;){if(Y.key===Pe){if(Pe=Z.type,Pe===A){if(Y.tag===7){f(W,Y.sibling),ue=E(Y,Z.props.children),ue.return=W,W=ue;break e}}else if(Y.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===D&&El(Pe)===Y.type){f(W,Y.sibling),ue=E(Y,Z.props),pd(ue,Z),ue.return=W,W=ue;break e}f(W,Y);break}else l(W,Y);Y=Y.sibling}Z.type===A?(ue=ml(Z.props.children,W.mode,ue,Z.key),ue.return=W,W=ue):(ue=Mm(Z.type,Z.key,Z.props,null,W.mode,ue),pd(ue,Z),ue.return=W,W=ue)}return I(W);case w:e:{for(Pe=Z.key;Y!==null;){if(Y.key===Pe)if(Y.tag===4&&Y.stateNode.containerInfo===Z.containerInfo&&Y.stateNode.implementation===Z.implementation){f(W,Y.sibling),ue=E(Y,Z.children||[]),ue.return=W,W=ue;break e}else{f(W,Y);break}else l(W,Y);Y=Y.sibling}ue=M0(Z,W.mode,ue),ue.return=W,W=ue}return I(W);case D:return Z=El(Z),St(W,Y,Z,ue)}if(De(Z))return we(W,Y,Z,ue);if(B(Z)){if(Pe=B(Z),typeof Pe!="function")throw Error(r(150));return Z=Pe.call(Z),Ne(W,Y,Z,ue)}if(typeof Z.then=="function")return St(W,Y,Um(Z),ue);if(Z.$$typeof===L)return St(W,Y,Om(W,Z),ue);Fm(W,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,Y!==null&&Y.tag===6?(f(W,Y.sibling),ue=E(Y,Z),ue.return=W,W=ue):(f(W,Y),ue=x0(Z,W.mode,ue),ue.return=W,W=ue),I(W)):f(W,Y)}return function(W,Y,Z,ue){try{hd=0;var Pe=St(W,Y,Z,ue);return Wu=null,Pe}catch(Ie){if(Ie===Yu||Ie===Lm)throw Ie;var it=xr(29,Ie,null,W.mode);return it.lanes=ue,it.return=W,it}finally{}}}var Sl=tR(!0),nR=tR(!1),ja=!1;function G0(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function H0(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Ja(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Xa(a,l,f){var p=a.updateQueue;if(p===null)return null;if(p=p.shared,(ut&2)!==0){var E=p.pending;return E===null?l.next=l:(l.next=E.next,E.next=l),p.pending=l,l=xm(a),F1(a,null,f),l}return Pm(a,p,l,f),xm(a)}function md(a,l,f){if(l=l.updateQueue,l!==null&&(l=l.shared,(f&4194048)!==0)){var p=l.lanes;p&=a.pendingLanes,f|=p,l.lanes=f,zf(a,f)}}function $0(a,l){var f=a.updateQueue,p=a.alternate;if(p!==null&&(p=p.updateQueue,f===p)){var E=null,T=null;if(f=f.firstBaseUpdate,f!==null){do{var I={lane:f.lane,tag:f.tag,payload:f.payload,callback:null,next:null};T===null?E=T=I:T=T.next=I,f=f.next}while(f!==null);T===null?E=T=l:T=T.next=l}else E=T=l;f={baseState:p.baseState,firstBaseUpdate:E,lastBaseUpdate:T,shared:p.shared,callbacks:p.callbacks},a.updateQueue=f;return}a=f.lastBaseUpdate,a===null?f.firstBaseUpdate=l:a.next=l,f.lastBaseUpdate=l}var K0=!1;function gd(){if(K0){var a=Ku;if(a!==null)throw a}}function yd(a,l,f,p){K0=!1;var E=a.updateQueue;ja=!1;var T=E.firstBaseUpdate,I=E.lastBaseUpdate,O=E.shared.pending;if(O!==null){E.shared.pending=null;var $=O,ee=$.next;$.next=null,I===null?T=ee:I.next=ee,I=$;var ae=a.alternate;ae!==null&&(ae=ae.updateQueue,O=ae.lastBaseUpdate,O!==I&&(O===null?ae.firstBaseUpdate=ee:O.next=ee,ae.lastBaseUpdate=$))}if(T!==null){var ce=E.baseState;I=0,ae=ee=$=null,O=T;do{var te=O.lane&-536870913,ie=te!==O.lane;if(ie?(Ze&te)===te:(p&te)===te){te!==0&&te===$u&&(K0=!0),ae!==null&&(ae=ae.next={lane:0,tag:O.tag,payload:O.payload,callback:null,next:null});e:{var we=a,Ne=O;te=l;var St=f;switch(Ne.tag){case 1:if(we=Ne.payload,typeof we=="function"){ce=we.call(St,ce,te);break e}ce=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=Ne.payload,te=typeof we=="function"?we.call(St,ce,te):we,te==null)break e;ce=m({},ce,te);break e;case 2:ja=!0}}te=O.callback,te!==null&&(a.flags|=64,ie&&(a.flags|=8192),ie=E.callbacks,ie===null?E.callbacks=[te]:ie.push(te))}else ie={lane:te,tag:O.tag,payload:O.payload,callback:O.callback,next:null},ae===null?(ee=ae=ie,$=ce):ae=ae.next=ie,I|=te;if(O=O.next,O===null){if(O=E.shared.pending,O===null)break;ie=O,O=ie.next,ie.next=null,E.lastBaseUpdate=ie,E.shared.pending=null}}while(!0);ae===null&&($=ce),E.baseState=$,E.firstBaseUpdate=ee,E.lastBaseUpdate=ae,T===null&&(E.shared.lanes=0),ns|=I,a.lanes=I,a.memoizedState=ce}}function rR(a,l){if(typeof a!="function")throw Error(r(191,a));a.call(l)}function iR(a,l){var f=a.callbacks;if(f!==null)for(a.callbacks=null,a=0;a<f.length;a++)rR(f[a],l)}var ju=K(null),qm=K(0);function oR(a,l){a=Xo,me(qm,a),me(ju,l),Xo=a|l.baseLanes}function Y0(){me(qm,Xo),me(ju,ju.current)}function W0(){Xo=qm.current,oe(ju),oe(qm)}var Mr=K(null),ai=null;function Qa(a){var l=a.alternate;me(nn,nn.current&1),me(Mr,a),ai===null&&(l===null||ju.current!==null||l.memoizedState!==null)&&(ai=a)}function j0(a){me(nn,nn.current),me(Mr,a),ai===null&&(ai=a)}function aR(a){a.tag===22?(me(nn,nn.current),me(Mr,a),ai===null&&(ai=a)):Za()}function Za(){me(nn,nn.current),me(Mr,Mr.current)}function Nr(a){oe(Mr),ai===a&&(ai=null),oe(nn)}var nn=K(0);function Bm(a){for(var l=a;l!==null;){if(l.tag===13){var f=l.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||tT(f)||nT(f)))return l}else if(l.tag===19&&(l.memoizedProps.revealOrder==="forwards"||l.memoizedProps.revealOrder==="backwards"||l.memoizedProps.revealOrder==="unstable_legacy-backwards"||l.memoizedProps.revealOrder==="together")){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var Go=0,Ge=null,Et=null,pn=null,zm=!1,Ju=!1,bl=!1,Gm=0,vd=0,Xu=null,J5=0;function $t(){throw Error(r(321))}function J0(a,l){if(l===null)return!1;for(var f=0;f<l.length&&f<a.length;f++)if(!Pr(a[f],l[f]))return!1;return!0}function X0(a,l,f,p,E,T){return Go=T,Ge=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,Q.H=a===null||a.memoizedState===null?GR:dE,bl=!1,T=f(p,E),bl=!1,Ju&&(T=lR(l,f,p,E)),sR(a),T}function sR(a){Q.H=Td;var l=Et!==null&&Et.next!==null;if(Go=0,pn=Et=Ge=null,zm=!1,vd=0,Xu=null,l)throw Error(r(300));a===null||mn||(a=a.dependencies,a!==null&&Dm(a)&&(mn=!0))}function lR(a,l,f,p){Ge=a;var E=0;do{if(Ju&&(Xu=null),vd=0,Ju=!1,25<=E)throw Error(r(301));if(E+=1,pn=Et=null,a.updateQueue!=null){var T=a.updateQueue;T.lastEffect=null,T.events=null,T.stores=null,T.memoCache!=null&&(T.memoCache.index=0)}Q.H=HR,T=l(f,p)}while(Ju);return T}function X5(){var a=Q.H,l=a.useState()[0];return l=typeof l.then=="function"?_d(l):l,a=a.useState()[0],(Et!==null?Et.memoizedState:null)!==a&&(Ge.flags|=1024),l}function Q0(){var a=Gm!==0;return Gm=0,a}function Z0(a,l,f){l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~f}function eE(a){if(zm){for(a=a.memoizedState;a!==null;){var l=a.queue;l!==null&&(l.pending=null),a=a.next}zm=!1}Go=0,pn=Et=Ge=null,Ju=!1,vd=Gm=0,Xu=null}function ar(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pn===null?Ge.memoizedState=pn=a:pn=pn.next=a,pn}function rn(){if(Et===null){var a=Ge.alternate;a=a!==null?a.memoizedState:null}else a=Et.next;var l=pn===null?Ge.memoizedState:pn.next;if(l!==null)pn=l,Et=a;else{if(a===null)throw Ge.alternate===null?Error(r(467)):Error(r(310));Et=a,a={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},pn===null?Ge.memoizedState=pn=a:pn=pn.next=a}return pn}function Hm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function _d(a){var l=vd;return vd+=1,Xu===null&&(Xu=[]),a=Q1(Xu,a,l),l=Ge,(pn===null?l.memoizedState:pn.next)===null&&(l=l.alternate,Q.H=l===null||l.memoizedState===null?GR:dE),a}function $m(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return _d(a);if(a.$$typeof===L)return Kn(a)}throw Error(r(438,String(a)))}function tE(a){var l=null,f=Ge.updateQueue;if(f!==null&&(l=f.memoCache),l==null){var p=Ge.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(l={data:p.data.map(function(E){return E.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),f===null&&(f=Hm(),Ge.updateQueue=f),f.memoCache=l,f=l.data[l.index],f===void 0)for(f=l.data[l.index]=Array(a),p=0;p<a;p++)f[p]=F;return l.index++,f}function Ho(a,l){return typeof l=="function"?l(a):l}function Km(a){var l=rn();return nE(l,Et,a)}function nE(a,l,f){var p=a.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=f;var E=a.baseQueue,T=p.pending;if(T!==null){if(E!==null){var I=E.next;E.next=T.next,T.next=I}l.baseQueue=E=T,p.pending=null}if(T=a.baseState,E===null)a.memoizedState=T;else{l=E.next;var O=I=null,$=null,ee=l,ae=!1;do{var ce=ee.lane&-536870913;if(ce!==ee.lane?(Ze&ce)===ce:(Go&ce)===ce){var te=ee.revertLane;if(te===0)$!==null&&($=$.next={lane:0,revertLane:0,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),ce===$u&&(ae=!0);else if((Go&te)===te){ee=ee.next,te===$u&&(ae=!0);continue}else ce={lane:0,revertLane:ee.revertLane,gesture:null,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},$===null?(O=$=ce,I=T):$=$.next=ce,Ge.lanes|=te,ns|=te;ce=ee.action,bl&&f(T,ce),T=ee.hasEagerState?ee.eagerState:f(T,ce)}else te={lane:ce,revertLane:ee.revertLane,gesture:ee.gesture,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},$===null?(O=$=te,I=T):$=$.next=te,Ge.lanes|=ce,ns|=ce;ee=ee.next}while(ee!==null&&ee!==l);if($===null?I=T:$.next=O,!Pr(T,a.memoizedState)&&(mn=!0,ae&&(f=Ku,f!==null)))throw f;a.memoizedState=T,a.baseState=I,a.baseQueue=$,p.lastRenderedState=T}return E===null&&(p.lanes=0),[a.memoizedState,p.dispatch]}function rE(a){var l=rn(),f=l.queue;if(f===null)throw Error(r(311));f.lastRenderedReducer=a;var p=f.dispatch,E=f.pending,T=l.memoizedState;if(E!==null){f.pending=null;var I=E=E.next;do T=a(T,I.action),I=I.next;while(I!==E);Pr(T,l.memoizedState)||(mn=!0),l.memoizedState=T,l.baseQueue===null&&(l.baseState=T),f.lastRenderedState=T}return[T,p]}function uR(a,l,f){var p=Ge,E=rn(),T=nt;if(T){if(f===void 0)throw Error(r(407));f=f()}else f=l();var I=!Pr((Et||E).memoizedState,f);if(I&&(E.memoizedState=f,mn=!0),E=E.queue,aE(dR.bind(null,p,E,a),[a]),E.getSnapshot!==l||I||pn!==null&&pn.memoizedState.tag&1){if(p.flags|=2048,Qu(9,{destroy:void 0},fR.bind(null,p,E,f,l),null),wt===null)throw Error(r(349));T||(Go&127)!==0||cR(p,l,f)}return f}function cR(a,l,f){a.flags|=16384,a={getSnapshot:l,value:f},l=Ge.updateQueue,l===null?(l=Hm(),Ge.updateQueue=l,l.stores=[a]):(f=l.stores,f===null?l.stores=[a]:f.push(a))}function fR(a,l,f,p){l.value=f,l.getSnapshot=p,hR(l)&&pR(a)}function dR(a,l,f){return f(function(){hR(l)&&pR(a)})}function hR(a){var l=a.getSnapshot;a=a.value;try{var f=l();return!Pr(a,f)}catch{return!0}}function pR(a){var l=pl(a,2);l!==null&&vr(l,a,2)}function iE(a){var l=ar();if(typeof a=="function"){var f=a;if(a=f(),bl){Jr(!0);try{f()}finally{Jr(!1)}}}return l.memoizedState=l.baseState=a,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ho,lastRenderedState:a},l}function mR(a,l,f,p){return a.baseState=f,nE(a,Et,typeof p=="function"?p:Ho)}function Q5(a,l,f,p,E){if(jm(a))throw Error(r(485));if(a=l.action,a!==null){var T={payload:E,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(I){T.listeners.push(I)}};Q.T!==null?f(!0):T.isTransition=!1,p(T),f=l.pending,f===null?(T.next=l.pending=T,gR(l,T)):(T.next=f.next,l.pending=f.next=T)}}function gR(a,l){var f=l.action,p=l.payload,E=a.state;if(l.isTransition){var T=Q.T,I={};Q.T=I;try{var O=f(E,p),$=Q.S;$!==null&&$(I,O),yR(a,l,O)}catch(ee){oE(a,l,ee)}finally{T!==null&&I.types!==null&&(T.types=I.types),Q.T=T}}else try{T=f(E,p),yR(a,l,T)}catch(ee){oE(a,l,ee)}}function yR(a,l,f){f!==null&&typeof f=="object"&&typeof f.then=="function"?f.then(function(p){vR(a,l,p)},function(p){return oE(a,l,p)}):vR(a,l,f)}function vR(a,l,f){l.status="fulfilled",l.value=f,_R(l),a.state=f,l=a.pending,l!==null&&(f=l.next,f===l?a.pending=null:(f=f.next,l.next=f,gR(a,f)))}function oE(a,l,f){var p=a.pending;if(a.pending=null,p!==null){p=p.next;do l.status="rejected",l.reason=f,_R(l),l=l.next;while(l!==p)}a.action=null}function _R(a){a=a.listeners;for(var l=0;l<a.length;l++)(0,a[l])()}function ER(a,l){return l}function TR(a,l){if(nt){var f=wt.formState;if(f!==null){e:{var p=Ge;if(nt){if(Rt){t:{for(var E=Rt,T=oi;E.nodeType!==8;){if(!T){E=null;break t}if(E=si(E.nextSibling),E===null){E=null;break t}}T=E.data,E=T==="F!"||T==="F"?E:null}if(E){Rt=si(E.nextSibling),p=E.data==="F!";break e}}Ya(p)}p=!1}p&&(l=f[0])}}return f=ar(),f.memoizedState=f.baseState=l,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ER,lastRenderedState:l},f.queue=p,f=qR.bind(null,Ge,p),p.dispatch=f,p=iE(!1),T=fE.bind(null,Ge,!1,p.queue),p=ar(),E={state:l,dispatch:null,action:a,pending:null},p.queue=E,f=Q5.bind(null,Ge,E,T,f),E.dispatch=f,p.memoizedState=a,[l,f,!1]}function SR(a){var l=rn();return bR(l,Et,a)}function bR(a,l,f){if(l=nE(a,l,ER)[0],a=Km(Ho)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var p=_d(l)}catch(I){throw I===Yu?Lm:I}else p=l;l=rn();var E=l.queue,T=E.dispatch;return f!==l.memoizedState&&(Ge.flags|=2048,Qu(9,{destroy:void 0},Z5.bind(null,E,f),null)),[p,T,a]}function Z5(a,l){a.action=l}function wR(a){var l=rn(),f=Et;if(f!==null)return bR(l,f,a);rn(),l=l.memoizedState,f=rn();var p=f.queue.dispatch;return f.memoizedState=a,[l,p,!1]}function Qu(a,l,f,p){return a={tag:a,create:f,deps:p,inst:l,next:null},l=Ge.updateQueue,l===null&&(l=Hm(),Ge.updateQueue=l),f=l.lastEffect,f===null?l.lastEffect=a.next=a:(p=f.next,f.next=a,a.next=p,l.lastEffect=a),a}function AR(){return rn().memoizedState}function Ym(a,l,f,p){var E=ar();Ge.flags|=a,E.memoizedState=Qu(1|l,{destroy:void 0},f,p===void 0?null:p)}function Wm(a,l,f,p){var E=rn();p=p===void 0?null:p;var T=E.memoizedState.inst;Et!==null&&p!==null&&J0(p,Et.memoizedState.deps)?E.memoizedState=Qu(l,T,f,p):(Ge.flags|=a,E.memoizedState=Qu(1|l,T,f,p))}function IR(a,l){Ym(8390656,8,a,l)}function aE(a,l){Wm(2048,8,a,l)}function eG(a){Ge.flags|=4;var l=Ge.updateQueue;if(l===null)l=Hm(),Ge.updateQueue=l,l.events=[a];else{var f=l.events;f===null?l.events=[a]:f.push(a)}}function CR(a){var l=rn().memoizedState;return eG({ref:l,nextImpl:a}),function(){if((ut&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}function RR(a,l){return Wm(4,2,a,l)}function PR(a,l){return Wm(4,4,a,l)}function xR(a,l){if(typeof l=="function"){a=a();var f=l(a);return function(){typeof f=="function"?f():l(null)}}if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function MR(a,l,f){f=f!=null?f.concat([a]):null,Wm(4,4,xR.bind(null,l,a),f)}function sE(){}function NR(a,l){var f=rn();l=l===void 0?null:l;var p=f.memoizedState;return l!==null&&J0(l,p[1])?p[0]:(f.memoizedState=[a,l],a)}function DR(a,l){var f=rn();l=l===void 0?null:l;var p=f.memoizedState;if(l!==null&&J0(l,p[1]))return p[0];if(p=a(),bl){Jr(!0);try{a()}finally{Jr(!1)}}return f.memoizedState=[p,l],p}function lE(a,l,f){return f===void 0||(Go&1073741824)!==0&&(Ze&261930)===0?a.memoizedState=l:(a.memoizedState=f,a=OP(),Ge.lanes|=a,ns|=a,f)}function OR(a,l,f,p){return Pr(f,l)?f:ju.current!==null?(a=lE(a,f,p),Pr(a,l)||(mn=!0),a):(Go&42)===0||(Go&1073741824)!==0&&(Ze&261930)===0?(mn=!0,a.memoizedState=f):(a=OP(),Ge.lanes|=a,ns|=a,l)}function kR(a,l,f,p,E){var T=fe.p;fe.p=T!==0&&8>T?T:8;var I=Q.T,O={};Q.T=O,fE(a,!1,l,f);try{var $=E(),ee=Q.S;if(ee!==null&&ee(O,$),$!==null&&typeof $=="object"&&typeof $.then=="function"){var ae=j5($,p);Ed(a,l,ae,kr(a))}else Ed(a,l,p,kr(a))}catch(ce){Ed(a,l,{then:function(){},status:"rejected",reason:ce},kr())}finally{fe.p=T,I!==null&&O.types!==null&&(I.types=O.types),Q.T=I}}function tG(){}function uE(a,l,f,p){if(a.tag!==5)throw Error(r(476));var E=LR(a).queue;kR(a,E,l,Ee,f===null?tG:function(){return VR(a),f(p)})}function LR(a){var l=a.memoizedState;if(l!==null)return l;l={memoizedState:Ee,baseState:Ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ho,lastRenderedState:Ee},next:null};var f={};return l.next={memoizedState:f,baseState:f,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ho,lastRenderedState:f},next:null},a.memoizedState=l,a=a.alternate,a!==null&&(a.memoizedState=l),l}function VR(a){var l=LR(a);l.next===null&&(l=a.alternate.memoizedState),Ed(a,l.next.queue,{},kr())}function cE(){return Kn(Vd)}function UR(){return rn().memoizedState}function FR(){return rn().memoizedState}function nG(a){for(var l=a.return;l!==null;){switch(l.tag){case 24:case 3:var f=kr();a=Ja(f);var p=Xa(l,a,f);p!==null&&(vr(p,l,f),md(p,l,f)),l={cache:F0()},a.payload=l;return}l=l.return}}function rG(a,l,f){var p=kr();f={lane:p,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},jm(a)?BR(l,f):(f=R0(a,l,f,p),f!==null&&(vr(f,a,p),zR(f,l,p)))}function qR(a,l,f){var p=kr();Ed(a,l,f,p)}function Ed(a,l,f,p){var E={lane:p,revertLane:0,gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null};if(jm(a))BR(l,E);else{var T=a.alternate;if(a.lanes===0&&(T===null||T.lanes===0)&&(T=l.lastRenderedReducer,T!==null))try{var I=l.lastRenderedState,O=T(I,f);if(E.hasEagerState=!0,E.eagerState=O,Pr(O,I))return Pm(a,l,E,0),wt===null&&Rm(),!1}catch{}finally{}if(f=R0(a,l,E,p),f!==null)return vr(f,a,p),zR(f,l,p),!0}return!1}function fE(a,l,f,p){if(p={lane:2,revertLane:GE(),gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},jm(a)){if(l)throw Error(r(479))}else l=R0(a,f,p,2),l!==null&&vr(l,a,2)}function jm(a){var l=a.alternate;return a===Ge||l!==null&&l===Ge}function BR(a,l){Ju=zm=!0;var f=a.pending;f===null?l.next=l:(l.next=f.next,f.next=l),a.pending=l}function zR(a,l,f){if((f&4194048)!==0){var p=l.lanes;p&=a.pendingLanes,f|=p,l.lanes=f,zf(a,f)}}var Td={readContext:Kn,use:$m,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useLayoutEffect:$t,useInsertionEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useSyncExternalStore:$t,useId:$t,useHostTransitionStatus:$t,useFormState:$t,useActionState:$t,useOptimistic:$t,useMemoCache:$t,useCacheRefresh:$t};Td.useEffectEvent=$t;var GR={readContext:Kn,use:$m,useCallback:function(a,l){return ar().memoizedState=[a,l===void 0?null:l],a},useContext:Kn,useEffect:IR,useImperativeHandle:function(a,l,f){f=f!=null?f.concat([a]):null,Ym(4194308,4,xR.bind(null,l,a),f)},useLayoutEffect:function(a,l){return Ym(4194308,4,a,l)},useInsertionEffect:function(a,l){Ym(4,2,a,l)},useMemo:function(a,l){var f=ar();l=l===void 0?null:l;var p=a();if(bl){Jr(!0);try{a()}finally{Jr(!1)}}return f.memoizedState=[p,l],p},useReducer:function(a,l,f){var p=ar();if(f!==void 0){var E=f(l);if(bl){Jr(!0);try{f(l)}finally{Jr(!1)}}}else E=l;return p.memoizedState=p.baseState=E,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:E},p.queue=a,a=a.dispatch=rG.bind(null,Ge,a),[p.memoizedState,a]},useRef:function(a){var l=ar();return a={current:a},l.memoizedState=a},useState:function(a){a=iE(a);var l=a.queue,f=qR.bind(null,Ge,l);return l.dispatch=f,[a.memoizedState,f]},useDebugValue:sE,useDeferredValue:function(a,l){var f=ar();return lE(f,a,l)},useTransition:function(){var a=iE(!1);return a=kR.bind(null,Ge,a.queue,!0,!1),ar().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,l,f){var p=Ge,E=ar();if(nt){if(f===void 0)throw Error(r(407));f=f()}else{if(f=l(),wt===null)throw Error(r(349));(Ze&127)!==0||cR(p,l,f)}E.memoizedState=f;var T={value:f,getSnapshot:l};return E.queue=T,IR(dR.bind(null,p,T,a),[a]),p.flags|=2048,Qu(9,{destroy:void 0},fR.bind(null,p,T,f,l),null),f},useId:function(){var a=ar(),l=wt.identifierPrefix;if(nt){var f=go,p=mo;f=(p&~(1<<32-en(p)-1)).toString(32)+f,l="_"+l+"R_"+f,f=Gm++,0<f&&(l+="H"+f.toString(32)),l+="_"}else f=J5++,l="_"+l+"r_"+f.toString(32)+"_";return a.memoizedState=l},useHostTransitionStatus:cE,useFormState:TR,useActionState:TR,useOptimistic:function(a){var l=ar();l.memoizedState=l.baseState=a;var f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=f,l=fE.bind(null,Ge,!0,f),f.dispatch=l,[a,l]},useMemoCache:tE,useCacheRefresh:function(){return ar().memoizedState=nG.bind(null,Ge)},useEffectEvent:function(a){var l=ar(),f={impl:a};return l.memoizedState=f,function(){if((ut&2)!==0)throw Error(r(440));return f.impl.apply(void 0,arguments)}}},dE={readContext:Kn,use:$m,useCallback:NR,useContext:Kn,useEffect:aE,useImperativeHandle:MR,useInsertionEffect:RR,useLayoutEffect:PR,useMemo:DR,useReducer:Km,useRef:AR,useState:function(){return Km(Ho)},useDebugValue:sE,useDeferredValue:function(a,l){var f=rn();return OR(f,Et.memoizedState,a,l)},useTransition:function(){var a=Km(Ho)[0],l=rn().memoizedState;return[typeof a=="boolean"?a:_d(a),l]},useSyncExternalStore:uR,useId:UR,useHostTransitionStatus:cE,useFormState:SR,useActionState:SR,useOptimistic:function(a,l){var f=rn();return mR(f,Et,a,l)},useMemoCache:tE,useCacheRefresh:FR};dE.useEffectEvent=CR;var HR={readContext:Kn,use:$m,useCallback:NR,useContext:Kn,useEffect:aE,useImperativeHandle:MR,useInsertionEffect:RR,useLayoutEffect:PR,useMemo:DR,useReducer:rE,useRef:AR,useState:function(){return rE(Ho)},useDebugValue:sE,useDeferredValue:function(a,l){var f=rn();return Et===null?lE(f,a,l):OR(f,Et.memoizedState,a,l)},useTransition:function(){var a=rE(Ho)[0],l=rn().memoizedState;return[typeof a=="boolean"?a:_d(a),l]},useSyncExternalStore:uR,useId:UR,useHostTransitionStatus:cE,useFormState:wR,useActionState:wR,useOptimistic:function(a,l){var f=rn();return Et!==null?mR(f,Et,a,l):(f.baseState=a,[a,f.queue.dispatch])},useMemoCache:tE,useCacheRefresh:FR};HR.useEffectEvent=CR;function hE(a,l,f,p){l=a.memoizedState,f=f(p,l),f=f==null?l:m({},l,f),a.memoizedState=f,a.lanes===0&&(a.updateQueue.baseState=f)}var pE={enqueueSetState:function(a,l,f){a=a._reactInternals;var p=kr(),E=Ja(p);E.payload=l,f!=null&&(E.callback=f),l=Xa(a,E,p),l!==null&&(vr(l,a,p),md(l,a,p))},enqueueReplaceState:function(a,l,f){a=a._reactInternals;var p=kr(),E=Ja(p);E.tag=1,E.payload=l,f!=null&&(E.callback=f),l=Xa(a,E,p),l!==null&&(vr(l,a,p),md(l,a,p))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var f=kr(),p=Ja(f);p.tag=2,l!=null&&(p.callback=l),l=Xa(a,p,f),l!==null&&(vr(l,a,f),md(l,a,f))}};function $R(a,l,f,p,E,T,I){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(p,T,I):l.prototype&&l.prototype.isPureReactComponent?!sd(f,p)||!sd(E,T):!0}function KR(a,l,f,p){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(f,p),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(f,p),l.state!==a&&pE.enqueueReplaceState(l,l.state,null)}function wl(a,l){var f=l;if("ref"in l){f={};for(var p in l)p!=="ref"&&(f[p]=l[p])}if(a=a.defaultProps){f===l&&(f=m({},f));for(var E in a)f[E]===void 0&&(f[E]=a[E])}return f}function YR(a){Cm(a)}function WR(a){console.error(a)}function jR(a){Cm(a)}function Jm(a,l){try{var f=a.onUncaughtError;f(l.value,{componentStack:l.stack})}catch(p){setTimeout(function(){throw p})}}function JR(a,l,f){try{var p=a.onCaughtError;p(f.value,{componentStack:f.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(E){setTimeout(function(){throw E})}}function mE(a,l,f){return f=Ja(f),f.tag=3,f.payload={element:null},f.callback=function(){Jm(a,l)},f}function XR(a){return a=Ja(a),a.tag=3,a}function QR(a,l,f,p){var E=f.type.getDerivedStateFromError;if(typeof E=="function"){var T=p.value;a.payload=function(){return E(T)},a.callback=function(){JR(l,f,p)}}var I=f.stateNode;I!==null&&typeof I.componentDidCatch=="function"&&(a.callback=function(){JR(l,f,p),typeof E!="function"&&(rs===null?rs=new Set([this]):rs.add(this));var O=p.stack;this.componentDidCatch(p.value,{componentStack:O!==null?O:""})})}function iG(a,l,f,p,E){if(f.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(l=f.alternate,l!==null&&Hu(l,f,E,!0),f=Mr.current,f!==null){switch(f.tag){case 31:case 13:return ai===null?lg():f.alternate===null&&Kt===0&&(Kt=3),f.flags&=-257,f.flags|=65536,f.lanes=E,p===Vm?f.flags|=16384:(l=f.updateQueue,l===null?f.updateQueue=new Set([p]):l.add(p),qE(a,p,E)),!1;case 22:return f.flags|=65536,p===Vm?f.flags|=16384:(l=f.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([p])},f.updateQueue=l):(f=l.retryQueue,f===null?l.retryQueue=new Set([p]):f.add(p)),qE(a,p,E)),!1}throw Error(r(435,f.tag))}return qE(a,p,E),lg(),!1}if(nt)return l=Mr.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=E,p!==O0&&(a=Error(r(422),{cause:p}),cd(ni(a,f)))):(p!==O0&&(l=Error(r(423),{cause:p}),cd(ni(l,f))),a=a.current.alternate,a.flags|=65536,E&=-E,a.lanes|=E,p=ni(p,f),E=mE(a.stateNode,p,E),$0(a,E),Kt!==4&&(Kt=2)),!1;var T=Error(r(520),{cause:p});if(T=ni(T,f),Pd===null?Pd=[T]:Pd.push(T),Kt!==4&&(Kt=2),l===null)return!0;p=ni(p,f),f=l;do{switch(f.tag){case 3:return f.flags|=65536,a=E&-E,f.lanes|=a,a=mE(f.stateNode,p,a),$0(f,a),!1;case 1:if(l=f.type,T=f.stateNode,(f.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(rs===null||!rs.has(T))))return f.flags|=65536,E&=-E,f.lanes|=E,E=XR(E),QR(E,a,f,p),$0(f,E),!1}f=f.return}while(f!==null);return!1}var gE=Error(r(461)),mn=!1;function Yn(a,l,f,p){l.child=a===null?nR(l,null,f,p):Sl(l,a.child,f,p)}function ZR(a,l,f,p,E){f=f.render;var T=l.ref;if("ref"in p){var I={};for(var O in p)O!=="ref"&&(I[O]=p[O])}else I=p;return vl(l),p=X0(a,l,f,I,T,E),O=Q0(),a!==null&&!mn?(Z0(a,l,E),$o(a,l,E)):(nt&&O&&N0(l),l.flags|=1,Yn(a,l,p,E),l.child)}function eP(a,l,f,p,E){if(a===null){var T=f.type;return typeof T=="function"&&!P0(T)&&T.defaultProps===void 0&&f.compare===null?(l.tag=15,l.type=T,tP(a,l,T,p,E)):(a=Mm(f.type,null,p,l,l.mode,E),a.ref=l.ref,a.return=l,l.child=a)}if(T=a.child,!wE(a,E)){var I=T.memoizedProps;if(f=f.compare,f=f!==null?f:sd,f(I,p)&&a.ref===l.ref)return $o(a,l,E)}return l.flags|=1,a=Fo(T,p),a.ref=l.ref,a.return=l,l.child=a}function tP(a,l,f,p,E){if(a!==null){var T=a.memoizedProps;if(sd(T,p)&&a.ref===l.ref)if(mn=!1,l.pendingProps=p=T,wE(a,E))(a.flags&131072)!==0&&(mn=!0);else return l.lanes=a.lanes,$o(a,l,E)}return yE(a,l,f,p,E)}function nP(a,l,f,p){var E=p.children,T=a!==null?a.memoizedState:null;if(a===null&&l.stateNode===null&&(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),p.mode==="hidden"){if((l.flags&128)!==0){if(T=T!==null?T.baseLanes|f:f,a!==null){for(p=l.child=a.child,E=0;p!==null;)E=E|p.lanes|p.childLanes,p=p.sibling;p=E&~T}else p=0,l.child=null;return rP(a,l,T,f,p)}if((f&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},a!==null&&km(l,T!==null?T.cachePool:null),T!==null?oR(l,T):Y0(),aR(l);else return p=l.lanes=536870912,rP(a,l,T!==null?T.baseLanes|f:f,f,p)}else T!==null?(km(l,T.cachePool),oR(l,T),Za(),l.memoizedState=null):(a!==null&&km(l,null),Y0(),Za());return Yn(a,l,E,f),l.child}function Sd(a,l){return a!==null&&a.tag===22||l.stateNode!==null||(l.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.sibling}function rP(a,l,f,p,E){var T=B0();return T=T===null?null:{parent:hn._currentValue,pool:T},l.memoizedState={baseLanes:f,cachePool:T},a!==null&&km(l,null),Y0(),aR(l),a!==null&&Hu(a,l,p,!0),l.childLanes=E,null}function Xm(a,l){return l=Zm({mode:l.mode,children:l.children},a.mode),l.ref=a.ref,a.child=l,l.return=a,l}function iP(a,l,f){return Sl(l,a.child,null,f),a=Xm(l,l.pendingProps),a.flags|=2,Nr(l),l.memoizedState=null,a}function oG(a,l,f){var p=l.pendingProps,E=(l.flags&128)!==0;if(l.flags&=-129,a===null){if(nt){if(p.mode==="hidden")return a=Xm(l,p),l.lanes=536870912,Sd(null,a);if(j0(l),(a=Rt)?(a=gx(a,oi),a=a!==null&&a.data==="&"?a:null,a!==null&&(l.memoizedState={dehydrated:a,treeContext:$a!==null?{id:mo,overflow:go}:null,retryLane:536870912,hydrationErrors:null},f=B1(a),f.return=l,l.child=f,$n=l,Rt=null)):a=null,a===null)throw Ya(l);return l.lanes=536870912,null}return Xm(l,p)}var T=a.memoizedState;if(T!==null){var I=T.dehydrated;if(j0(l),E)if(l.flags&256)l.flags&=-257,l=iP(a,l,f);else if(l.memoizedState!==null)l.child=a.child,l.flags|=128,l=null;else throw Error(r(558));else if(mn||Hu(a,l,f,!1),E=(f&a.childLanes)!==0,mn||E){if(p=wt,p!==null&&(I=Gf(p,f),I!==0&&I!==T.retryLane))throw T.retryLane=I,pl(a,I),vr(p,a,I),gE;lg(),l=iP(a,l,f)}else a=T.treeContext,Rt=si(I.nextSibling),$n=l,nt=!0,Ka=null,oi=!1,a!==null&&H1(l,a),l=Xm(l,p),l.flags|=4096;return l}return a=Fo(a.child,{mode:p.mode,children:p.children}),a.ref=l.ref,l.child=a,a.return=l,a}function Qm(a,l){var f=l.ref;if(f===null)a!==null&&a.ref!==null&&(l.flags|=4194816);else{if(typeof f!="function"&&typeof f!="object")throw Error(r(284));(a===null||a.ref!==f)&&(l.flags|=4194816)}}function yE(a,l,f,p,E){return vl(l),f=X0(a,l,f,p,void 0,E),p=Q0(),a!==null&&!mn?(Z0(a,l,E),$o(a,l,E)):(nt&&p&&N0(l),l.flags|=1,Yn(a,l,f,E),l.child)}function oP(a,l,f,p,E,T){return vl(l),l.updateQueue=null,f=lR(l,p,f,E),sR(a),p=Q0(),a!==null&&!mn?(Z0(a,l,T),$o(a,l,T)):(nt&&p&&N0(l),l.flags|=1,Yn(a,l,f,T),l.child)}function aP(a,l,f,p,E){if(vl(l),l.stateNode===null){var T=qu,I=f.contextType;typeof I=="object"&&I!==null&&(T=Kn(I)),T=new f(p,T),l.memoizedState=T.state!==null&&T.state!==void 0?T.state:null,T.updater=pE,l.stateNode=T,T._reactInternals=l,T=l.stateNode,T.props=p,T.state=l.memoizedState,T.refs={},G0(l),I=f.contextType,T.context=typeof I=="object"&&I!==null?Kn(I):qu,T.state=l.memoizedState,I=f.getDerivedStateFromProps,typeof I=="function"&&(hE(l,f,I,p),T.state=l.memoizedState),typeof f.getDerivedStateFromProps=="function"||typeof T.getSnapshotBeforeUpdate=="function"||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(I=T.state,typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount(),I!==T.state&&pE.enqueueReplaceState(T,T.state,null),yd(l,p,T,E),gd(),T.state=l.memoizedState),typeof T.componentDidMount=="function"&&(l.flags|=4194308),p=!0}else if(a===null){T=l.stateNode;var O=l.memoizedProps,$=wl(f,O);T.props=$;var ee=T.context,ae=f.contextType;I=qu,typeof ae=="object"&&ae!==null&&(I=Kn(ae));var ce=f.getDerivedStateFromProps;ae=typeof ce=="function"||typeof T.getSnapshotBeforeUpdate=="function",O=l.pendingProps!==O,ae||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(O||ee!==I)&&KR(l,T,p,I),ja=!1;var te=l.memoizedState;T.state=te,yd(l,p,T,E),gd(),ee=l.memoizedState,O||te!==ee||ja?(typeof ce=="function"&&(hE(l,f,ce,p),ee=l.memoizedState),($=ja||$R(l,f,$,p,te,ee,I))?(ae||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(l.flags|=4194308)):(typeof T.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=p,l.memoizedState=ee),T.props=p,T.state=ee,T.context=I,p=$):(typeof T.componentDidMount=="function"&&(l.flags|=4194308),p=!1)}else{T=l.stateNode,H0(a,l),I=l.memoizedProps,ae=wl(f,I),T.props=ae,ce=l.pendingProps,te=T.context,ee=f.contextType,$=qu,typeof ee=="object"&&ee!==null&&($=Kn(ee)),O=f.getDerivedStateFromProps,(ee=typeof O=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(I!==ce||te!==$)&&KR(l,T,p,$),ja=!1,te=l.memoizedState,T.state=te,yd(l,p,T,E),gd();var ie=l.memoizedState;I!==ce||te!==ie||ja||a!==null&&a.dependencies!==null&&Dm(a.dependencies)?(typeof O=="function"&&(hE(l,f,O,p),ie=l.memoizedState),(ae=ja||$R(l,f,ae,p,te,ie,$)||a!==null&&a.dependencies!==null&&Dm(a.dependencies))?(ee||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(p,ie,$),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(p,ie,$)),typeof T.componentDidUpdate=="function"&&(l.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof T.componentDidUpdate!="function"||I===a.memoizedProps&&te===a.memoizedState||(l.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||I===a.memoizedProps&&te===a.memoizedState||(l.flags|=1024),l.memoizedProps=p,l.memoizedState=ie),T.props=p,T.state=ie,T.context=$,p=ae):(typeof T.componentDidUpdate!="function"||I===a.memoizedProps&&te===a.memoizedState||(l.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||I===a.memoizedProps&&te===a.memoizedState||(l.flags|=1024),p=!1)}return T=p,Qm(a,l),p=(l.flags&128)!==0,T||p?(T=l.stateNode,f=p&&typeof f.getDerivedStateFromError!="function"?null:T.render(),l.flags|=1,a!==null&&p?(l.child=Sl(l,a.child,null,E),l.child=Sl(l,null,f,E)):Yn(a,l,f,E),l.memoizedState=T.state,a=l.child):a=$o(a,l,E),a}function sP(a,l,f,p){return gl(),l.flags|=256,Yn(a,l,f,p),l.child}var vE={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _E(a){return{baseLanes:a,cachePool:J1()}}function EE(a,l,f){return a=a!==null?a.childLanes&~f:0,l&&(a|=Or),a}function lP(a,l,f){var p=l.pendingProps,E=!1,T=(l.flags&128)!==0,I;if((I=T)||(I=a!==null&&a.memoizedState===null?!1:(nn.current&2)!==0),I&&(E=!0,l.flags&=-129),I=(l.flags&32)!==0,l.flags&=-33,a===null){if(nt){if(E?Qa(l):Za(),(a=Rt)?(a=gx(a,oi),a=a!==null&&a.data!=="&"?a:null,a!==null&&(l.memoizedState={dehydrated:a,treeContext:$a!==null?{id:mo,overflow:go}:null,retryLane:536870912,hydrationErrors:null},f=B1(a),f.return=l,l.child=f,$n=l,Rt=null)):a=null,a===null)throw Ya(l);return nT(a)?l.lanes=32:l.lanes=536870912,null}var O=p.children;return p=p.fallback,E?(Za(),E=l.mode,O=Zm({mode:"hidden",children:O},E),p=ml(p,E,f,null),O.return=l,p.return=l,O.sibling=p,l.child=O,p=l.child,p.memoizedState=_E(f),p.childLanes=EE(a,I,f),l.memoizedState=vE,Sd(null,p)):(Qa(l),TE(l,O))}var $=a.memoizedState;if($!==null&&(O=$.dehydrated,O!==null)){if(T)l.flags&256?(Qa(l),l.flags&=-257,l=SE(a,l,f)):l.memoizedState!==null?(Za(),l.child=a.child,l.flags|=128,l=null):(Za(),O=p.fallback,E=l.mode,p=Zm({mode:"visible",children:p.children},E),O=ml(O,E,f,null),O.flags|=2,p.return=l,O.return=l,p.sibling=O,l.child=p,Sl(l,a.child,null,f),p=l.child,p.memoizedState=_E(f),p.childLanes=EE(a,I,f),l.memoizedState=vE,l=Sd(null,p));else if(Qa(l),nT(O)){if(I=O.nextSibling&&O.nextSibling.dataset,I)var ee=I.dgst;I=ee,p=Error(r(419)),p.stack="",p.digest=I,cd({value:p,source:null,stack:null}),l=SE(a,l,f)}else if(mn||Hu(a,l,f,!1),I=(f&a.childLanes)!==0,mn||I){if(I=wt,I!==null&&(p=Gf(I,f),p!==0&&p!==$.retryLane))throw $.retryLane=p,pl(a,p),vr(I,a,p),gE;tT(O)||lg(),l=SE(a,l,f)}else tT(O)?(l.flags|=192,l.child=a.child,l=null):(a=$.treeContext,Rt=si(O.nextSibling),$n=l,nt=!0,Ka=null,oi=!1,a!==null&&H1(l,a),l=TE(l,p.children),l.flags|=4096);return l}return E?(Za(),O=p.fallback,E=l.mode,$=a.child,ee=$.sibling,p=Fo($,{mode:"hidden",children:p.children}),p.subtreeFlags=$.subtreeFlags&65011712,ee!==null?O=Fo(ee,O):(O=ml(O,E,f,null),O.flags|=2),O.return=l,p.return=l,p.sibling=O,l.child=p,Sd(null,p),p=l.child,O=a.child.memoizedState,O===null?O=_E(f):(E=O.cachePool,E!==null?($=hn._currentValue,E=E.parent!==$?{parent:$,pool:$}:E):E=J1(),O={baseLanes:O.baseLanes|f,cachePool:E}),p.memoizedState=O,p.childLanes=EE(a,I,f),l.memoizedState=vE,Sd(a.child,p)):(Qa(l),f=a.child,a=f.sibling,f=Fo(f,{mode:"visible",children:p.children}),f.return=l,f.sibling=null,a!==null&&(I=l.deletions,I===null?(l.deletions=[a],l.flags|=16):I.push(a)),l.child=f,l.memoizedState=null,f)}function TE(a,l){return l=Zm({mode:"visible",children:l},a.mode),l.return=a,a.child=l}function Zm(a,l){return a=xr(22,a,null,l),a.lanes=0,a}function SE(a,l,f){return Sl(l,a.child,null,f),a=TE(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function uP(a,l,f){a.lanes|=l;var p=a.alternate;p!==null&&(p.lanes|=l),V0(a.return,l,f)}function bE(a,l,f,p,E,T){var I=a.memoizedState;I===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:p,tail:f,tailMode:E,treeForkCount:T}:(I.isBackwards=l,I.rendering=null,I.renderingStartTime=0,I.last=p,I.tail=f,I.tailMode=E,I.treeForkCount=T)}function cP(a,l,f){var p=l.pendingProps,E=p.revealOrder,T=p.tail;p=p.children;var I=nn.current,O=(I&2)!==0;if(O?(I=I&1|2,l.flags|=128):I&=1,me(nn,I),Yn(a,l,p,f),p=nt?ud:0,!O&&a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&uP(a,f,l);else if(a.tag===19)uP(a,f,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(E){case"forwards":for(f=l.child,E=null;f!==null;)a=f.alternate,a!==null&&Bm(a)===null&&(E=f),f=f.sibling;f=E,f===null?(E=l.child,l.child=null):(E=f.sibling,f.sibling=null),bE(l,!1,E,f,T,p);break;case"backwards":case"unstable_legacy-backwards":for(f=null,E=l.child,l.child=null;E!==null;){if(a=E.alternate,a!==null&&Bm(a)===null){l.child=E;break}a=E.sibling,E.sibling=f,f=E,E=a}bE(l,!0,f,null,T,p);break;case"together":bE(l,!1,null,null,void 0,p);break;default:l.memoizedState=null}return l.child}function $o(a,l,f){if(a!==null&&(l.dependencies=a.dependencies),ns|=l.lanes,(f&l.childLanes)===0)if(a!==null){if(Hu(a,l,f,!1),(f&l.childLanes)===0)return null}else return null;if(a!==null&&l.child!==a.child)throw Error(r(153));if(l.child!==null){for(a=l.child,f=Fo(a,a.pendingProps),l.child=f,f.return=l;a.sibling!==null;)a=a.sibling,f=f.sibling=Fo(a,a.pendingProps),f.return=l;f.sibling=null}return l.child}function wE(a,l){return(a.lanes&l)!==0?!0:(a=a.dependencies,!!(a!==null&&Dm(a)))}function aG(a,l,f){switch(l.tag){case 3:qt(l,l.stateNode.containerInfo),Wa(l,hn,a.memoizedState.cache),gl();break;case 27:case 5:Fe(l);break;case 4:qt(l,l.stateNode.containerInfo);break;case 10:Wa(l,l.type,l.memoizedProps.value);break;case 31:if(l.memoizedState!==null)return l.flags|=128,j0(l),null;break;case 13:var p=l.memoizedState;if(p!==null)return p.dehydrated!==null?(Qa(l),l.flags|=128,null):(f&l.child.childLanes)!==0?lP(a,l,f):(Qa(l),a=$o(a,l,f),a!==null?a.sibling:null);Qa(l);break;case 19:var E=(a.flags&128)!==0;if(p=(f&l.childLanes)!==0,p||(Hu(a,l,f,!1),p=(f&l.childLanes)!==0),E){if(p)return cP(a,l,f);l.flags|=128}if(E=l.memoizedState,E!==null&&(E.rendering=null,E.tail=null,E.lastEffect=null),me(nn,nn.current),p)break;return null;case 22:return l.lanes=0,nP(a,l,f,l.pendingProps);case 24:Wa(l,hn,a.memoizedState.cache)}return $o(a,l,f)}function fP(a,l,f){if(a!==null)if(a.memoizedProps!==l.pendingProps)mn=!0;else{if(!wE(a,f)&&(l.flags&128)===0)return mn=!1,aG(a,l,f);mn=(a.flags&131072)!==0}else mn=!1,nt&&(l.flags&1048576)!==0&&G1(l,ud,l.index);switch(l.lanes=0,l.tag){case 16:e:{var p=l.pendingProps;if(a=El(l.elementType),l.type=a,typeof a=="function")P0(a)?(p=wl(a,p),l.tag=1,l=aP(null,l,a,p,f)):(l.tag=0,l=yE(null,l,a,p,f));else{if(a!=null){var E=a.$$typeof;if(E===H){l.tag=11,l=ZR(null,l,a,p,f);break e}else if(E===P){l.tag=14,l=eP(null,l,a,p,f);break e}}throw l=Se(a)||a,Error(r(306,l,""))}}return l;case 0:return yE(a,l,l.type,l.pendingProps,f);case 1:return p=l.type,E=wl(p,l.pendingProps),aP(a,l,p,E,f);case 3:e:{if(qt(l,l.stateNode.containerInfo),a===null)throw Error(r(387));p=l.pendingProps;var T=l.memoizedState;E=T.element,H0(a,l),yd(l,p,null,f);var I=l.memoizedState;if(p=I.cache,Wa(l,hn,p),p!==T.cache&&U0(l,[hn],f,!0),gd(),p=I.element,T.isDehydrated)if(T={element:p,isDehydrated:!1,cache:I.cache},l.updateQueue.baseState=T,l.memoizedState=T,l.flags&256){l=sP(a,l,p,f);break e}else if(p!==E){E=ni(Error(r(424)),l),cd(E),l=sP(a,l,p,f);break e}else{switch(a=l.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Rt=si(a.firstChild),$n=l,nt=!0,Ka=null,oi=!0,f=nR(l,null,p,f),l.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling}else{if(gl(),p===E){l=$o(a,l,f);break e}Yn(a,l,p,f)}l=l.child}return l;case 26:return Qm(a,l),a===null?(f=Sx(l.type,null,l.pendingProps,null))?l.memoizedState=f:nt||(f=l.type,a=l.pendingProps,p=mg(ke.current).createElement(f),p[cn]=l,p[Dn]=a,Wn(p,f,a),fn(p),l.stateNode=p):l.memoizedState=Sx(l.type,a.memoizedProps,l.pendingProps,a.memoizedState),null;case 27:return Fe(l),a===null&&nt&&(p=l.stateNode=_x(l.type,l.pendingProps,ke.current),$n=l,oi=!0,E=Rt,ss(l.type)?(rT=E,Rt=si(p.firstChild)):Rt=E),Yn(a,l,l.pendingProps.children,f),Qm(a,l),a===null&&(l.flags|=4194304),l.child;case 5:return a===null&&nt&&((E=p=Rt)&&(p=LG(p,l.type,l.pendingProps,oi),p!==null?(l.stateNode=p,$n=l,Rt=si(p.firstChild),oi=!1,E=!0):E=!1),E||Ya(l)),Fe(l),E=l.type,T=l.pendingProps,I=a!==null?a.memoizedProps:null,p=T.children,QE(E,T)?p=null:I!==null&&QE(E,I)&&(l.flags|=32),l.memoizedState!==null&&(E=X0(a,l,X5,null,null,f),Vd._currentValue=E),Qm(a,l),Yn(a,l,p,f),l.child;case 6:return a===null&&nt&&((a=f=Rt)&&(f=VG(f,l.pendingProps,oi),f!==null?(l.stateNode=f,$n=l,Rt=null,a=!0):a=!1),a||Ya(l)),null;case 13:return lP(a,l,f);case 4:return qt(l,l.stateNode.containerInfo),p=l.pendingProps,a===null?l.child=Sl(l,null,p,f):Yn(a,l,p,f),l.child;case 11:return ZR(a,l,l.type,l.pendingProps,f);case 7:return Yn(a,l,l.pendingProps,f),l.child;case 8:return Yn(a,l,l.pendingProps.children,f),l.child;case 12:return Yn(a,l,l.pendingProps.children,f),l.child;case 10:return p=l.pendingProps,Wa(l,l.type,p.value),Yn(a,l,p.children,f),l.child;case 9:return E=l.type._context,p=l.pendingProps.children,vl(l),E=Kn(E),p=p(E),l.flags|=1,Yn(a,l,p,f),l.child;case 14:return eP(a,l,l.type,l.pendingProps,f);case 15:return tP(a,l,l.type,l.pendingProps,f);case 19:return cP(a,l,f);case 31:return oG(a,l,f);case 22:return nP(a,l,f,l.pendingProps);case 24:return vl(l),p=Kn(hn),a===null?(E=B0(),E===null&&(E=wt,T=F0(),E.pooledCache=T,T.refCount++,T!==null&&(E.pooledCacheLanes|=f),E=T),l.memoizedState={parent:p,cache:E},G0(l),Wa(l,hn,E)):((a.lanes&f)!==0&&(H0(a,l),yd(l,null,null,f),gd()),E=a.memoizedState,T=l.memoizedState,E.parent!==p?(E={parent:p,cache:p},l.memoizedState=E,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=E),Wa(l,hn,p)):(p=T.cache,Wa(l,hn,p),p!==E.cache&&U0(l,[hn],f,!0))),Yn(a,l,l.pendingProps.children,f),l.child;case 29:throw l.pendingProps}throw Error(r(156,l.tag))}function Ko(a){a.flags|=4}function AE(a,l,f,p,E){if((l=(a.mode&32)!==0)&&(l=!1),l){if(a.flags|=16777216,(E&335544128)===E)if(a.stateNode.complete)a.flags|=8192;else if(UP())a.flags|=8192;else throw Tl=Vm,z0}else a.flags&=-16777217}function dP(a,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!Cx(l))if(UP())a.flags|=8192;else throw Tl=Vm,z0}function eg(a,l){l!==null&&(a.flags|=4),a.flags&16384&&(l=a.tag!==22?am():536870912,a.lanes|=l,nc|=l)}function bd(a,l){if(!nt)switch(a.tailMode){case"hidden":l=a.tail;for(var f=null;l!==null;)l.alternate!==null&&(f=l),l=l.sibling;f===null?a.tail=null:f.sibling=null;break;case"collapsed":f=a.tail;for(var p=null;f!==null;)f.alternate!==null&&(p=f),f=f.sibling;p===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:p.sibling=null}}function Pt(a){var l=a.alternate!==null&&a.alternate.child===a.child,f=0,p=0;if(l)for(var E=a.child;E!==null;)f|=E.lanes|E.childLanes,p|=E.subtreeFlags&65011712,p|=E.flags&65011712,E.return=a,E=E.sibling;else for(E=a.child;E!==null;)f|=E.lanes|E.childLanes,p|=E.subtreeFlags,p|=E.flags,E.return=a,E=E.sibling;return a.subtreeFlags|=p,a.childLanes=f,l}function sG(a,l,f){var p=l.pendingProps;switch(D0(l),l.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(l),null;case 1:return Pt(l),null;case 3:return f=l.stateNode,p=null,a!==null&&(p=a.memoizedState.cache),l.memoizedState.cache!==p&&(l.flags|=2048),zo(hn),le(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(a===null||a.child===null)&&(Gu(l)?Ko(l):a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,k0())),Pt(l),null;case 26:var E=l.type,T=l.memoizedState;return a===null?(Ko(l),T!==null?(Pt(l),dP(l,T)):(Pt(l),AE(l,E,null,p,f))):T?T!==a.memoizedState?(Ko(l),Pt(l),dP(l,T)):(Pt(l),l.flags&=-16777217):(a=a.memoizedProps,a!==p&&Ko(l),Pt(l),AE(l,E,a,p,f)),null;case 27:if(Ke(l),f=ke.current,E=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==p&&Ko(l);else{if(!p){if(l.stateNode===null)throw Error(r(166));return Pt(l),null}a=ve.current,Gu(l)?$1(l):(a=_x(E,p,f),l.stateNode=a,Ko(l))}return Pt(l),null;case 5:if(Ke(l),E=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==p&&Ko(l);else{if(!p){if(l.stateNode===null)throw Error(r(166));return Pt(l),null}if(T=ve.current,Gu(l))$1(l);else{var I=mg(ke.current);switch(T){case 1:T=I.createElementNS("http://www.w3.org/2000/svg",E);break;case 2:T=I.createElementNS("http://www.w3.org/1998/Math/MathML",E);break;default:switch(E){case"svg":T=I.createElementNS("http://www.w3.org/2000/svg",E);break;case"math":T=I.createElementNS("http://www.w3.org/1998/Math/MathML",E);break;case"script":T=I.createElement("div"),T.innerHTML="<script><\/script>",T=T.removeChild(T.firstChild);break;case"select":T=typeof p.is=="string"?I.createElement("select",{is:p.is}):I.createElement("select"),p.multiple?T.multiple=!0:p.size&&(T.size=p.size);break;default:T=typeof p.is=="string"?I.createElement(E,{is:p.is}):I.createElement(E)}}T[cn]=l,T[Dn]=p;e:for(I=l.child;I!==null;){if(I.tag===5||I.tag===6)T.appendChild(I.stateNode);else if(I.tag!==4&&I.tag!==27&&I.child!==null){I.child.return=I,I=I.child;continue}if(I===l)break e;for(;I.sibling===null;){if(I.return===null||I.return===l)break e;I=I.return}I.sibling.return=I.return,I=I.sibling}l.stateNode=T;e:switch(Wn(T,E,p),E){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}p&&Ko(l)}}return Pt(l),AE(l,l.type,a===null?null:a.memoizedProps,l.pendingProps,f),null;case 6:if(a&&l.stateNode!=null)a.memoizedProps!==p&&Ko(l);else{if(typeof p!="string"&&l.stateNode===null)throw Error(r(166));if(a=ke.current,Gu(l)){if(a=l.stateNode,f=l.memoizedProps,p=null,E=$n,E!==null)switch(E.tag){case 27:case 5:p=E.memoizedProps}a[cn]=l,a=!!(a.nodeValue===f||p!==null&&p.suppressHydrationWarning===!0||lx(a.nodeValue,f)),a||Ya(l,!0)}else a=mg(a).createTextNode(p),a[cn]=l,l.stateNode=a}return Pt(l),null;case 31:if(f=l.memoizedState,a===null||a.memoizedState!==null){if(p=Gu(l),f!==null){if(a===null){if(!p)throw Error(r(318));if(a=l.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[cn]=l}else gl(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Pt(l),a=!1}else f=k0(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=f),a=!0;if(!a)return l.flags&256?(Nr(l),l):(Nr(l),null);if((l.flags&128)!==0)throw Error(r(558))}return Pt(l),null;case 13:if(p=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(E=Gu(l),p!==null&&p.dehydrated!==null){if(a===null){if(!E)throw Error(r(318));if(E=l.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(r(317));E[cn]=l}else gl(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;Pt(l),E=!1}else E=k0(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=E),E=!0;if(!E)return l.flags&256?(Nr(l),l):(Nr(l),null)}return Nr(l),(l.flags&128)!==0?(l.lanes=f,l):(f=p!==null,a=a!==null&&a.memoizedState!==null,f&&(p=l.child,E=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(E=p.alternate.memoizedState.cachePool.pool),T=null,p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(T=p.memoizedState.cachePool.pool),T!==E&&(p.flags|=2048)),f!==a&&f&&(l.child.flags|=8192),eg(l,l.updateQueue),Pt(l),null);case 4:return le(),a===null&&YE(l.stateNode.containerInfo),Pt(l),null;case 10:return zo(l.type),Pt(l),null;case 19:if(oe(nn),p=l.memoizedState,p===null)return Pt(l),null;if(E=(l.flags&128)!==0,T=p.rendering,T===null)if(E)bd(p,!1);else{if(Kt!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(T=Bm(a),T!==null){for(l.flags|=128,bd(p,!1),a=T.updateQueue,l.updateQueue=a,eg(l,a),l.subtreeFlags=0,a=f,f=l.child;f!==null;)q1(f,a),f=f.sibling;return me(nn,nn.current&1|2),nt&&qo(l,p.treeForkCount),l.child}a=a.sibling}p.tail!==null&&ir()>og&&(l.flags|=128,E=!0,bd(p,!1),l.lanes=4194304)}else{if(!E)if(a=Bm(T),a!==null){if(l.flags|=128,E=!0,a=a.updateQueue,l.updateQueue=a,eg(l,a),bd(p,!0),p.tail===null&&p.tailMode==="hidden"&&!T.alternate&&!nt)return Pt(l),null}else 2*ir()-p.renderingStartTime>og&&f!==536870912&&(l.flags|=128,E=!0,bd(p,!1),l.lanes=4194304);p.isBackwards?(T.sibling=l.child,l.child=T):(a=p.last,a!==null?a.sibling=T:l.child=T,p.last=T)}return p.tail!==null?(a=p.tail,p.rendering=a,p.tail=a.sibling,p.renderingStartTime=ir(),a.sibling=null,f=nn.current,me(nn,E?f&1|2:f&1),nt&&qo(l,p.treeForkCount),a):(Pt(l),null);case 22:case 23:return Nr(l),W0(),p=l.memoizedState!==null,a!==null?a.memoizedState!==null!==p&&(l.flags|=8192):p&&(l.flags|=8192),p?(f&536870912)!==0&&(l.flags&128)===0&&(Pt(l),l.subtreeFlags&6&&(l.flags|=8192)):Pt(l),f=l.updateQueue,f!==null&&eg(l,f.retryQueue),f=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),p=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),p!==f&&(l.flags|=2048),a!==null&&oe(_l),null;case 24:return f=null,a!==null&&(f=a.memoizedState.cache),l.memoizedState.cache!==f&&(l.flags|=2048),zo(hn),Pt(l),null;case 25:return null;case 30:return null}throw Error(r(156,l.tag))}function lG(a,l){switch(D0(l),l.tag){case 1:return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return zo(hn),le(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 26:case 27:case 5:return Ke(l),null;case 31:if(l.memoizedState!==null){if(Nr(l),l.alternate===null)throw Error(r(340));gl()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 13:if(Nr(l),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(r(340));gl()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return oe(nn),null;case 4:return le(),null;case 10:return zo(l.type),null;case 22:case 23:return Nr(l),W0(),a!==null&&oe(_l),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 24:return zo(hn),null;case 25:return null;default:return null}}function hP(a,l){switch(D0(l),l.tag){case 3:zo(hn),le();break;case 26:case 27:case 5:Ke(l);break;case 4:le();break;case 31:l.memoizedState!==null&&Nr(l);break;case 13:Nr(l);break;case 19:oe(nn);break;case 10:zo(l.type);break;case 22:case 23:Nr(l),W0(),a!==null&&oe(_l);break;case 24:zo(hn)}}function wd(a,l){try{var f=l.updateQueue,p=f!==null?f.lastEffect:null;if(p!==null){var E=p.next;f=E;do{if((f.tag&a)===a){p=void 0;var T=f.create,I=f.inst;p=T(),I.destroy=p}f=f.next}while(f!==E)}}catch(O){ht(l,l.return,O)}}function es(a,l,f){try{var p=l.updateQueue,E=p!==null?p.lastEffect:null;if(E!==null){var T=E.next;p=T;do{if((p.tag&a)===a){var I=p.inst,O=I.destroy;if(O!==void 0){I.destroy=void 0,E=l;var $=f,ee=O;try{ee()}catch(ae){ht(E,$,ae)}}}p=p.next}while(p!==T)}}catch(ae){ht(l,l.return,ae)}}function pP(a){var l=a.updateQueue;if(l!==null){var f=a.stateNode;try{iR(l,f)}catch(p){ht(a,a.return,p)}}}function mP(a,l,f){f.props=wl(a.type,a.memoizedProps),f.state=a.memoizedState;try{f.componentWillUnmount()}catch(p){ht(a,l,p)}}function Ad(a,l){try{var f=a.ref;if(f!==null){switch(a.tag){case 26:case 27:case 5:var p=a.stateNode;break;case 30:p=a.stateNode;break;default:p=a.stateNode}typeof f=="function"?a.refCleanup=f(p):f.current=p}}catch(E){ht(a,l,E)}}function yo(a,l){var f=a.ref,p=a.refCleanup;if(f!==null)if(typeof p=="function")try{p()}catch(E){ht(a,l,E)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof f=="function")try{f(null)}catch(E){ht(a,l,E)}else f.current=null}function gP(a){var l=a.type,f=a.memoizedProps,p=a.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":f.autoFocus&&p.focus();break e;case"img":f.src?p.src=f.src:f.srcSet&&(p.srcset=f.srcSet)}}catch(E){ht(a,a.return,E)}}function IE(a,l,f){try{var p=a.stateNode;xG(p,a.type,f,l),p[Dn]=l}catch(E){ht(a,a.return,E)}}function yP(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&ss(a.type)||a.tag===4}function CE(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||yP(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&ss(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function RE(a,l,f){var p=a.tag;if(p===5||p===6)a=a.stateNode,l?(f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f).insertBefore(a,l):(l=f.nodeType===9?f.body:f.nodeName==="HTML"?f.ownerDocument.body:f,l.appendChild(a),f=f._reactRootContainer,f!=null||l.onclick!==null||(l.onclick=Pi));else if(p!==4&&(p===27&&ss(a.type)&&(f=a.stateNode,l=null),a=a.child,a!==null))for(RE(a,l,f),a=a.sibling;a!==null;)RE(a,l,f),a=a.sibling}function tg(a,l,f){var p=a.tag;if(p===5||p===6)a=a.stateNode,l?f.insertBefore(a,l):f.appendChild(a);else if(p!==4&&(p===27&&ss(a.type)&&(f=a.stateNode),a=a.child,a!==null))for(tg(a,l,f),a=a.sibling;a!==null;)tg(a,l,f),a=a.sibling}function vP(a){var l=a.stateNode,f=a.memoizedProps;try{for(var p=a.type,E=l.attributes;E.length;)l.removeAttributeNode(E[0]);Wn(l,p,f),l[cn]=a,l[Dn]=f}catch(T){ht(a,a.return,T)}}var Yo=!1,gn=!1,PE=!1,_P=typeof WeakSet=="function"?WeakSet:Set,kn=null;function uG(a,l){if(a=a.containerInfo,JE=Sg,a=M1(a),S0(a)){if("selectionStart"in a)var f={start:a.selectionStart,end:a.selectionEnd};else e:{f=(f=a.ownerDocument)&&f.defaultView||window;var p=f.getSelection&&f.getSelection();if(p&&p.rangeCount!==0){f=p.anchorNode;var E=p.anchorOffset,T=p.focusNode;p=p.focusOffset;try{f.nodeType,T.nodeType}catch{f=null;break e}var I=0,O=-1,$=-1,ee=0,ae=0,ce=a,te=null;t:for(;;){for(var ie;ce!==f||E!==0&&ce.nodeType!==3||(O=I+E),ce!==T||p!==0&&ce.nodeType!==3||($=I+p),ce.nodeType===3&&(I+=ce.nodeValue.length),(ie=ce.firstChild)!==null;)te=ce,ce=ie;for(;;){if(ce===a)break t;if(te===f&&++ee===E&&(O=I),te===T&&++ae===p&&($=I),(ie=ce.nextSibling)!==null)break;ce=te,te=ce.parentNode}ce=ie}f=O===-1||$===-1?null:{start:O,end:$}}else f=null}f=f||{start:0,end:0}}else f=null;for(XE={focusedElem:a,selectionRange:f},Sg=!1,kn=l;kn!==null;)if(l=kn,a=l.child,(l.subtreeFlags&1028)!==0&&a!==null)a.return=l,kn=a;else for(;kn!==null;){switch(l=kn,T=l.alternate,a=l.flags,l.tag){case 0:if((a&4)!==0&&(a=l.updateQueue,a=a!==null?a.events:null,a!==null))for(f=0;f<a.length;f++)E=a[f],E.ref.impl=E.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&T!==null){a=void 0,f=l,E=T.memoizedProps,T=T.memoizedState,p=f.stateNode;try{var we=wl(f.type,E);a=p.getSnapshotBeforeUpdate(we,T),p.__reactInternalSnapshotBeforeUpdate=a}catch(Ne){ht(f,f.return,Ne)}}break;case 3:if((a&1024)!==0){if(a=l.stateNode.containerInfo,f=a.nodeType,f===9)eT(a);else if(f===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":eT(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=l.sibling,a!==null){a.return=l.return,kn=a;break}kn=l.return}}function EP(a,l,f){var p=f.flags;switch(f.tag){case 0:case 11:case 15:jo(a,f),p&4&&wd(5,f);break;case 1:if(jo(a,f),p&4)if(a=f.stateNode,l===null)try{a.componentDidMount()}catch(I){ht(f,f.return,I)}else{var E=wl(f.type,l.memoizedProps);l=l.memoizedState;try{a.componentDidUpdate(E,l,a.__reactInternalSnapshotBeforeUpdate)}catch(I){ht(f,f.return,I)}}p&64&&pP(f),p&512&&Ad(f,f.return);break;case 3:if(jo(a,f),p&64&&(a=f.updateQueue,a!==null)){if(l=null,f.child!==null)switch(f.child.tag){case 27:case 5:l=f.child.stateNode;break;case 1:l=f.child.stateNode}try{iR(a,l)}catch(I){ht(f,f.return,I)}}break;case 27:l===null&&p&4&&vP(f);case 26:case 5:jo(a,f),l===null&&p&4&&gP(f),p&512&&Ad(f,f.return);break;case 12:jo(a,f);break;case 31:jo(a,f),p&4&&bP(a,f);break;case 13:jo(a,f),p&4&&wP(a,f),p&64&&(a=f.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(f=vG.bind(null,f),UG(a,f))));break;case 22:if(p=f.memoizedState!==null||Yo,!p){l=l!==null&&l.memoizedState!==null||gn,E=Yo;var T=gn;Yo=p,(gn=l)&&!T?Jo(a,f,(f.subtreeFlags&8772)!==0):jo(a,f),Yo=E,gn=T}break;case 30:break;default:jo(a,f)}}function TP(a){var l=a.alternate;l!==null&&(a.alternate=null,TP(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&Iu(l)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var Dt=null,pr=!1;function Wo(a,l,f){for(f=f.child;f!==null;)SP(a,l,f),f=f.sibling}function SP(a,l,f){if(Gn&&typeof Gn.onCommitFiberUnmount=="function")try{Gn.onCommitFiberUnmount(Ai,f)}catch{}switch(f.tag){case 26:gn||yo(f,l),Wo(a,l,f),f.memoizedState?f.memoizedState.count--:f.stateNode&&(f=f.stateNode,f.parentNode.removeChild(f));break;case 27:gn||yo(f,l);var p=Dt,E=pr;ss(f.type)&&(Dt=f.stateNode,pr=!1),Wo(a,l,f),Od(f.stateNode),Dt=p,pr=E;break;case 5:gn||yo(f,l);case 6:if(p=Dt,E=pr,Dt=null,Wo(a,l,f),Dt=p,pr=E,Dt!==null)if(pr)try{(Dt.nodeType===9?Dt.body:Dt.nodeName==="HTML"?Dt.ownerDocument.body:Dt).removeChild(f.stateNode)}catch(T){ht(f,l,T)}else try{Dt.removeChild(f.stateNode)}catch(T){ht(f,l,T)}break;case 18:Dt!==null&&(pr?(a=Dt,px(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,f.stateNode),cc(a)):px(Dt,f.stateNode));break;case 4:p=Dt,E=pr,Dt=f.stateNode.containerInfo,pr=!0,Wo(a,l,f),Dt=p,pr=E;break;case 0:case 11:case 14:case 15:es(2,f,l),gn||es(4,f,l),Wo(a,l,f);break;case 1:gn||(yo(f,l),p=f.stateNode,typeof p.componentWillUnmount=="function"&&mP(f,l,p)),Wo(a,l,f);break;case 21:Wo(a,l,f);break;case 22:gn=(p=gn)||f.memoizedState!==null,Wo(a,l,f),gn=p;break;default:Wo(a,l,f)}}function bP(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{cc(a)}catch(f){ht(l,l.return,f)}}}function wP(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{cc(a)}catch(f){ht(l,l.return,f)}}function cG(a){switch(a.tag){case 31:case 13:case 19:var l=a.stateNode;return l===null&&(l=a.stateNode=new _P),l;case 22:return a=a.stateNode,l=a._retryCache,l===null&&(l=a._retryCache=new _P),l;default:throw Error(r(435,a.tag))}}function ng(a,l){var f=cG(a);l.forEach(function(p){if(!f.has(p)){f.add(p);var E=_G.bind(null,a,p);p.then(E,E)}})}function mr(a,l){var f=l.deletions;if(f!==null)for(var p=0;p<f.length;p++){var E=f[p],T=a,I=l,O=I;e:for(;O!==null;){switch(O.tag){case 27:if(ss(O.type)){Dt=O.stateNode,pr=!1;break e}break;case 5:Dt=O.stateNode,pr=!1;break e;case 3:case 4:Dt=O.stateNode.containerInfo,pr=!0;break e}O=O.return}if(Dt===null)throw Error(r(160));SP(T,I,E),Dt=null,pr=!1,T=E.alternate,T!==null&&(T.return=null),E.return=null}if(l.subtreeFlags&13886)for(l=l.child;l!==null;)AP(l,a),l=l.sibling}var ki=null;function AP(a,l){var f=a.alternate,p=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:mr(l,a),gr(a),p&4&&(es(3,a,a.return),wd(3,a),es(5,a,a.return));break;case 1:mr(l,a),gr(a),p&512&&(gn||f===null||yo(f,f.return)),p&64&&Yo&&(a=a.updateQueue,a!==null&&(p=a.callbacks,p!==null&&(f=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=f===null?p:f.concat(p))));break;case 26:var E=ki;if(mr(l,a),gr(a),p&512&&(gn||f===null||yo(f,f.return)),p&4){var T=f!==null?f.memoizedState:null;if(p=a.memoizedState,f===null)if(p===null)if(a.stateNode===null){e:{p=a.type,f=a.memoizedProps,E=E.ownerDocument||E;t:switch(p){case"title":T=E.getElementsByTagName("title")[0],(!T||T[no]||T[cn]||T.namespaceURI==="http://www.w3.org/2000/svg"||T.hasAttribute("itemprop"))&&(T=E.createElement(p),E.head.insertBefore(T,E.querySelector("head > title"))),Wn(T,p,f),T[cn]=a,fn(T),p=T;break e;case"link":var I=Ax("link","href",E).get(p+(f.href||""));if(I){for(var O=0;O<I.length;O++)if(T=I[O],T.getAttribute("href")===(f.href==null||f.href===""?null:f.href)&&T.getAttribute("rel")===(f.rel==null?null:f.rel)&&T.getAttribute("title")===(f.title==null?null:f.title)&&T.getAttribute("crossorigin")===(f.crossOrigin==null?null:f.crossOrigin)){I.splice(O,1);break t}}T=E.createElement(p),Wn(T,p,f),E.head.appendChild(T);break;case"meta":if(I=Ax("meta","content",E).get(p+(f.content||""))){for(O=0;O<I.length;O++)if(T=I[O],T.getAttribute("content")===(f.content==null?null:""+f.content)&&T.getAttribute("name")===(f.name==null?null:f.name)&&T.getAttribute("property")===(f.property==null?null:f.property)&&T.getAttribute("http-equiv")===(f.httpEquiv==null?null:f.httpEquiv)&&T.getAttribute("charset")===(f.charSet==null?null:f.charSet)){I.splice(O,1);break t}}T=E.createElement(p),Wn(T,p,f),E.head.appendChild(T);break;default:throw Error(r(468,p))}T[cn]=a,fn(T),p=T}a.stateNode=p}else Ix(E,a.type,a.stateNode);else a.stateNode=wx(E,p,a.memoizedProps);else T!==p?(T===null?f.stateNode!==null&&(f=f.stateNode,f.parentNode.removeChild(f)):T.count--,p===null?Ix(E,a.type,a.stateNode):wx(E,p,a.memoizedProps)):p===null&&a.stateNode!==null&&IE(a,a.memoizedProps,f.memoizedProps)}break;case 27:mr(l,a),gr(a),p&512&&(gn||f===null||yo(f,f.return)),f!==null&&p&4&&IE(a,a.memoizedProps,f.memoizedProps);break;case 5:if(mr(l,a),gr(a),p&512&&(gn||f===null||yo(f,f.return)),a.flags&32){E=a.stateNode;try{hr(E,"")}catch(we){ht(a,a.return,we)}}p&4&&a.stateNode!=null&&(E=a.memoizedProps,IE(a,E,f!==null?f.memoizedProps:E)),p&1024&&(PE=!0);break;case 6:if(mr(l,a),gr(a),p&4){if(a.stateNode===null)throw Error(r(162));p=a.memoizedProps,f=a.stateNode;try{f.nodeValue=p}catch(we){ht(a,a.return,we)}}break;case 3:if(vg=null,E=ki,ki=gg(l.containerInfo),mr(l,a),ki=E,gr(a),p&4&&f!==null&&f.memoizedState.isDehydrated)try{cc(l.containerInfo)}catch(we){ht(a,a.return,we)}PE&&(PE=!1,IP(a));break;case 4:p=ki,ki=gg(a.stateNode.containerInfo),mr(l,a),gr(a),ki=p;break;case 12:mr(l,a),gr(a);break;case 31:mr(l,a),gr(a),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,ng(a,p)));break;case 13:mr(l,a),gr(a),a.child.flags&8192&&a.memoizedState!==null!=(f!==null&&f.memoizedState!==null)&&(ig=ir()),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,ng(a,p)));break;case 22:E=a.memoizedState!==null;var $=f!==null&&f.memoizedState!==null,ee=Yo,ae=gn;if(Yo=ee||E,gn=ae||$,mr(l,a),gn=ae,Yo=ee,gr(a),p&8192)e:for(l=a.stateNode,l._visibility=E?l._visibility&-2:l._visibility|1,E&&(f===null||$||Yo||gn||Al(a)),f=null,l=a;;){if(l.tag===5||l.tag===26){if(f===null){$=f=l;try{if(T=$.stateNode,E)I=T.style,typeof I.setProperty=="function"?I.setProperty("display","none","important"):I.display="none";else{O=$.stateNode;var ce=$.memoizedProps.style,te=ce!=null&&ce.hasOwnProperty("display")?ce.display:null;O.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(we){ht($,$.return,we)}}}else if(l.tag===6){if(f===null){$=l;try{$.stateNode.nodeValue=E?"":$.memoizedProps}catch(we){ht($,$.return,we)}}}else if(l.tag===18){if(f===null){$=l;try{var ie=$.stateNode;E?mx(ie,!0):mx($.stateNode,!1)}catch(we){ht($,$.return,we)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===a)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break e;for(;l.sibling===null;){if(l.return===null||l.return===a)break e;f===l&&(f=null),l=l.return}f===l&&(f=null),l.sibling.return=l.return,l=l.sibling}p&4&&(p=a.updateQueue,p!==null&&(f=p.retryQueue,f!==null&&(p.retryQueue=null,ng(a,f))));break;case 19:mr(l,a),gr(a),p&4&&(p=a.updateQueue,p!==null&&(a.updateQueue=null,ng(a,p)));break;case 30:break;case 21:break;default:mr(l,a),gr(a)}}function gr(a){var l=a.flags;if(l&2){try{for(var f,p=a.return;p!==null;){if(yP(p)){f=p;break}p=p.return}if(f==null)throw Error(r(160));switch(f.tag){case 27:var E=f.stateNode,T=CE(a);tg(a,T,E);break;case 5:var I=f.stateNode;f.flags&32&&(hr(I,""),f.flags&=-33);var O=CE(a);tg(a,O,I);break;case 3:case 4:var $=f.stateNode.containerInfo,ee=CE(a);RE(a,ee,$);break;default:throw Error(r(161))}}catch(ae){ht(a,a.return,ae)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function IP(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var l=a;IP(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),a=a.sibling}}function jo(a,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)EP(a,l.alternate,l),l=l.sibling}function Al(a){for(a=a.child;a!==null;){var l=a;switch(l.tag){case 0:case 11:case 14:case 15:es(4,l,l.return),Al(l);break;case 1:yo(l,l.return);var f=l.stateNode;typeof f.componentWillUnmount=="function"&&mP(l,l.return,f),Al(l);break;case 27:Od(l.stateNode);case 26:case 5:yo(l,l.return),Al(l);break;case 22:l.memoizedState===null&&Al(l);break;case 30:Al(l);break;default:Al(l)}a=a.sibling}}function Jo(a,l,f){for(f=f&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var p=l.alternate,E=a,T=l,I=T.flags;switch(T.tag){case 0:case 11:case 15:Jo(E,T,f),wd(4,T);break;case 1:if(Jo(E,T,f),p=T,E=p.stateNode,typeof E.componentDidMount=="function")try{E.componentDidMount()}catch(ee){ht(p,p.return,ee)}if(p=T,E=p.updateQueue,E!==null){var O=p.stateNode;try{var $=E.shared.hiddenCallbacks;if($!==null)for(E.shared.hiddenCallbacks=null,E=0;E<$.length;E++)rR($[E],O)}catch(ee){ht(p,p.return,ee)}}f&&I&64&&pP(T),Ad(T,T.return);break;case 27:vP(T);case 26:case 5:Jo(E,T,f),f&&p===null&&I&4&&gP(T),Ad(T,T.return);break;case 12:Jo(E,T,f);break;case 31:Jo(E,T,f),f&&I&4&&bP(E,T);break;case 13:Jo(E,T,f),f&&I&4&&wP(E,T);break;case 22:T.memoizedState===null&&Jo(E,T,f),Ad(T,T.return);break;case 30:break;default:Jo(E,T,f)}l=l.sibling}}function xE(a,l){var f=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),a=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(a=l.memoizedState.cachePool.pool),a!==f&&(a!=null&&a.refCount++,f!=null&&fd(f))}function ME(a,l){a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&fd(a))}function Li(a,l,f,p){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)CP(a,l,f,p),l=l.sibling}function CP(a,l,f,p){var E=l.flags;switch(l.tag){case 0:case 11:case 15:Li(a,l,f,p),E&2048&&wd(9,l);break;case 1:Li(a,l,f,p);break;case 3:Li(a,l,f,p),E&2048&&(a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&fd(a)));break;case 12:if(E&2048){Li(a,l,f,p),a=l.stateNode;try{var T=l.memoizedProps,I=T.id,O=T.onPostCommit;typeof O=="function"&&O(I,l.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch($){ht(l,l.return,$)}}else Li(a,l,f,p);break;case 31:Li(a,l,f,p);break;case 13:Li(a,l,f,p);break;case 23:break;case 22:T=l.stateNode,I=l.alternate,l.memoizedState!==null?T._visibility&2?Li(a,l,f,p):Id(a,l):T._visibility&2?Li(a,l,f,p):(T._visibility|=2,Zu(a,l,f,p,(l.subtreeFlags&10256)!==0||!1)),E&2048&&xE(I,l);break;case 24:Li(a,l,f,p),E&2048&&ME(l.alternate,l);break;default:Li(a,l,f,p)}}function Zu(a,l,f,p,E){for(E=E&&((l.subtreeFlags&10256)!==0||!1),l=l.child;l!==null;){var T=a,I=l,O=f,$=p,ee=I.flags;switch(I.tag){case 0:case 11:case 15:Zu(T,I,O,$,E),wd(8,I);break;case 23:break;case 22:var ae=I.stateNode;I.memoizedState!==null?ae._visibility&2?Zu(T,I,O,$,E):Id(T,I):(ae._visibility|=2,Zu(T,I,O,$,E)),E&&ee&2048&&xE(I.alternate,I);break;case 24:Zu(T,I,O,$,E),E&&ee&2048&&ME(I.alternate,I);break;default:Zu(T,I,O,$,E)}l=l.sibling}}function Id(a,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var f=a,p=l,E=p.flags;switch(p.tag){case 22:Id(f,p),E&2048&&xE(p.alternate,p);break;case 24:Id(f,p),E&2048&&ME(p.alternate,p);break;default:Id(f,p)}l=l.sibling}}var Cd=8192;function ec(a,l,f){if(a.subtreeFlags&Cd)for(a=a.child;a!==null;)RP(a,l,f),a=a.sibling}function RP(a,l,f){switch(a.tag){case 26:ec(a,l,f),a.flags&Cd&&a.memoizedState!==null&&JG(f,ki,a.memoizedState,a.memoizedProps);break;case 5:ec(a,l,f);break;case 3:case 4:var p=ki;ki=gg(a.stateNode.containerInfo),ec(a,l,f),ki=p;break;case 22:a.memoizedState===null&&(p=a.alternate,p!==null&&p.memoizedState!==null?(p=Cd,Cd=16777216,ec(a,l,f),Cd=p):ec(a,l,f));break;default:ec(a,l,f)}}function PP(a){var l=a.alternate;if(l!==null&&(a=l.child,a!==null)){l.child=null;do l=a.sibling,a.sibling=null,a=l;while(a!==null)}}function Rd(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var f=0;f<l.length;f++){var p=l[f];kn=p,MP(p,a)}PP(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)xP(a),a=a.sibling}function xP(a){switch(a.tag){case 0:case 11:case 15:Rd(a),a.flags&2048&&es(9,a,a.return);break;case 3:Rd(a);break;case 12:Rd(a);break;case 22:var l=a.stateNode;a.memoizedState!==null&&l._visibility&2&&(a.return===null||a.return.tag!==13)?(l._visibility&=-3,rg(a)):Rd(a);break;default:Rd(a)}}function rg(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var f=0;f<l.length;f++){var p=l[f];kn=p,MP(p,a)}PP(a)}for(a=a.child;a!==null;){switch(l=a,l.tag){case 0:case 11:case 15:es(8,l,l.return),rg(l);break;case 22:f=l.stateNode,f._visibility&2&&(f._visibility&=-3,rg(l));break;default:rg(l)}a=a.sibling}}function MP(a,l){for(;kn!==null;){var f=kn;switch(f.tag){case 0:case 11:case 15:es(8,f,l);break;case 23:case 22:if(f.memoizedState!==null&&f.memoizedState.cachePool!==null){var p=f.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:fd(f.memoizedState.cache)}if(p=f.child,p!==null)p.return=f,kn=p;else e:for(f=a;kn!==null;){p=kn;var E=p.sibling,T=p.return;if(TP(p),p===f){kn=null;break e}if(E!==null){E.return=T,kn=E;break e}kn=T}}}var fG={getCacheForType:function(a){var l=Kn(hn),f=l.data.get(a);return f===void 0&&(f=a(),l.data.set(a,f)),f},cacheSignal:function(){return Kn(hn).controller.signal}},dG=typeof WeakMap=="function"?WeakMap:Map,ut=0,wt=null,Je=null,Ze=0,dt=0,Dr=null,ts=!1,tc=!1,NE=!1,Xo=0,Kt=0,ns=0,Il=0,DE=0,Or=0,nc=0,Pd=null,yr=null,OE=!1,ig=0,NP=0,og=1/0,ag=null,rs=null,In=0,is=null,rc=null,Qo=0,kE=0,LE=null,DP=null,xd=0,VE=null;function kr(){return(ut&2)!==0&&Ze!==0?Ze&-Ze:Q.T!==null?GE():sm()}function OP(){if(Or===0)if((Ze&536870912)===0||nt){var a=Zs;Zs<<=1,(Zs&3932160)===0&&(Zs=262144),Or=a}else Or=536870912;return a=Mr.current,a!==null&&(a.flags|=32),Or}function vr(a,l,f){(a===wt&&(dt===2||dt===9)||a.cancelPendingCommit!==null)&&(ic(a,0),os(a,Ze,Or,!1)),el(a,f),((ut&2)===0||a!==wt)&&(a===wt&&((ut&2)===0&&(Il|=f),Kt===4&&os(a,Ze,Or,!1)),vo(a))}function kP(a,l,f){if((ut&6)!==0)throw Error(r(327));var p=!f&&(l&127)===0&&(l&a.expiredLanes)===0||Ii(a,l),E=p?mG(a,l):FE(a,l,!0),T=p;do{if(E===0){tc&&!p&&os(a,l,0,!1);break}else{if(f=a.current.alternate,T&&!hG(f)){E=FE(a,l,!1),T=!1;continue}if(E===2){if(T=l,a.errorRecoveryDisabledLanes&T)var I=0;else I=a.pendingLanes&-536870913,I=I!==0?I:I&536870912?536870912:0;if(I!==0){l=I;e:{var O=a;E=Pd;var $=O.current.memoizedState.isDehydrated;if($&&(ic(O,I).flags|=256),I=FE(O,I,!1),I!==2){if(NE&&!$){O.errorRecoveryDisabledLanes|=T,Il|=T,E=4;break e}T=yr,yr=E,T!==null&&(yr===null?yr=T:yr.push.apply(yr,T))}E=I}if(T=!1,E!==2)continue}}if(E===1){ic(a,0),os(a,l,0,!0);break}e:{switch(p=a,T=E,T){case 0:case 1:throw Error(r(345));case 4:if((l&4194048)!==l)break;case 6:os(p,l,Or,!ts);break e;case 2:yr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((l&62914560)===l&&(E=ig+300-ir(),10<E)){if(os(p,l,Or,!ts),Zi(p,0,!0)!==0)break e;Qo=l,p.timeoutHandle=dx(LP.bind(null,p,f,yr,ag,OE,l,Or,Il,nc,ts,T,"Throttled",-0,0),E);break e}LP(p,f,yr,ag,OE,l,Or,Il,nc,ts,T,null,-0,0)}}break}while(!0);vo(a)}function LP(a,l,f,p,E,T,I,O,$,ee,ae,ce,te,ie){if(a.timeoutHandle=-1,ce=l.subtreeFlags,ce&8192||(ce&16785408)===16785408){ce={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Pi},RP(l,T,ce);var we=(T&62914560)===T?ig-ir():(T&4194048)===T?NP-ir():0;if(we=XG(ce,we),we!==null){Qo=T,a.cancelPendingCommit=we(HP.bind(null,a,l,T,f,p,E,I,O,$,ae,ce,null,te,ie)),os(a,T,I,!ee);return}}HP(a,l,T,f,p,E,I,O,$)}function hG(a){for(var l=a;;){var f=l.tag;if((f===0||f===11||f===15)&&l.flags&16384&&(f=l.updateQueue,f!==null&&(f=f.stores,f!==null)))for(var p=0;p<f.length;p++){var E=f[p],T=E.getSnapshot;E=E.value;try{if(!Pr(T(),E))return!1}catch{return!1}}if(f=l.child,l.subtreeFlags&16384&&f!==null)f.return=l,l=f;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function os(a,l,f,p){l&=~DE,l&=~Il,a.suspendedLanes|=l,a.pingedLanes&=~l,p&&(a.warmLanes|=l),p=a.expirationTimes;for(var E=l;0<E;){var T=31-en(E),I=1<<T;p[T]=-1,E&=~I}f!==0&&tl(a,f,l)}function sg(){return(ut&6)===0?(Md(0),!1):!0}function UE(){if(Je!==null){if(dt===0)var a=Je.return;else a=Je,Bo=yl=null,eE(a),Wu=null,hd=0,a=Je;for(;a!==null;)hP(a.alternate,a),a=a.return;Je=null}}function ic(a,l){var f=a.timeoutHandle;f!==-1&&(a.timeoutHandle=-1,DG(f)),f=a.cancelPendingCommit,f!==null&&(a.cancelPendingCommit=null,f()),Qo=0,UE(),wt=a,Je=f=Fo(a.current,null),Ze=l,dt=0,Dr=null,ts=!1,tc=Ii(a,l),NE=!1,nc=Or=DE=Il=ns=Kt=0,yr=Pd=null,OE=!1,(l&8)!==0&&(l|=l&32);var p=a.entangledLanes;if(p!==0)for(a=a.entanglements,p&=l;0<p;){var E=31-en(p),T=1<<E;l|=a[E],p&=~T}return Xo=l,Rm(),f}function VP(a,l){Ge=null,Q.H=Td,l===Yu||l===Lm?(l=Z1(),dt=3):l===z0?(l=Z1(),dt=4):dt=l===gE?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Dr=l,Je===null&&(Kt=1,Jm(a,ni(l,a.current)))}function UP(){var a=Mr.current;return a===null?!0:(Ze&4194048)===Ze?ai===null:(Ze&62914560)===Ze||(Ze&536870912)!==0?a===ai:!1}function FP(){var a=Q.H;return Q.H=Td,a===null?Td:a}function qP(){var a=Q.A;return Q.A=fG,a}function lg(){Kt=4,ts||(Ze&4194048)!==Ze&&Mr.current!==null||(tc=!0),(ns&134217727)===0&&(Il&134217727)===0||wt===null||os(wt,Ze,Or,!1)}function FE(a,l,f){var p=ut;ut|=2;var E=FP(),T=qP();(wt!==a||Ze!==l)&&(ag=null,ic(a,l)),l=!1;var I=Kt;e:do try{if(dt!==0&&Je!==null){var O=Je,$=Dr;switch(dt){case 8:UE(),I=6;break e;case 3:case 2:case 9:case 6:Mr.current===null&&(l=!0);var ee=dt;if(dt=0,Dr=null,oc(a,O,$,ee),f&&tc){I=0;break e}break;default:ee=dt,dt=0,Dr=null,oc(a,O,$,ee)}}pG(),I=Kt;break}catch(ae){VP(a,ae)}while(!0);return l&&a.shellSuspendCounter++,Bo=yl=null,ut=p,Q.H=E,Q.A=T,Je===null&&(wt=null,Ze=0,Rm()),I}function pG(){for(;Je!==null;)BP(Je)}function mG(a,l){var f=ut;ut|=2;var p=FP(),E=qP();wt!==a||Ze!==l?(ag=null,og=ir()+500,ic(a,l)):tc=Ii(a,l);e:do try{if(dt!==0&&Je!==null){l=Je;var T=Dr;t:switch(dt){case 1:dt=0,Dr=null,oc(a,l,T,1);break;case 2:case 9:if(X1(T)){dt=0,Dr=null,zP(l);break}l=function(){dt!==2&&dt!==9||wt!==a||(dt=7),vo(a)},T.then(l,l);break e;case 3:dt=7;break e;case 4:dt=5;break e;case 7:X1(T)?(dt=0,Dr=null,zP(l)):(dt=0,Dr=null,oc(a,l,T,7));break;case 5:var I=null;switch(Je.tag){case 26:I=Je.memoizedState;case 5:case 27:var O=Je;if(I?Cx(I):O.stateNode.complete){dt=0,Dr=null;var $=O.sibling;if($!==null)Je=$;else{var ee=O.return;ee!==null?(Je=ee,ug(ee)):Je=null}break t}}dt=0,Dr=null,oc(a,l,T,5);break;case 6:dt=0,Dr=null,oc(a,l,T,6);break;case 8:UE(),Kt=6;break e;default:throw Error(r(462))}}gG();break}catch(ae){VP(a,ae)}while(!0);return Bo=yl=null,Q.H=p,Q.A=E,ut=f,Je!==null?0:(wt=null,Ze=0,Rm(),Kt)}function gG(){for(;Je!==null&&!m0();)BP(Je)}function BP(a){var l=fP(a.alternate,a,Xo);a.memoizedProps=a.pendingProps,l===null?ug(a):Je=l}function zP(a){var l=a,f=l.alternate;switch(l.tag){case 15:case 0:l=oP(f,l,l.pendingProps,l.type,void 0,Ze);break;case 11:l=oP(f,l,l.pendingProps,l.type.render,l.ref,Ze);break;case 5:eE(l);default:hP(f,l),l=Je=q1(l,Xo),l=fP(f,l,Xo)}a.memoizedProps=a.pendingProps,l===null?ug(a):Je=l}function oc(a,l,f,p){Bo=yl=null,eE(l),Wu=null,hd=0;var E=l.return;try{if(iG(a,E,l,f,Ze)){Kt=1,Jm(a,ni(f,a.current)),Je=null;return}}catch(T){if(E!==null)throw Je=E,T;Kt=1,Jm(a,ni(f,a.current)),Je=null;return}l.flags&32768?(nt||p===1?a=!0:tc||(Ze&536870912)!==0?a=!1:(ts=a=!0,(p===2||p===9||p===3||p===6)&&(p=Mr.current,p!==null&&p.tag===13&&(p.flags|=16384))),GP(l,a)):ug(l)}function ug(a){var l=a;do{if((l.flags&32768)!==0){GP(l,ts);return}a=l.return;var f=sG(l.alternate,l,Xo);if(f!==null){Je=f;return}if(l=l.sibling,l!==null){Je=l;return}Je=l=a}while(l!==null);Kt===0&&(Kt=5)}function GP(a,l){do{var f=lG(a.alternate,a);if(f!==null){f.flags&=32767,Je=f;return}if(f=a.return,f!==null&&(f.flags|=32768,f.subtreeFlags=0,f.deletions=null),!l&&(a=a.sibling,a!==null)){Je=a;return}Je=a=f}while(a!==null);Kt=6,Je=null}function HP(a,l,f,p,E,T,I,O,$){a.cancelPendingCommit=null;do cg();while(In!==0);if((ut&6)!==0)throw Error(r(327));if(l!==null){if(l===a.current)throw Error(r(177));if(T=l.lanes|l.childLanes,T|=C0,v0(a,f,T,I,O,$),a===wt&&(Je=wt=null,Ze=0),rc=l,is=a,Qo=f,kE=T,LE=E,DP=p,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,EG(ka,function(){return jP(),null})):(a.callbackNode=null,a.callbackPriority=0),p=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||p){p=Q.T,Q.T=null,E=fe.p,fe.p=2,I=ut,ut|=4;try{uG(a,l,f)}finally{ut=I,fe.p=E,Q.T=p}}In=1,$P(),KP(),YP()}}function $P(){if(In===1){In=0;var a=is,l=rc,f=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||f){f=Q.T,Q.T=null;var p=fe.p;fe.p=2;var E=ut;ut|=4;try{AP(l,a);var T=XE,I=M1(a.containerInfo),O=T.focusedElem,$=T.selectionRange;if(I!==O&&O&&O.ownerDocument&&x1(O.ownerDocument.documentElement,O)){if($!==null&&S0(O)){var ee=$.start,ae=$.end;if(ae===void 0&&(ae=ee),"selectionStart"in O)O.selectionStart=ee,O.selectionEnd=Math.min(ae,O.value.length);else{var ce=O.ownerDocument||document,te=ce&&ce.defaultView||window;if(te.getSelection){var ie=te.getSelection(),we=O.textContent.length,Ne=Math.min($.start,we),St=$.end===void 0?Ne:Math.min($.end,we);!ie.extend&&Ne>St&&(I=St,St=Ne,Ne=I);var W=P1(O,Ne),Y=P1(O,St);if(W&&Y&&(ie.rangeCount!==1||ie.anchorNode!==W.node||ie.anchorOffset!==W.offset||ie.focusNode!==Y.node||ie.focusOffset!==Y.offset)){var Z=ce.createRange();Z.setStart(W.node,W.offset),ie.removeAllRanges(),Ne>St?(ie.addRange(Z),ie.extend(Y.node,Y.offset)):(Z.setEnd(Y.node,Y.offset),ie.addRange(Z))}}}}for(ce=[],ie=O;ie=ie.parentNode;)ie.nodeType===1&&ce.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof O.focus=="function"&&O.focus(),O=0;O<ce.length;O++){var ue=ce[O];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}Sg=!!JE,XE=JE=null}finally{ut=E,fe.p=p,Q.T=f}}a.current=l,In=2}}function KP(){if(In===2){In=0;var a=is,l=rc,f=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||f){f=Q.T,Q.T=null;var p=fe.p;fe.p=2;var E=ut;ut|=4;try{EP(a,l.alternate,l)}finally{ut=E,fe.p=p,Q.T=f}}In=3}}function YP(){if(In===4||In===3){In=0,em();var a=is,l=rc,f=Qo,p=DP;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?In=5:(In=0,rc=is=null,WP(a,a.pendingLanes));var E=a.pendingLanes;if(E===0&&(rs=null),ko(f),l=l.stateNode,Gn&&typeof Gn.onCommitFiberRoot=="function")try{Gn.onCommitFiberRoot(Ai,l,void 0,(l.current.flags&128)===128)}catch{}if(p!==null){l=Q.T,E=fe.p,fe.p=2,Q.T=null;try{for(var T=a.onRecoverableError,I=0;I<p.length;I++){var O=p[I];T(O.value,{componentStack:O.stack})}}finally{Q.T=l,fe.p=E}}(Qo&3)!==0&&cg(),vo(a),E=a.pendingLanes,(f&261930)!==0&&(E&42)!==0?a===VE?xd++:(xd=0,VE=a):xd=0,Md(0)}}function WP(a,l){(a.pooledCacheLanes&=l)===0&&(l=a.pooledCache,l!=null&&(a.pooledCache=null,fd(l)))}function cg(){return $P(),KP(),YP(),jP()}function jP(){if(In!==5)return!1;var a=is,l=kE;kE=0;var f=ko(Qo),p=Q.T,E=fe.p;try{fe.p=32>f?32:f,Q.T=null,f=LE,LE=null;var T=is,I=Qo;if(In=0,rc=is=null,Qo=0,(ut&6)!==0)throw Error(r(331));var O=ut;if(ut|=4,xP(T.current),CP(T,T.current,I,f),ut=O,Md(0,!1),Gn&&typeof Gn.onPostCommitFiberRoot=="function")try{Gn.onPostCommitFiberRoot(Ai,T)}catch{}return!0}finally{fe.p=E,Q.T=p,WP(a,l)}}function JP(a,l,f){l=ni(f,l),l=mE(a.stateNode,l,2),a=Xa(a,l,2),a!==null&&(el(a,2),vo(a))}function ht(a,l,f){if(a.tag===3)JP(a,a,f);else for(;l!==null;){if(l.tag===3){JP(l,a,f);break}else if(l.tag===1){var p=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(rs===null||!rs.has(p))){a=ni(f,a),f=XR(2),p=Xa(l,f,2),p!==null&&(QR(f,p,l,a),el(p,2),vo(p));break}}l=l.return}}function qE(a,l,f){var p=a.pingCache;if(p===null){p=a.pingCache=new dG;var E=new Set;p.set(l,E)}else E=p.get(l),E===void 0&&(E=new Set,p.set(l,E));E.has(f)||(NE=!0,E.add(f),a=yG.bind(null,a,l,f),l.then(a,a))}function yG(a,l,f){var p=a.pingCache;p!==null&&p.delete(l),a.pingedLanes|=a.suspendedLanes&f,a.warmLanes&=~f,wt===a&&(Ze&f)===f&&(Kt===4||Kt===3&&(Ze&62914560)===Ze&&300>ir()-ig?(ut&2)===0&&ic(a,0):DE|=f,nc===Ze&&(nc=0)),vo(a)}function XP(a,l){l===0&&(l=am()),a=pl(a,l),a!==null&&(el(a,l),vo(a))}function vG(a){var l=a.memoizedState,f=0;l!==null&&(f=l.retryLane),XP(a,f)}function _G(a,l){var f=0;switch(a.tag){case 31:case 13:var p=a.stateNode,E=a.memoizedState;E!==null&&(f=E.retryLane);break;case 19:p=a.stateNode;break;case 22:p=a.stateNode._retryCache;break;default:throw Error(r(314))}p!==null&&p.delete(l),XP(a,f)}function EG(a,l){return An(a,l)}var fg=null,ac=null,BE=!1,dg=!1,zE=!1,as=0;function vo(a){a!==ac&&a.next===null&&(ac===null?fg=ac=a:ac=ac.next=a),dg=!0,BE||(BE=!0,SG())}function Md(a,l){if(!zE&&dg){zE=!0;do for(var f=!1,p=fg;p!==null;){if(a!==0){var E=p.pendingLanes;if(E===0)var T=0;else{var I=p.suspendedLanes,O=p.pingedLanes;T=(1<<31-en(42|a)+1)-1,T&=E&~(I&~O),T=T&201326741?T&201326741|1:T?T|2:0}T!==0&&(f=!0,tx(p,T))}else T=Ze,T=Zi(p,p===wt?T:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(T&3)===0||Ii(p,T)||(f=!0,tx(p,T));p=p.next}while(f);zE=!1}}function TG(){QP()}function QP(){dg=BE=!1;var a=0;as!==0&&NG()&&(a=as);for(var l=ir(),f=null,p=fg;p!==null;){var E=p.next,T=ZP(p,l);T===0?(p.next=null,f===null?fg=E:f.next=E,E===null&&(ac=f)):(f=p,(a!==0||(T&3)!==0)&&(dg=!0)),p=E}In!==0&&In!==5||Md(a),as!==0&&(as=0)}function ZP(a,l){for(var f=a.suspendedLanes,p=a.pingedLanes,E=a.expirationTimes,T=a.pendingLanes&-62914561;0<T;){var I=31-en(T),O=1<<I,$=E[I];$===-1?((O&f)===0||(O&p)!==0)&&(E[I]=y0(O,l)):$<=l&&(a.expiredLanes|=O),T&=~O}if(l=wt,f=Ze,f=Zi(a,a===l?f:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p=a.callbackNode,f===0||a===l&&(dt===2||dt===9)||a.cancelPendingCommit!==null)return p!==null&&p!==null&&Oa(p),a.callbackNode=null,a.callbackPriority=0;if((f&3)===0||Ii(a,f)){if(l=f&-f,l===a.callbackPriority)return l;switch(p!==null&&Oa(p),ko(f)){case 2:case 8:f=Bf;break;case 32:f=ka;break;case 268435456:f=tm;break;default:f=ka}return p=ex.bind(null,a),f=An(f,p),a.callbackPriority=l,a.callbackNode=f,l}return p!==null&&p!==null&&Oa(p),a.callbackPriority=2,a.callbackNode=null,2}function ex(a,l){if(In!==0&&In!==5)return a.callbackNode=null,a.callbackPriority=0,null;var f=a.callbackNode;if(cg()&&a.callbackNode!==f)return null;var p=Ze;return p=Zi(a,a===wt?p:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),p===0?null:(kP(a,p,l),ZP(a,ir()),a.callbackNode!=null&&a.callbackNode===f?ex.bind(null,a):null)}function tx(a,l){if(cg())return null;kP(a,l,!0)}function SG(){OG(function(){(ut&6)!==0?An(qf,TG):QP()})}function GE(){if(as===0){var a=$u;a===0&&(a=Xi,Xi<<=1,(Xi&261888)===0&&(Xi=256)),as=a}return as}function nx(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:xu(""+a)}function rx(a,l){var f=l.ownerDocument.createElement("input");return f.name=l.name,f.value=l.value,a.id&&f.setAttribute("form",a.id),l.parentNode.insertBefore(f,l),a=new FormData(a),f.parentNode.removeChild(f),a}function bG(a,l,f,p,E){if(l==="submit"&&f&&f.stateNode===E){var T=nx((E[Dn]||null).action),I=p.submitter;I&&(l=(l=I[Dn]||null)?nx(l.formAction):I.getAttribute("formAction"),l!==null&&(T=l,I=null));var O=new co("action","action",null,p,E);a.push({event:O,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(as!==0){var $=I?rx(E,I):new FormData(E);uE(f,{pending:!0,data:$,method:E.method,action:T},null,$)}}else typeof T=="function"&&(O.preventDefault(),$=I?rx(E,I):new FormData(E),uE(f,{pending:!0,data:$,method:E.method,action:T},T,$))},currentTarget:E}]})}}for(var HE=0;HE<I0.length;HE++){var $E=I0[HE],wG=$E.toLowerCase(),AG=$E[0].toUpperCase()+$E.slice(1);Oi(wG,"on"+AG)}Oi(O1,"onAnimationEnd"),Oi(k1,"onAnimationIteration"),Oi(L1,"onAnimationStart"),Oi("dblclick","onDoubleClick"),Oi("focusin","onFocus"),Oi("focusout","onBlur"),Oi(B5,"onTransitionRun"),Oi(z5,"onTransitionStart"),Oi(G5,"onTransitionCancel"),Oi(V1,"onTransitionEnd"),ao("onMouseEnter",["mouseout","mouseover"]),ao("onMouseLeave",["mouseout","mouseover"]),ao("onPointerEnter",["pointerout","pointerover"]),ao("onPointerLeave",["pointerout","pointerover"]),oo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),oo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),oo("onBeforeInput",["compositionend","keypress","textInput","paste"]),oo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),oo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),oo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IG=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nd));function ix(a,l){l=(l&4)!==0;for(var f=0;f<a.length;f++){var p=a[f],E=p.event;p=p.listeners;e:{var T=void 0;if(l)for(var I=p.length-1;0<=I;I--){var O=p[I],$=O.instance,ee=O.currentTarget;if(O=O.listener,$!==T&&E.isPropagationStopped())break e;T=O,E.currentTarget=ee;try{T(E)}catch(ae){Cm(ae)}E.currentTarget=null,T=$}else for(I=0;I<p.length;I++){if(O=p[I],$=O.instance,ee=O.currentTarget,O=O.listener,$!==T&&E.isPropagationStopped())break e;T=O,E.currentTarget=ee;try{T(E)}catch(ae){Cm(ae)}E.currentTarget=null,T=$}}}}function Xe(a,l){var f=l[Au];f===void 0&&(f=l[Au]=new Set);var p=a+"__bubble";f.has(p)||(ox(l,a,2,!1),f.add(p))}function KE(a,l,f){var p=0;l&&(p|=4),ox(f,a,p,l)}var hg="_reactListening"+Math.random().toString(36).slice(2);function YE(a){if(!a[hg]){a[hg]=!0,Hf.forEach(function(f){f!=="selectionchange"&&(IG.has(f)||KE(f,!1,a),KE(f,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[hg]||(l[hg]=!0,KE("selectionchange",!1,l))}}function ox(a,l,f,p){switch(Ox(l)){case 2:var E=eH;break;case 8:E=tH;break;default:E=lT}f=E.bind(null,l,f,a),E=void 0,!al||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(E=!0),p?E!==void 0?a.addEventListener(l,f,{capture:!0,passive:E}):a.addEventListener(l,f,!0):E!==void 0?a.addEventListener(l,f,{passive:E}):a.addEventListener(l,f,!1)}function WE(a,l,f,p,E){var T=p;if((l&1)===0&&(l&2)===0&&p!==null)e:for(;;){if(p===null)return;var I=p.tag;if(I===3||I===4){var O=p.stateNode.containerInfo;if(O===E)break;if(I===4)for(I=p.return;I!==null;){var $=I.tag;if(($===3||$===4)&&I.stateNode.containerInfo===E)return;I=I.return}for(;O!==null;){if(I=ro(O),I===null)return;if($=I.tag,$===5||$===6||$===26||$===27){p=T=I;continue e}O=O.parentNode}}p=p.return}Ba(function(){var ee=T,ae=Qr(f),ce=[];e:{var te=U1.get(a);if(te!==void 0){var ie=co,we=a;switch(a){case"keypress":if(ll(f)===0)break e;case"keydown":case"keyup":ie=wm;break;case"focusin":we="focus",ie=cl;break;case"focusout":we="blur",ie=cl;break;case"beforeblur":case"afterblur":ie=cl;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=rd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=mm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=b;break;case O1:case k1:case L1:ie=ym;break;case V1:ie=V;break;case"scroll":case"scrollend":ie=nd;break;case"wheel":ie=re;break;case"copy":case"cut":case"paste":ie=vm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=Uo;break;case"toggle":case"beforetoggle":ie=ze}var Ne=(l&4)!==0,St=!Ne&&(a==="scroll"||a==="scrollend"),W=Ne?te!==null?te+"Capture":null:te;Ne=[];for(var Y=ee,Z;Y!==null;){var ue=Y;if(Z=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||Z===null||W===null||(ue=xi(Y,W),ue!=null&&Ne.push(Dd(Y,ue,Z))),St)break;Y=Y.return}0<Ne.length&&(te=new ie(te,we,null,f,ae),ce.push({event:te,listeners:Ne}))}}if((l&7)===0){e:{if(te=a==="mouseover"||a==="pointerover",ie=a==="mouseout"||a==="pointerout",te&&f!==Zf&&(we=f.relatedTarget||f.fromElement)&&(ro(we)||we[to]))break e;if((ie||te)&&(te=ae.window===ae?ae:(te=ae.ownerDocument)?te.defaultView||te.parentWindow:window,ie?(we=f.relatedTarget||f.toElement,ie=ee,we=we?ro(we):null,we!==null&&(St=o(we),Ne=we.tag,we!==St||Ne!==5&&Ne!==27&&Ne!==6)&&(we=null)):(ie=null,we=ee),ie!==we)){if(Ne=rd,ue="onMouseLeave",W="onMouseEnter",Y="mouse",(a==="pointerout"||a==="pointerover")&&(Ne=Uo,ue="onPointerLeave",W="onPointerEnter",Y="pointer"),St=ie==null?te:Cr(ie),Z=we==null?te:Cr(we),te=new Ne(ue,Y+"leave",ie,f,ae),te.target=St,te.relatedTarget=Z,ue=null,ro(ae)===ee&&(Ne=new Ne(W,Y+"enter",we,f,ae),Ne.target=Z,Ne.relatedTarget=St,ue=Ne),St=ue,ie&&we)t:{for(Ne=CG,W=ie,Y=we,Z=0,ue=W;ue;ue=Ne(ue))Z++;ue=0;for(var Pe=Y;Pe;Pe=Ne(Pe))ue++;for(;0<Z-ue;)W=Ne(W),Z--;for(;0<ue-Z;)Y=Ne(Y),ue--;for(;Z--;){if(W===Y||Y!==null&&W===Y.alternate){Ne=W;break t}W=Ne(W),Y=Ne(Y)}Ne=null}else Ne=null;ie!==null&&ax(ce,te,ie,Ne,!1),we!==null&&St!==null&&ax(ce,St,we,Ne,!0)}}e:{if(te=ee?Cr(ee):window,ie=te.nodeName&&te.nodeName.toLowerCase(),ie==="select"||ie==="input"&&te.type==="file")var it=b1;else if(T1(te))if(w1)it=U5;else{it=L5;var Ie=k5}else ie=te.nodeName,!ie||ie.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?ee&&Pu(ee.elementType)&&(it=b1):it=V5;if(it&&(it=it(a,ee))){S1(ce,it,f,ae);break e}Ie&&Ie(a,te,ee),a==="focusout"&&ee&&te.type==="number"&&ee.memoizedProps.value!=null&&Jf(te,"number",te.value)}switch(Ie=ee?Cr(ee):window,a){case"focusin":(T1(Ie)||Ie.contentEditable==="true")&&(Vu=Ie,b0=ee,ld=null);break;case"focusout":ld=b0=Vu=null;break;case"mousedown":w0=!0;break;case"contextmenu":case"mouseup":case"dragend":w0=!1,N1(ce,f,ae);break;case"selectionchange":if(q5)break;case"keydown":case"keyup":N1(ce,f,ae)}var He;if(lt)e:{switch(a){case"compositionstart":var et="onCompositionStart";break e;case"compositionend":et="onCompositionEnd";break e;case"compositionupdate":et="onCompositionUpdate";break e}et=void 0}else Lu?fl(a,f)&&(et="onCompositionEnd"):a==="keydown"&&f.keyCode===229&&(et="onCompositionStart");et&&(po&&f.locale!=="ko"&&(Lu||et!=="onCompositionStart"?et==="onCompositionEnd"&&Lu&&(He=td()):(uo=ae,ed="value"in uo?uo.value:uo.textContent,Lu=!0)),Ie=pg(ee,et),0<Ie.length&&(et=new ho(et,a,null,f,ae),ce.push({event:et,listeners:Ie}),He?et.data=He:(He=ku(f),He!==null&&(et.data=He)))),(He=ei?M5(a,f):N5(a,f))&&(et=pg(ee,"onBeforeInput"),0<et.length&&(Ie=new ho("onBeforeInput","beforeinput",null,f,ae),ce.push({event:Ie,listeners:et}),Ie.data=He)),bG(ce,a,ee,f,ae)}ix(ce,l)})}function Dd(a,l,f){return{instance:a,listener:l,currentTarget:f}}function pg(a,l){for(var f=l+"Capture",p=[];a!==null;){var E=a,T=E.stateNode;if(E=E.tag,E!==5&&E!==26&&E!==27||T===null||(E=xi(a,f),E!=null&&p.unshift(Dd(a,E,T)),E=xi(a,l),E!=null&&p.push(Dd(a,E,T))),a.tag===3)return p;a=a.return}return[]}function CG(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function ax(a,l,f,p,E){for(var T=l._reactName,I=[];f!==null&&f!==p;){var O=f,$=O.alternate,ee=O.stateNode;if(O=O.tag,$!==null&&$===p)break;O!==5&&O!==26&&O!==27||ee===null||($=ee,E?(ee=xi(f,T),ee!=null&&I.unshift(Dd(f,ee,$))):E||(ee=xi(f,T),ee!=null&&I.push(Dd(f,ee,$)))),f=f.return}I.length!==0&&a.push({event:l,listeners:I})}var RG=/\r\n?/g,PG=/\u0000|\uFFFD/g;function sx(a){return(typeof a=="string"?a:""+a).replace(RG,`
`).replace(PG,"")}function lx(a,l){return l=sx(l),sx(a)===l}function Tt(a,l,f,p,E,T){switch(f){case"children":typeof p=="string"?l==="body"||l==="textarea"&&p===""||hr(a,p):(typeof p=="number"||typeof p=="bigint")&&l!=="body"&&hr(a,""+p);break;case"className":Rr(a,"class",p);break;case"tabIndex":Rr(a,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":Rr(a,f,p);break;case"style":Qf(a,p,T);break;case"data":if(l!=="object"){Rr(a,"data",p);break}case"src":case"href":if(p===""&&(l!=="a"||f!=="href")){a.removeAttribute(f);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(f);break}p=xu(""+p),a.setAttribute(f,p);break;case"action":case"formAction":if(typeof p=="function"){a.setAttribute(f,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof T=="function"&&(f==="formAction"?(l!=="input"&&Tt(a,l,"name",E.name,E,null),Tt(a,l,"formEncType",E.formEncType,E,null),Tt(a,l,"formMethod",E.formMethod,E,null),Tt(a,l,"formTarget",E.formTarget,E,null)):(Tt(a,l,"encType",E.encType,E,null),Tt(a,l,"method",E.method,E,null),Tt(a,l,"target",E.target,E,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){a.removeAttribute(f);break}p=xu(""+p),a.setAttribute(f,p);break;case"onClick":p!=null&&(a.onclick=Pi);break;case"onScroll":p!=null&&Xe("scroll",a);break;case"onScrollEnd":p!=null&&Xe("scrollend",a);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(f=p.__html,f!=null){if(E.children!=null)throw Error(r(60));a.innerHTML=f}}break;case"multiple":a.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":a.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){a.removeAttribute("xlink:href");break}f=xu(""+p),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",f);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(f,""+p):a.removeAttribute(f);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(f,""):a.removeAttribute(f);break;case"capture":case"download":p===!0?a.setAttribute(f,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?a.setAttribute(f,p):a.removeAttribute(f);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?a.setAttribute(f,p):a.removeAttribute(f);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?a.removeAttribute(f):a.setAttribute(f,p);break;case"popover":Xe("beforetoggle",a),Xe("toggle",a),Cu(a,"popover",p);break;case"xlinkActuate":dn(a,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":dn(a,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":dn(a,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":dn(a,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":dn(a,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":dn(a,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":dn(a,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":dn(a,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":dn(a,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Cu(a,"is",p);break;case"innerText":case"textContent":break;default:(!(2<f.length)||f[0]!=="o"&&f[0]!=="O"||f[1]!=="n"&&f[1]!=="N")&&(f=pm.get(f)||f,Cu(a,f,p))}}function jE(a,l,f,p,E,T){switch(f){case"style":Qf(a,p,T);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(f=p.__html,f!=null){if(E.children!=null)throw Error(r(60));a.innerHTML=f}}break;case"children":typeof p=="string"?hr(a,p):(typeof p=="number"||typeof p=="bigint")&&hr(a,""+p);break;case"onScroll":p!=null&&Xe("scroll",a);break;case"onScrollEnd":p!=null&&Xe("scrollend",a);break;case"onClick":p!=null&&(a.onclick=Pi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$f.hasOwnProperty(f))e:{if(f[0]==="o"&&f[1]==="n"&&(E=f.endsWith("Capture"),l=f.slice(2,E?f.length-7:void 0),T=a[Dn]||null,T=T!=null?T[f]:null,typeof T=="function"&&a.removeEventListener(l,T,E),typeof p=="function")){typeof T!="function"&&T!==null&&(f in a?a[f]=null:a.hasAttribute(f)&&a.removeAttribute(f)),a.addEventListener(l,p,E);break e}f in a?a[f]=p:p===!0?a.setAttribute(f,""):Cu(a,f,p)}}}function Wn(a,l,f){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Xe("error",a),Xe("load",a);var p=!1,E=!1,T;for(T in f)if(f.hasOwnProperty(T)){var I=f[T];if(I!=null)switch(T){case"src":p=!0;break;case"srcSet":E=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Tt(a,l,T,I,f,null)}}E&&Tt(a,l,"srcSet",f.srcSet,f,null),p&&Tt(a,l,"src",f.src,f,null);return;case"input":Xe("invalid",a);var O=T=I=E=null,$=null,ee=null;for(p in f)if(f.hasOwnProperty(p)){var ae=f[p];if(ae!=null)switch(p){case"name":E=ae;break;case"type":I=ae;break;case"checked":$=ae;break;case"defaultChecked":ee=ae;break;case"value":T=ae;break;case"defaultValue":O=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(r(137,l));break;default:Tt(a,l,p,ae,f,null)}}fm(a,T,O,$,ee,I,E,!1);return;case"select":Xe("invalid",a),p=I=T=null;for(E in f)if(f.hasOwnProperty(E)&&(O=f[E],O!=null))switch(E){case"value":T=O;break;case"defaultValue":I=O;break;case"multiple":p=O;default:Tt(a,l,E,O,f,null)}l=T,f=I,a.multiple=!!p,l!=null?Va(a,!!p,l,!1):f!=null&&Va(a,!!p,f,!0);return;case"textarea":Xe("invalid",a),T=E=p=null;for(I in f)if(f.hasOwnProperty(I)&&(O=f[I],O!=null))switch(I){case"value":p=O;break;case"defaultValue":E=O;break;case"children":T=O;break;case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(91));break;default:Tt(a,l,I,O,f,null)}Ua(a,p,E,T);return;case"option":for($ in f)if(f.hasOwnProperty($)&&(p=f[$],p!=null))switch($){case"selected":a.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:Tt(a,l,$,p,f,null)}return;case"dialog":Xe("beforetoggle",a),Xe("toggle",a),Xe("cancel",a),Xe("close",a);break;case"iframe":case"object":Xe("load",a);break;case"video":case"audio":for(p=0;p<Nd.length;p++)Xe(Nd[p],a);break;case"image":Xe("error",a),Xe("load",a);break;case"details":Xe("toggle",a);break;case"embed":case"source":case"link":Xe("error",a),Xe("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in f)if(f.hasOwnProperty(ee)&&(p=f[ee],p!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,l));default:Tt(a,l,ee,p,f,null)}return;default:if(Pu(l)){for(ae in f)f.hasOwnProperty(ae)&&(p=f[ae],p!==void 0&&jE(a,l,ae,p,f,void 0));return}}for(O in f)f.hasOwnProperty(O)&&(p=f[O],p!=null&&Tt(a,l,O,p,f,null))}function xG(a,l,f,p){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var E=null,T=null,I=null,O=null,$=null,ee=null,ae=null;for(ie in f){var ce=f[ie];if(f.hasOwnProperty(ie)&&ce!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":$=ce;default:p.hasOwnProperty(ie)||Tt(a,l,ie,null,p,ce)}}for(var te in p){var ie=p[te];if(ce=f[te],p.hasOwnProperty(te)&&(ie!=null||ce!=null))switch(te){case"type":T=ie;break;case"name":E=ie;break;case"checked":ee=ie;break;case"defaultChecked":ae=ie;break;case"value":I=ie;break;case"defaultValue":O=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,l));break;default:ie!==ce&&Tt(a,l,te,ie,p,ce)}}Ru(a,I,O,$,ee,ae,T,E);return;case"select":ie=I=O=te=null;for(T in f)if($=f[T],f.hasOwnProperty(T)&&$!=null)switch(T){case"value":break;case"multiple":ie=$;default:p.hasOwnProperty(T)||Tt(a,l,T,null,p,$)}for(E in p)if(T=p[E],$=f[E],p.hasOwnProperty(E)&&(T!=null||$!=null))switch(E){case"value":te=T;break;case"defaultValue":O=T;break;case"multiple":I=T;default:T!==$&&Tt(a,l,E,T,p,$)}l=O,f=I,p=ie,te!=null?Va(a,!!f,te,!1):!!p!=!!f&&(l!=null?Va(a,!!f,l,!0):Va(a,!!f,f?[]:"",!1));return;case"textarea":ie=te=null;for(O in f)if(E=f[O],f.hasOwnProperty(O)&&E!=null&&!p.hasOwnProperty(O))switch(O){case"value":break;case"children":break;default:Tt(a,l,O,null,p,E)}for(I in p)if(E=p[I],T=f[I],p.hasOwnProperty(I)&&(E!=null||T!=null))switch(I){case"value":te=E;break;case"defaultValue":ie=E;break;case"children":break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:E!==T&&Tt(a,l,I,E,p,T)}dm(a,te,ie);return;case"option":for(var we in f)if(te=f[we],f.hasOwnProperty(we)&&te!=null&&!p.hasOwnProperty(we))switch(we){case"selected":a.selected=!1;break;default:Tt(a,l,we,null,p,te)}for($ in p)if(te=p[$],ie=f[$],p.hasOwnProperty($)&&te!==ie&&(te!=null||ie!=null))switch($){case"selected":a.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:Tt(a,l,$,te,p,ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ne in f)te=f[Ne],f.hasOwnProperty(Ne)&&te!=null&&!p.hasOwnProperty(Ne)&&Tt(a,l,Ne,null,p,te);for(ee in p)if(te=p[ee],ie=f[ee],p.hasOwnProperty(ee)&&te!==ie&&(te!=null||ie!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(r(137,l));break;default:Tt(a,l,ee,te,p,ie)}return;default:if(Pu(l)){for(var St in f)te=f[St],f.hasOwnProperty(St)&&te!==void 0&&!p.hasOwnProperty(St)&&jE(a,l,St,void 0,p,te);for(ae in p)te=p[ae],ie=f[ae],!p.hasOwnProperty(ae)||te===ie||te===void 0&&ie===void 0||jE(a,l,ae,te,p,ie);return}}for(var W in f)te=f[W],f.hasOwnProperty(W)&&te!=null&&!p.hasOwnProperty(W)&&Tt(a,l,W,null,p,te);for(ce in p)te=p[ce],ie=f[ce],!p.hasOwnProperty(ce)||te===ie||te==null&&ie==null||Tt(a,l,ce,te,p,ie)}function ux(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function MG(){if(typeof performance.getEntriesByType=="function"){for(var a=0,l=0,f=performance.getEntriesByType("resource"),p=0;p<f.length;p++){var E=f[p],T=E.transferSize,I=E.initiatorType,O=E.duration;if(T&&O&&ux(I)){for(I=0,O=E.responseEnd,p+=1;p<f.length;p++){var $=f[p],ee=$.startTime;if(ee>O)break;var ae=$.transferSize,ce=$.initiatorType;ae&&ux(ce)&&($=$.responseEnd,I+=ae*($<O?1:(O-ee)/($-ee)))}if(--p,l+=8*(T+I)/(E.duration/1e3),a++,10<a)break}}if(0<a)return l/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var JE=null,XE=null;function mg(a){return a.nodeType===9?a:a.ownerDocument}function cx(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fx(a,l){if(a===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&l==="foreignObject"?0:a}function QE(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var ZE=null;function NG(){var a=window.event;return a&&a.type==="popstate"?a===ZE?!1:(ZE=a,!0):(ZE=null,!1)}var dx=typeof setTimeout=="function"?setTimeout:void 0,DG=typeof clearTimeout=="function"?clearTimeout:void 0,hx=typeof Promise=="function"?Promise:void 0,OG=typeof queueMicrotask=="function"?queueMicrotask:typeof hx<"u"?function(a){return hx.resolve(null).then(a).catch(kG)}:dx;function kG(a){setTimeout(function(){throw a})}function ss(a){return a==="head"}function px(a,l){var f=l,p=0;do{var E=f.nextSibling;if(a.removeChild(f),E&&E.nodeType===8)if(f=E.data,f==="/$"||f==="/&"){if(p===0){a.removeChild(E),cc(l);return}p--}else if(f==="$"||f==="$?"||f==="$~"||f==="$!"||f==="&")p++;else if(f==="html")Od(a.ownerDocument.documentElement);else if(f==="head"){f=a.ownerDocument.head,Od(f);for(var T=f.firstChild;T;){var I=T.nextSibling,O=T.nodeName;T[no]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&T.rel.toLowerCase()==="stylesheet"||f.removeChild(T),T=I}}else f==="body"&&Od(a.ownerDocument.body);f=E}while(f);cc(l)}function mx(a,l){var f=a;a=0;do{var p=f.nextSibling;if(f.nodeType===1?l?(f._stashedDisplay=f.style.display,f.style.display="none"):(f.style.display=f._stashedDisplay||"",f.getAttribute("style")===""&&f.removeAttribute("style")):f.nodeType===3&&(l?(f._stashedText=f.nodeValue,f.nodeValue=""):f.nodeValue=f._stashedText||""),p&&p.nodeType===8)if(f=p.data,f==="/$"){if(a===0)break;a--}else f!=="$"&&f!=="$?"&&f!=="$~"&&f!=="$!"||a++;f=p}while(f)}function eT(a){var l=a.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var f=l;switch(l=l.nextSibling,f.nodeName){case"HTML":case"HEAD":case"BODY":eT(f),Iu(f);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(f.rel.toLowerCase()==="stylesheet")continue}a.removeChild(f)}}function LG(a,l,f,p){for(;a.nodeType===1;){var E=f;if(a.nodeName.toLowerCase()!==l.toLowerCase()){if(!p&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(p){if(!a[no])switch(l){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(T=a.getAttribute("rel"),T==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(T!==E.rel||a.getAttribute("href")!==(E.href==null||E.href===""?null:E.href)||a.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin)||a.getAttribute("title")!==(E.title==null?null:E.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(T=a.getAttribute("src"),(T!==(E.src==null?null:E.src)||a.getAttribute("type")!==(E.type==null?null:E.type)||a.getAttribute("crossorigin")!==(E.crossOrigin==null?null:E.crossOrigin))&&T&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(l==="input"&&a.type==="hidden"){var T=E.name==null?null:""+E.name;if(E.type==="hidden"&&a.getAttribute("name")===T)return a}else return a;if(a=si(a.nextSibling),a===null)break}return null}function VG(a,l,f){if(l==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!f||(a=si(a.nextSibling),a===null))return null;return a}function gx(a,l){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!l||(a=si(a.nextSibling),a===null))return null;return a}function tT(a){return a.data==="$?"||a.data==="$~"}function nT(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function UG(a,l){var f=a.ownerDocument;if(a.data==="$~")a._reactRetry=l;else if(a.data!=="$?"||f.readyState!=="loading")l();else{var p=function(){l(),f.removeEventListener("DOMContentLoaded",p)};f.addEventListener("DOMContentLoaded",p),a._reactRetry=p}}function si(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"||l==="F!"||l==="F")break;if(l==="/$"||l==="/&")return null}}return a}var rT=null;function yx(a){a=a.nextSibling;for(var l=0;a;){if(a.nodeType===8){var f=a.data;if(f==="/$"||f==="/&"){if(l===0)return si(a.nextSibling);l--}else f!=="$"&&f!=="$!"&&f!=="$?"&&f!=="$~"&&f!=="&"||l++}a=a.nextSibling}return null}function vx(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var f=a.data;if(f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"){if(l===0)return a;l--}else f!=="/$"&&f!=="/&"||l++}a=a.previousSibling}return null}function _x(a,l,f){switch(l=mg(f),a){case"html":if(a=l.documentElement,!a)throw Error(r(452));return a;case"head":if(a=l.head,!a)throw Error(r(453));return a;case"body":if(a=l.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function Od(a){for(var l=a.attributes;l.length;)a.removeAttributeNode(l[0]);Iu(a)}var li=new Map,Ex=new Set;function gg(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Zo=fe.d;fe.d={f:FG,r:qG,D:BG,C:zG,L:GG,m:HG,X:KG,S:$G,M:YG};function FG(){var a=Zo.f(),l=sg();return a||l}function qG(a){var l=Xr(a);l!==null&&l.tag===5&&l.type==="form"?VR(l):Zo.r(a)}var sc=typeof document>"u"?null:document;function Tx(a,l,f){var p=sc;if(p&&typeof l=="string"&&l){var E=dr(l);E='link[rel="'+a+'"][href="'+E+'"]',typeof f=="string"&&(E+='[crossorigin="'+f+'"]'),Ex.has(E)||(Ex.add(E),a={rel:a,crossOrigin:f,href:l},p.querySelector(E)===null&&(l=p.createElement("link"),Wn(l,"link",a),fn(l),p.head.appendChild(l)))}}function BG(a){Zo.D(a),Tx("dns-prefetch",a,null)}function zG(a,l){Zo.C(a,l),Tx("preconnect",a,l)}function GG(a,l,f){Zo.L(a,l,f);var p=sc;if(p&&a&&l){var E='link[rel="preload"][as="'+dr(l)+'"]';l==="image"&&f&&f.imageSrcSet?(E+='[imagesrcset="'+dr(f.imageSrcSet)+'"]',typeof f.imageSizes=="string"&&(E+='[imagesizes="'+dr(f.imageSizes)+'"]')):E+='[href="'+dr(a)+'"]';var T=E;switch(l){case"style":T=lc(a);break;case"script":T=uc(a)}li.has(T)||(a=m({rel:"preload",href:l==="image"&&f&&f.imageSrcSet?void 0:a,as:l},f),li.set(T,a),p.querySelector(E)!==null||l==="style"&&p.querySelector(kd(T))||l==="script"&&p.querySelector(Ld(T))||(l=p.createElement("link"),Wn(l,"link",a),fn(l),p.head.appendChild(l)))}}function HG(a,l){Zo.m(a,l);var f=sc;if(f&&a){var p=l&&typeof l.as=="string"?l.as:"script",E='link[rel="modulepreload"][as="'+dr(p)+'"][href="'+dr(a)+'"]',T=E;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":T=uc(a)}if(!li.has(T)&&(a=m({rel:"modulepreload",href:a},l),li.set(T,a),f.querySelector(E)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(f.querySelector(Ld(T)))return}p=f.createElement("link"),Wn(p,"link",a),fn(p),f.head.appendChild(p)}}}function $G(a,l,f){Zo.S(a,l,f);var p=sc;if(p&&a){var E=io(p).hoistableStyles,T=lc(a);l=l||"default";var I=E.get(T);if(!I){var O={loading:0,preload:null};if(I=p.querySelector(kd(T)))O.loading=5;else{a=m({rel:"stylesheet",href:a,"data-precedence":l},f),(f=li.get(T))&&iT(a,f);var $=I=p.createElement("link");fn($),Wn($,"link",a),$._p=new Promise(function(ee,ae){$.onload=ee,$.onerror=ae}),$.addEventListener("load",function(){O.loading|=1}),$.addEventListener("error",function(){O.loading|=2}),O.loading|=4,yg(I,l,p)}I={type:"stylesheet",instance:I,count:1,state:O},E.set(T,I)}}}function KG(a,l){Zo.X(a,l);var f=sc;if(f&&a){var p=io(f).hoistableScripts,E=uc(a),T=p.get(E);T||(T=f.querySelector(Ld(E)),T||(a=m({src:a,async:!0},l),(l=li.get(E))&&oT(a,l),T=f.createElement("script"),fn(T),Wn(T,"link",a),f.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},p.set(E,T))}}function YG(a,l){Zo.M(a,l);var f=sc;if(f&&a){var p=io(f).hoistableScripts,E=uc(a),T=p.get(E);T||(T=f.querySelector(Ld(E)),T||(a=m({src:a,async:!0,type:"module"},l),(l=li.get(E))&&oT(a,l),T=f.createElement("script"),fn(T),Wn(T,"link",a),f.head.appendChild(T)),T={type:"script",instance:T,count:1,state:null},p.set(E,T))}}function Sx(a,l,f,p){var E=(E=ke.current)?gg(E):null;if(!E)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof f.precedence=="string"&&typeof f.href=="string"?(l=lc(f.href),f=io(E).hoistableStyles,p=f.get(l),p||(p={type:"style",instance:null,count:0,state:null},f.set(l,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(f.rel==="stylesheet"&&typeof f.href=="string"&&typeof f.precedence=="string"){a=lc(f.href);var T=io(E).hoistableStyles,I=T.get(a);if(I||(E=E.ownerDocument||E,I={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},T.set(a,I),(T=E.querySelector(kd(a)))&&!T._p&&(I.instance=T,I.state.loading=5),li.has(a)||(f={rel:"preload",as:"style",href:f.href,crossOrigin:f.crossOrigin,integrity:f.integrity,media:f.media,hrefLang:f.hrefLang,referrerPolicy:f.referrerPolicy},li.set(a,f),T||WG(E,a,f,I.state))),l&&p===null)throw Error(r(528,""));return I}if(l&&p!==null)throw Error(r(529,""));return null;case"script":return l=f.async,f=f.src,typeof f=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=uc(f),f=io(E).hoistableScripts,p=f.get(l),p||(p={type:"script",instance:null,count:0,state:null},f.set(l,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function lc(a){return'href="'+dr(a)+'"'}function kd(a){return'link[rel="stylesheet"]['+a+"]"}function bx(a){return m({},a,{"data-precedence":a.precedence,precedence:null})}function WG(a,l,f,p){a.querySelector('link[rel="preload"][as="style"]['+l+"]")?p.loading=1:(l=a.createElement("link"),p.preload=l,l.addEventListener("load",function(){return p.loading|=1}),l.addEventListener("error",function(){return p.loading|=2}),Wn(l,"link",f),fn(l),a.head.appendChild(l))}function uc(a){return'[src="'+dr(a)+'"]'}function Ld(a){return"script[async]"+a}function wx(a,l,f){if(l.count++,l.instance===null)switch(l.type){case"style":var p=a.querySelector('style[data-href~="'+dr(f.href)+'"]');if(p)return l.instance=p,fn(p),p;var E=m({},f,{"data-href":f.href,"data-precedence":f.precedence,href:null,precedence:null});return p=(a.ownerDocument||a).createElement("style"),fn(p),Wn(p,"style",E),yg(p,f.precedence,a),l.instance=p;case"stylesheet":E=lc(f.href);var T=a.querySelector(kd(E));if(T)return l.state.loading|=4,l.instance=T,fn(T),T;p=bx(f),(E=li.get(E))&&iT(p,E),T=(a.ownerDocument||a).createElement("link"),fn(T);var I=T;return I._p=new Promise(function(O,$){I.onload=O,I.onerror=$}),Wn(T,"link",p),l.state.loading|=4,yg(T,f.precedence,a),l.instance=T;case"script":return T=uc(f.src),(E=a.querySelector(Ld(T)))?(l.instance=E,fn(E),E):(p=f,(E=li.get(T))&&(p=m({},f),oT(p,E)),a=a.ownerDocument||a,E=a.createElement("script"),fn(E),Wn(E,"link",p),a.head.appendChild(E),l.instance=E);case"void":return null;default:throw Error(r(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(p=l.instance,l.state.loading|=4,yg(p,f.precedence,a));return l.instance}function yg(a,l,f){for(var p=f.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),E=p.length?p[p.length-1]:null,T=E,I=0;I<p.length;I++){var O=p[I];if(O.dataset.precedence===l)T=O;else if(T!==E)break}T?T.parentNode.insertBefore(a,T.nextSibling):(l=f.nodeType===9?f.head:f,l.insertBefore(a,l.firstChild))}function iT(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.title==null&&(a.title=l.title)}function oT(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.integrity==null&&(a.integrity=l.integrity)}var vg=null;function Ax(a,l,f){if(vg===null){var p=new Map,E=vg=new Map;E.set(f,p)}else E=vg,p=E.get(f),p||(p=new Map,E.set(f,p));if(p.has(a))return p;for(p.set(a,null),f=f.getElementsByTagName(a),E=0;E<f.length;E++){var T=f[E];if(!(T[no]||T[cn]||a==="link"&&T.getAttribute("rel")==="stylesheet")&&T.namespaceURI!=="http://www.w3.org/2000/svg"){var I=T.getAttribute(l)||"";I=a+I;var O=p.get(I);O?O.push(T):p.set(I,[T])}}return p}function Ix(a,l,f){a=a.ownerDocument||a,a.head.insertBefore(f,l==="title"?a.querySelector("head > title"):null)}function jG(a,l,f){if(f===1||l.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return a=l.disabled,typeof l.precedence=="string"&&a==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function Cx(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function JG(a,l,f,p){if(f.type==="stylesheet"&&(typeof p.media!="string"||matchMedia(p.media).matches!==!1)&&(f.state.loading&4)===0){if(f.instance===null){var E=lc(p.href),T=l.querySelector(kd(E));if(T){l=T._p,l!==null&&typeof l=="object"&&typeof l.then=="function"&&(a.count++,a=_g.bind(a),l.then(a,a)),f.state.loading|=4,f.instance=T,fn(T);return}T=l.ownerDocument||l,p=bx(p),(E=li.get(E))&&iT(p,E),T=T.createElement("link"),fn(T);var I=T;I._p=new Promise(function(O,$){I.onload=O,I.onerror=$}),Wn(T,"link",p),f.instance=T}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(f,l),(l=f.state.preload)&&(f.state.loading&3)===0&&(a.count++,f=_g.bind(a),l.addEventListener("load",f),l.addEventListener("error",f))}}var aT=0;function XG(a,l){return a.stylesheets&&a.count===0&&Tg(a,a.stylesheets),0<a.count||0<a.imgCount?function(f){var p=setTimeout(function(){if(a.stylesheets&&Tg(a,a.stylesheets),a.unsuspend){var T=a.unsuspend;a.unsuspend=null,T()}},6e4+l);0<a.imgBytes&&aT===0&&(aT=62500*MG());var E=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Tg(a,a.stylesheets),a.unsuspend)){var T=a.unsuspend;a.unsuspend=null,T()}},(a.imgBytes>aT?50:800)+l);return a.unsuspend=f,function(){a.unsuspend=null,clearTimeout(p),clearTimeout(E)}}:null}function _g(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Tg(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Eg=null;function Tg(a,l){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Eg=new Map,l.forEach(QG,a),Eg=null,_g.call(a))}function QG(a,l){if(!(l.state.loading&4)){var f=Eg.get(a);if(f)var p=f.get(null);else{f=new Map,Eg.set(a,f);for(var E=a.querySelectorAll("link[data-precedence],style[data-precedence]"),T=0;T<E.length;T++){var I=E[T];(I.nodeName==="LINK"||I.getAttribute("media")!=="not all")&&(f.set(I.dataset.precedence,I),p=I)}p&&f.set(null,p)}E=l.instance,I=E.getAttribute("data-precedence"),T=f.get(I)||p,T===p&&f.set(null,E),f.set(I,E),this.count++,p=_g.bind(this),E.addEventListener("load",p),E.addEventListener("error",p),T?T.parentNode.insertBefore(E,T.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(E,a.firstChild)),l.state.loading|=4}}var Vd={$$typeof:L,Provider:null,Consumer:null,_currentValue:Ee,_currentValue2:Ee,_threadCount:0};function ZG(a,l,f,p,E,T,I,O,$){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=eo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=eo(0),this.hiddenUpdates=eo(null),this.identifierPrefix=p,this.onUncaughtError=E,this.onCaughtError=T,this.onRecoverableError=I,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=$,this.incompleteTransitions=new Map}function Rx(a,l,f,p,E,T,I,O,$,ee,ae,ce){return a=new ZG(a,l,f,I,$,ee,ae,ce,O),l=1,T===!0&&(l|=24),T=xr(3,null,null,l),a.current=T,T.stateNode=a,l=F0(),l.refCount++,a.pooledCache=l,l.refCount++,T.memoizedState={element:p,isDehydrated:f,cache:l},G0(T),a}function Px(a){return a?(a=qu,a):qu}function xx(a,l,f,p,E,T){E=Px(E),p.context===null?p.context=E:p.pendingContext=E,p=Ja(l),p.payload={element:f},T=T===void 0?null:T,T!==null&&(p.callback=T),f=Xa(a,p,l),f!==null&&(vr(f,a,l),md(f,a,l))}function Mx(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var f=a.retryLane;a.retryLane=f!==0&&f<l?f:l}}function sT(a,l){Mx(a,l),(a=a.alternate)&&Mx(a,l)}function Nx(a){if(a.tag===13||a.tag===31){var l=pl(a,67108864);l!==null&&vr(l,a,67108864),sT(a,67108864)}}function Dx(a){if(a.tag===13||a.tag===31){var l=kr();l=nl(l);var f=pl(a,l);f!==null&&vr(f,a,l),sT(a,l)}}var Sg=!0;function eH(a,l,f,p){var E=Q.T;Q.T=null;var T=fe.p;try{fe.p=2,lT(a,l,f,p)}finally{fe.p=T,Q.T=E}}function tH(a,l,f,p){var E=Q.T;Q.T=null;var T=fe.p;try{fe.p=8,lT(a,l,f,p)}finally{fe.p=T,Q.T=E}}function lT(a,l,f,p){if(Sg){var E=uT(p);if(E===null)WE(a,l,p,bg,f),kx(a,p);else if(rH(E,a,l,f,p))p.stopPropagation();else if(kx(a,p),l&4&&-1<nH.indexOf(a)){for(;E!==null;){var T=Xr(E);if(T!==null)switch(T.tag){case 3:if(T=T.stateNode,T.current.memoizedState.isDehydrated){var I=Qi(T.pendingLanes);if(I!==0){var O=T;for(O.pendingLanes|=2,O.entangledLanes|=2;I;){var $=1<<31-en(I);O.entanglements[1]|=$,I&=~$}vo(T),(ut&6)===0&&(og=ir()+500,Md(0))}}break;case 31:case 13:O=pl(T,2),O!==null&&vr(O,T,2),sg(),sT(T,2)}if(T=uT(p),T===null&&WE(a,l,p,bg,f),T===E)break;E=T}E!==null&&p.stopPropagation()}else WE(a,l,p,null,f)}}function uT(a){return a=Qr(a),cT(a)}var bg=null;function cT(a){if(bg=null,a=ro(a),a!==null){var l=o(a);if(l===null)a=null;else{var f=l.tag;if(f===13){if(a=s(l),a!==null)return a;a=null}else if(f===31){if(a=u(l),a!==null)return a;a=null}else if(f===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null)}}return bg=a,null}function Ox(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qs()){case qf:return 2;case Bf:return 8;case ka:case g0:return 32;case tm:return 268435456;default:return 32}default:return 32}}var fT=!1,ls=null,us=null,cs=null,Ud=new Map,Fd=new Map,fs=[],nH="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function kx(a,l){switch(a){case"focusin":case"focusout":ls=null;break;case"dragenter":case"dragleave":us=null;break;case"mouseover":case"mouseout":cs=null;break;case"pointerover":case"pointerout":Ud.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fd.delete(l.pointerId)}}function qd(a,l,f,p,E,T){return a===null||a.nativeEvent!==T?(a={blockedOn:l,domEventName:f,eventSystemFlags:p,nativeEvent:T,targetContainers:[E]},l!==null&&(l=Xr(l),l!==null&&Nx(l)),a):(a.eventSystemFlags|=p,l=a.targetContainers,E!==null&&l.indexOf(E)===-1&&l.push(E),a)}function rH(a,l,f,p,E){switch(l){case"focusin":return ls=qd(ls,a,l,f,p,E),!0;case"dragenter":return us=qd(us,a,l,f,p,E),!0;case"mouseover":return cs=qd(cs,a,l,f,p,E),!0;case"pointerover":var T=E.pointerId;return Ud.set(T,qd(Ud.get(T)||null,a,l,f,p,E)),!0;case"gotpointercapture":return T=E.pointerId,Fd.set(T,qd(Fd.get(T)||null,a,l,f,p,E)),!0}return!1}function Lx(a){var l=ro(a.target);if(l!==null){var f=o(l);if(f!==null){if(l=f.tag,l===13){if(l=s(f),l!==null){a.blockedOn=l,Ci(a.priority,function(){Dx(f)});return}}else if(l===31){if(l=u(f),l!==null){a.blockedOn=l,Ci(a.priority,function(){Dx(f)});return}}else if(l===3&&f.stateNode.current.memoizedState.isDehydrated){a.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}a.blockedOn=null}function wg(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var f=uT(a.nativeEvent);if(f===null){f=a.nativeEvent;var p=new f.constructor(f.type,f);Zf=p,f.target.dispatchEvent(p),Zf=null}else return l=Xr(f),l!==null&&Nx(l),a.blockedOn=f,!1;l.shift()}return!0}function Vx(a,l,f){wg(a)&&f.delete(l)}function iH(){fT=!1,ls!==null&&wg(ls)&&(ls=null),us!==null&&wg(us)&&(us=null),cs!==null&&wg(cs)&&(cs=null),Ud.forEach(Vx),Fd.forEach(Vx)}function Ag(a,l){a.blockedOn===l&&(a.blockedOn=null,fT||(fT=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,iH)))}var Ig=null;function Ux(a){Ig!==a&&(Ig=a,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Ig===a&&(Ig=null);for(var l=0;l<a.length;l+=3){var f=a[l],p=a[l+1],E=a[l+2];if(typeof p!="function"){if(cT(p||f)===null)continue;break}var T=Xr(f);T!==null&&(a.splice(l,3),l-=3,uE(T,{pending:!0,data:E,method:f.method,action:p},p,E))}}))}function cc(a){function l($){return Ag($,a)}ls!==null&&Ag(ls,a),us!==null&&Ag(us,a),cs!==null&&Ag(cs,a),Ud.forEach(l),Fd.forEach(l);for(var f=0;f<fs.length;f++){var p=fs[f];p.blockedOn===a&&(p.blockedOn=null)}for(;0<fs.length&&(f=fs[0],f.blockedOn===null);)Lx(f),f.blockedOn===null&&fs.shift();if(f=(a.ownerDocument||a).$$reactFormReplay,f!=null)for(p=0;p<f.length;p+=3){var E=f[p],T=f[p+1],I=E[Dn]||null;if(typeof T=="function")I||Ux(f);else if(I){var O=null;if(T&&T.hasAttribute("formAction")){if(E=T,I=T[Dn]||null)O=I.formAction;else if(cT(E)!==null)continue}else O=I.action;typeof O=="function"?f[p+1]=O:(f.splice(p,3),p-=3),Ux(f)}}}function Fx(){function a(T){T.canIntercept&&T.info==="react-transition"&&T.intercept({handler:function(){return new Promise(function(I){return E=I})},focusReset:"manual",scroll:"manual"})}function l(){E!==null&&(E(),E=null),p||setTimeout(f,20)}function f(){if(!p&&!navigation.transition){var T=navigation.currentEntry;T&&T.url!=null&&navigation.navigate(T.url,{state:T.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var p=!1,E=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",l),navigation.addEventListener("navigateerror",l),setTimeout(f,100),function(){p=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",l),navigation.removeEventListener("navigateerror",l),E!==null&&(E(),E=null)}}}function dT(a){this._internalRoot=a}Cg.prototype.render=dT.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(r(409));var f=l.current,p=kr();xx(f,p,a,l,null,null)},Cg.prototype.unmount=dT.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;xx(a.current,2,null,a,null,null),sg(),l[to]=null}};function Cg(a){this._internalRoot=a}Cg.prototype.unstable_scheduleHydration=function(a){if(a){var l=sm();a={blockedOn:null,target:a,priority:l};for(var f=0;f<fs.length&&l!==0&&l<fs[f].priority;f++);fs.splice(f,0,a),f===0&&Lx(a)}};var qx=e.version;if(qx!=="19.2.0")throw Error(r(527,qx,"19.2.0"));fe.findDOMNode=function(a){var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=d(l),a=a!==null?h(a):null,a=a===null?null:a.stateNode,a};var oH={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rg.isDisabled&&Rg.supportsFiber)try{Ai=Rg.inject(oH),Gn=Rg}catch{}}return zd.createRoot=function(a,l){if(!i(a))throw Error(r(299));var f=!1,p="",E=YR,T=WR,I=jR;return l!=null&&(l.unstable_strictMode===!0&&(f=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(E=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(I=l.onRecoverableError)),l=Rx(a,1,!1,null,null,f,p,null,E,T,I,Fx),a[to]=l.current,YE(a),new dT(l)},zd.hydrateRoot=function(a,l,f){if(!i(a))throw Error(r(299));var p=!1,E="",T=YR,I=WR,O=jR,$=null;return f!=null&&(f.unstable_strictMode===!0&&(p=!0),f.identifierPrefix!==void 0&&(E=f.identifierPrefix),f.onUncaughtError!==void 0&&(T=f.onUncaughtError),f.onCaughtError!==void 0&&(I=f.onCaughtError),f.onRecoverableError!==void 0&&(O=f.onRecoverableError),f.formState!==void 0&&($=f.formState)),l=Rx(a,1,!0,l,f??null,p,E,$,T,I,O,Fx),l.context=Px(null),f=l.current,p=kr(),p=nl(p),E=Ja(p),E.callback=null,Xa(f,E,p),f=p,l.current.lanes=f,el(l,f),vo(l),a[to]=l.current,YE(a),new Cg(l)},zd.version="19.2.0",zd}var Jx;function vH(){if(Jx)return gT.exports;Jx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),gT.exports=yH(),gT.exports}var _H=vH();const EH=Oo(_H),TH=()=>{};var Xx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $V=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},SH=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],u=t[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},KV={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,u=s?t[i+1]:0,c=i+2<t.length,d=c?t[i+2]:0,h=o>>2,m=(o&3)<<4|u>>4;let _=(u&15)<<2|d>>6,S=d&63;c||(S=64,s||(_=64)),r.push(n[h],n[m],n[_],n[S])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray($V(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):SH(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],u=i<t.length?n[t.charAt(i)]:0;++i;const d=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||u==null||d==null||m==null)throw new bH;const _=o<<2|u>>4;if(r.push(_),d!==64){const S=u<<4&240|d>>2;if(r.push(S),m!==64){const w=d<<6&192|m;r.push(w)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class bH extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wH=function(t){const e=$V(t);return KV.encodeByteArray(e,!0)},by=function(t){return wH(t).replace(/\./g,"")},aA=function(t){try{return KV.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function wy(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!AH(n)||(t[n]=wy(t[n],e[n]));return t}function AH(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IH=()=>sA().__FIREBASE_DEFAULTS__,CH=()=>{if(typeof process>"u"||typeof Xx>"u")return;const t=Xx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},RH=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&aA(t[1]);return e&&JSON.parse(e)},Bv=()=>{try{return TH()||IH()||CH()||RH()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},PH=t=>{var e,n;return(n=(e=Bv())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},xH=t=>{const e=PH(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},lA=()=>{var t;return(t=Bv())==null?void 0:t.config},MH=t=>{var e;return(e=Bv())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NH{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ef(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function YV(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DH(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...t};return[by(JSON.stringify(n)),by(JSON.stringify(s)),""].join(".")}const yh={};function OH(){const t={prod:[],emulator:[]};for(const e of Object.keys(yh))yh[e]?t.emulator.push(e):t.prod.push(e);return t}function kH(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Qx=!1;function WV(t,e){if(typeof window>"u"||typeof document>"u"||!Ef(window.location.host)||yh[t]===e||yh[t]||Qx)return;yh[t]=e;function n(_){return`__firebase__banner__${_}`}const r="__firebase__banner",o=OH().prod.length>0;function s(){const _=document.getElementById(r);_&&_.remove()}function u(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function c(_,S){_.setAttribute("width","24"),_.setAttribute("id",S),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function d(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{Qx=!0,s()},_}function h(_,S){_.setAttribute("id",S),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function m(){const _=kH(r),S=n("text"),w=document.getElementById(S)||document.createElement("span"),A=n("learnmore"),C=document.getElementById(A)||document.createElement("a"),M=n("preprendIcon"),U=document.getElementById(M)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const L=_.element;u(L),h(C,A);const H=d();c(U,M),L.append(U,w,C,H),document.body.appendChild(L)}o?(w.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",S)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function LH(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(zt())}function zv(){var e;const t=(e=Bv())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function VH(){return typeof window<"u"||jV()}function jV(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function UH(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function JV(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function uA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function XV(){const t=zt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function QV(){return!zv()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ZV(){return!zv()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function Nh(){try{return typeof indexedDB=="object"}catch{return!1}}function FH(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)==null?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qH="FirebaseError";class ur extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=qH,Object.setPrototypeOf(this,ur.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hu.prototype.create)}}class hu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?BH(o,r):"Error",u=`${this.serviceName}: ${s} (${i}).`;return new ur(i,u,r)}}function BH(t,e){return t.replace(zH,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const zH=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zx(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function GH(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Hc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(eM(o)&&eM(s)){if(!Hc(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function eM(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Rc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function lh(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function eU(t,e){const n=new HH(t,e);return n.subscribe.bind(n)}class HH{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");$H(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=ET),i.error===void 0&&(i.error=ET),i.complete===void 0&&(i.complete=ET);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $H(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ET(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function We(t){return t&&t._delegate?t._delegate:t}class ca{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let KH=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new NH;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(WH(e))try{this.getOrInitializeService({instanceIdentifier:Rl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Rl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Rl){return this.instances.has(e)}getOptions(e=Rl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);r===u&&s.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:YH(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Rl){return this.component?this.component.multipleInstances?e:Rl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function YH(t){return t===Rl?void 0:t}function WH(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tU{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new KH(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA=[];var Qe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Qe||(Qe={}));const nU={debug:Qe.DEBUG,verbose:Qe.VERBOSE,info:Qe.INFO,warn:Qe.WARN,error:Qe.ERROR,silent:Qe.SILENT},jH=Qe.INFO,JH={[Qe.DEBUG]:"log",[Qe.VERBOSE]:"log",[Qe.INFO]:"info",[Qe.WARN]:"warn",[Qe.ERROR]:"error"},XH=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=JH[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Gv{constructor(e){this.name=e,this._logLevel=jH,this._logHandler=XH,this._userLogHandler=null,cA.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?nU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qe.DEBUG,...e),this._logHandler(this,Qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qe.VERBOSE,...e),this._logHandler(this,Qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qe.INFO,...e),this._logHandler(this,Qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qe.WARN,...e),this._logHandler(this,Qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qe.ERROR,...e),this._logHandler(this,Qe.ERROR,...e)}}function QH(t){cA.forEach(e=>{e.setLogLevel(t)})}function ZH(t,e){for(const n of cA){let r=null;e&&e.level&&(r=nU[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,o,...s)=>{const u=s.map(c=>{if(c==null)return null;if(typeof c=="string")return c;if(typeof c=="number"||typeof c=="boolean")return c.toString();if(c instanceof Error)return c.message;try{return JSON.stringify(c)}catch{return null}}).filter(c=>c).join(" ");o>=(r??i.logLevel)&&t({level:Qe[o].toLowerCase(),message:u,args:s,type:i.name})}}}const e9=(t,e)=>e.some(n=>t instanceof n);let tM,nM;function t9(){return tM||(tM=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function n9(){return nM||(nM=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const rU=new WeakMap,_b=new WeakMap,iU=new WeakMap,TT=new WeakMap,fA=new WeakMap;function r9(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(bs(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&rU.set(n,t)}).catch(()=>{}),fA.set(e,t),e}function i9(t){if(_b.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});_b.set(t,e)}let Eb={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return _b.get(t);if(e==="objectStoreNames")return t.objectStoreNames||iU.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return bs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function o9(t){Eb=t(Eb)}function a9(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ST(this),e,...n);return iU.set(r,e.sort?e.sort():[e]),bs(r)}:n9().includes(t)?function(...e){return t.apply(ST(this),e),bs(rU.get(this))}:function(...e){return bs(t.apply(ST(this),e))}}function s9(t){return typeof t=="function"?a9(t):(t instanceof IDBTransaction&&i9(t),e9(t,t9())?new Proxy(t,Eb):t)}function bs(t){if(t instanceof IDBRequest)return r9(t);if(TT.has(t))return TT.get(t);const e=s9(t);return e!==t&&(TT.set(t,e),fA.set(e,t)),e}const ST=t=>fA.get(t);function l9(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),u=bs(s);return r&&s.addEventListener("upgradeneeded",c=>{r(bs(s.result),c.oldVersion,c.newVersion,bs(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),u.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),u}const u9=["get","getKey","getAll","getAllKeys","count"],c9=["put","add","delete","clear"],bT=new Map;function rM(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(bT.get(e))return bT.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=c9.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||u9.includes(n)))return;const o=async function(s,...u){const c=this.transaction(s,i?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(u.shift())),(await Promise.all([d[n](...u),i&&c.done]))[0]};return bT.set(e,o),o}o9(t=>({...t,get:(e,n,r)=>rM(e,n)||t.get(e,n,r),has:(e,n)=>!!rM(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f9{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(d9(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function d9(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Ay="@firebase/app",Tb="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa=new Gv("@firebase/app"),h9="@firebase/app-compat",p9="@firebase/analytics-compat",m9="@firebase/analytics",g9="@firebase/app-check-compat",y9="@firebase/app-check",v9="@firebase/auth",_9="@firebase/auth-compat",E9="@firebase/database",T9="@firebase/data-connect",S9="@firebase/database-compat",b9="@firebase/functions",w9="@firebase/functions-compat",A9="@firebase/installations",I9="@firebase/installations-compat",C9="@firebase/messaging",R9="@firebase/messaging-compat",P9="@firebase/performance",x9="@firebase/performance-compat",M9="@firebase/remote-config",N9="@firebase/remote-config-compat",D9="@firebase/storage",O9="@firebase/storage-compat",k9="@firebase/firestore",L9="@firebase/ai",V9="@firebase/firestore-compat",U9="firebase",F9="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps="[DEFAULT]",q9={[Ay]:"fire-core",[h9]:"fire-core-compat",[m9]:"fire-analytics",[p9]:"fire-analytics-compat",[y9]:"fire-app-check",[g9]:"fire-app-check-compat",[v9]:"fire-auth",[_9]:"fire-auth-compat",[E9]:"fire-rtdb",[T9]:"fire-data-connect",[S9]:"fire-rtdb-compat",[b9]:"fire-fn",[w9]:"fire-fn-compat",[A9]:"fire-iid",[I9]:"fire-iid-compat",[C9]:"fire-fcm",[R9]:"fire-fcm-compat",[P9]:"fire-perf",[x9]:"fire-perf-compat",[M9]:"fire-rc",[N9]:"fire-rc-compat",[D9]:"fire-gcs",[O9]:"fire-gcs-compat",[k9]:"fire-fst",[V9]:"fire-fst-compat",[L9]:"fire-vertex","fire-js":"fire-js",[U9]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs=new Map,$c=new Map,Kc=new Map;function Dh(t,e){try{t.container.addComponent(e)}catch(n){fa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function oU(t,e){t.container.addOrOverwriteComponent(e)}function Ms(t){const e=t.name;if(Kc.has(e))return fa.debug(`There were multiple attempts to register component ${e}.`),!1;Kc.set(e,t);for(const n of xs.values())Dh(n,t);for(const n of $c.values())Dh(n,t);return!0}function dA(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function B9(t,e,n=Ps){dA(t,e).clearInstance(n)}function hA(t){return t.options!==void 0}function aU(t){return hA(t)?!1:"authIdToken"in t||"appCheckToken"in t||"releaseOnDeref"in t||"automaticDataCollectionEnabled"in t}function Lt(t){return t==null?!1:t.settings!==void 0}function z9(){Kc.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G9={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hr=new hu("app","Firebase",G9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sU=class{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ca("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hr.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iM(t,e){const n=aA(t.split(".")[1]);if(n===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(n).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}const i=JSON.parse(n).exp*1e3,o=new Date().getTime();i-o<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}class H9 extends sU{constructor(e,n,r,i){const o=n.automaticDataCollectionEnabled!==void 0?n.automaticDataCollectionEnabled:!0,s={name:r,automaticDataCollectionEnabled:o};if(e.apiKey!==void 0)super(e,s,i);else{const u=e;super(u.options,s,i)}this._serverConfig={automaticDataCollectionEnabled:o,...n},this._serverConfig.authIdToken&&iM(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&iM(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,n.releaseOnDeref=void 0,Hi(Ay,Tb,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){mA(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Hr.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs=F9;function pA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:Ps,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw Hr.create("bad-app-name",{appName:String(i)});if(n||(n=lA()),!n)throw Hr.create("no-options");const o=xs.get(i);if(o){if(Hc(n,o.options)&&Hc(r,o.config))return o;throw Hr.create("duplicate-app",{appName:i})}const s=new tU(i);for(const c of Kc.values())s.addComponent(c);const u=new sU(n,r,s);return xs.set(i,u),u}function $9(t,e={}){if(VH()&&!jV())throw Hr.create("invalid-server-app-environment");let n,r=e||{};if(t&&(hA(t)?n=t.options:aU(t)?r=t:n=t),r.automaticDataCollectionEnabled===void 0&&(r.automaticDataCollectionEnabled=!0),n||(n=lA()),!n)throw Hr.create("no-options");const i={...r,...n};i.releaseOnDeref!==void 0&&delete i.releaseOnDeref;const o=h=>[...h].reduce((m,_)=>Math.imul(31,m)+_.charCodeAt(0)|0,0);if(r.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw Hr.create("finalization-registry-not-supported",{});const s=""+o(JSON.stringify(i)),u=$c.get(s);if(u)return u.incRefCount(r.releaseOnDeref),u;const c=new tU(s);for(const h of Kc.values())c.addComponent(h);const d=new H9(n,r,s,c);return $c.set(s,d),d}function lU(t=Ps){const e=xs.get(t);if(!e&&t===Ps&&lA())return pA();if(!e)throw Hr.create("no-app",{appName:t});return e}function K9(){return Array.from(xs.values())}async function mA(t){let e=!1;const n=t.name;xs.has(n)?(e=!0,xs.delete(n)):$c.has(n)&&t.decRefCount()<=0&&($c.delete(n),e=!0),e&&(await Promise.all(t.container.getProviders().map(r=>r.delete())),t.isDeleted=!0)}function Hi(t,e,n){let r=q9[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const s=[`Unable to register library "${r}" with version "${e}":`];i&&s.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&s.push("and"),o&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fa.warn(s.join(" "));return}Ms(new ca(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}function uU(t,e){if(t!==null&&typeof t!="function")throw Hr.create("invalid-log-argument");ZH(t,e)}function cU(t){QH(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y9="firebase-heartbeat-database",W9=1,Oh="firebase-heartbeat-store";let wT=null;function fU(){return wT||(wT=l9(Y9,W9,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Oh)}catch(n){console.warn(n)}}}}).catch(t=>{throw Hr.create("idb-open",{originalErrorMessage:t.message})})),wT}async function j9(t){try{const n=(await fU()).transaction(Oh),r=await n.objectStore(Oh).get(dU(t));return await n.done,r}catch(e){if(e instanceof ur)fa.warn(e.message);else{const n=Hr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});fa.warn(n.message)}}}async function oM(t,e){try{const r=(await fU()).transaction(Oh,"readwrite");await r.objectStore(Oh).put(e,dU(t)),await r.done}catch(n){if(n instanceof ur)fa.warn(n.message);else{const r=Hr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});fa.warn(r.message)}}}function dU(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J9=1024,X9=30;class Q9{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new e8(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=aM();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>X9){const s=t8(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){fa.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=aM(),{heartbeatsToSend:r,unsentEntries:i}=Z9(this._heartbeatsCache.heartbeats),o=by(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return fa.warn(n),""}}}function aM(){return new Date().toISOString().substring(0,10)}function Z9(t,e=J9){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),sM(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),sM(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class e8{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Nh()?FH().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await j9(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return oM(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return oM(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function sM(t){return by(JSON.stringify({version:2,heartbeats:t})).length}function t8(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n8(t){Ms(new ca("platform-logger",e=>new f9(e),"PRIVATE")),Ms(new ca("heartbeat",e=>new Q9(e),"PRIVATE")),Hi(Ay,Tb,t),Hi(Ay,Tb,"esm2020"),Hi("fire-js","")}n8("");const r8=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:ur,SDK_VERSION:Bs,_DEFAULT_ENTRY_NAME:Ps,_addComponent:Dh,_addOrOverwriteComponent:oU,_apps:xs,_clearComponents:z9,_components:Kc,_getProvider:dA,_isFirebaseApp:hA,_isFirebaseServerApp:Lt,_isFirebaseServerAppSettings:aU,_registerComponent:Ms,_removeServiceInstance:B9,_serverApps:$c,deleteApp:mA,getApp:lU,getApps:K9,initializeApp:pA,initializeServerApp:$9,onLog:uU,registerVersion:Hi,setLogLevel:cU},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i8{constructor(e,n){this._delegate=e,this.firebase=n,Dh(e,new ca("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),mA(this._delegate)))}_getService(e,n=Ps){var i;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return!r.isInitialized()&&((i=r.getComponent())==null?void 0:i.instantiationMode)==="EXPLICIT"&&r.initialize(),r.getImmediate({identifier:n})}_removeServiceInstance(e,n=Ps){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){Dh(this._delegate,e)}_addOrOverwriteComponent(e){oU(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o8={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},lM=new hu("app-compat","Firebase",o8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a8(t){const e={},n={__esModule:!0,initializeApp:o,app:i,registerVersion:Hi,setLogLevel:cU,onLog:uU,apps:null,SDK_VERSION:Bs,INTERNAL:{registerComponent:u,removeApp:r,useAsService:c,modularAPIs:r8}};n.default=n,Object.defineProperty(n,"apps",{get:s});function r(d){delete e[d]}function i(d){if(d=d||Ps,!Zx(e,d))throw lM.create("no-app",{appName:d});return e[d]}i.App=t;function o(d,h={}){const m=pA(d,h);if(Zx(e,m.name))return e[m.name];const _=new t(m,n);return e[m.name]=_,_}function s(){return Object.keys(e).map(d=>e[d])}function u(d){const h=d.name,m=h.replace("-compat","");if(Ms(d)&&d.type==="PUBLIC"){const _=(S=i())=>{if(typeof S[m]!="function")throw lM.create("invalid-app-argument",{appName:h});return S[m]()};d.serviceProps!==void 0&&wy(_,d.serviceProps),n[m]=_,t.prototype[m]=function(...S){return this._getService.bind(this,h).apply(this,d.multipleInstances?S:[])}}return d.type==="PUBLIC"?n[m]:null}function c(d,h){return h==="serverAuth"?null:h}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hU(){const t=a8(i8);t.INTERNAL={...t.INTERNAL,createFirebaseNamespace:hU,extendNamespace:e,createSubscribe:eU,ErrorFactory:hu,deepExtend:wy};function e(n){wy(t,n)}return t}const s8=hU();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uM=new Gv("@firebase/app-compat"),l8="@firebase/app-compat",u8="0.5.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c8(t){Hi(l8,u8,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const t=sA();if(t.firebase!==void 0){uM.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=t.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&uM.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const pu=s8;c8();var f8="firebase",d8="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pu.registerVersion(f8,d8,"app-compat");const Gd={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",TWITTER:"twitter.com"},fc={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h8(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function pU(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const p8=h8,m8=pU,mU=new hu("auth","Firebase",pU());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iy=new Gv("@firebase/auth");function g8(t,...e){Iy.logLevel<=Qe.WARN&&Iy.warn(`Auth (${Bs}): ${t}`,...e)}function ey(t,...e){Iy.logLevel<=Qe.ERROR&&Iy.error(`Auth (${Bs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(t,...e){throw yA(t,...e)}function Rn(t,...e){return yA(t,...e)}function gA(t,e,n){const r={...m8(),[e]:n};return new hu("auth","Firebase",r).create(e,{appName:t.name})}function Fn(t){return gA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Sf(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Qn(t,"argument-error"),gA(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function yA(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return mU.create(t,...e)}function he(t,e,...n){if(!t)throw yA(e,...n)}function wo(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ey(e),new Error(e)}function Ki(t,e){t||wo(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kh(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function vA(){return cM()==="http:"||cM()==="https:"}function cM(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y8(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vA()||JV()||"connection"in navigator)?navigator.onLine:!0}function v8(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ki(n>e,"Short delay should be less than long delay!"),this.isMobile=LH()||uA()}get(){return y8()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A(t,e){Ki(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gU{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;wo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;wo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;wo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _8={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E8=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],T8=new gp(3e4,6e4);function jt(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Jt(t,e,n,r,i={}){return yU(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const u=Tf({key:t.config.apiKey,...s}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:c,...o};return UH()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&Ef(t.emulatorConfig.host)&&(d.credentials="include"),gU.fetch()(await vU(t,t.config.apiHost,n,u),d)})}async function yU(t,e,n){t._canInitEmulator=!1;const r={..._8,...e};try{const i=new b8(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw uh(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const u=o.ok?s.errorMessage:s.error.message,[c,d]=u.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw uh(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw uh(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw uh(t,"user-disabled",s);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw gA(t,h,d);Qn(t,h)}}catch(i){if(i instanceof ur)throw i;Qn(t,"network-request-failed",{message:String(i)})}}async function wa(t,e,n,r,i={}){const o=await Jt(t,e,n,r,i);return"mfaPendingCredential"in o&&Qn(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function vU(t,e,n,r){const i=`${e}${n}?${r}`,o=t,s=o.config.emulator?_A(t.config,i):`${t.config.apiScheme}://${i}`;return E8.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s}function S8(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class b8{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Rn(this.auth,"network-request-failed")),T8.get())})}}function uh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Rn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fM(t){return t!==void 0&&t.getResponse!==void 0}function dM(t){return t!==void 0&&t.enterprise!==void 0}class _U{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return S8(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w8(t){return(await Jt(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function EU(t,e){return Jt(t,"GET","/v2/recaptchaConfig",jt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A8(t,e){return Jt(t,"POST","/v1/accounts:delete",e)}async function I8(t,e){return Jt(t,"POST","/v1/accounts:update",e)}async function Cy(t,e){return Jt(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vh(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function C8(t,e=!1){const n=We(t),r=await n.getIdToken(e),i=Hv(r);he(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:vh(AT(i.auth_time)),issuedAtTime:vh(AT(i.iat)),expirationTime:vh(AT(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function AT(t){return Number(t)*1e3}function Hv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ey("JWT malformed, contained fewer than 3 sections"),null;try{const i=aA(n);return i?JSON.parse(i):(ey("Failed to decode base64 JWT payload"),null)}catch(i){return ey("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function hM(t){const e=Hv(t);return he(e,"internal-error"),he(typeof e.exp<"u","internal-error"),he(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function da(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ur&&R8(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function R8({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P8{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=vh(this.lastLoginAt),this.creationTime=vh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lh(t){var m;const e=t.auth,n=await t.getIdToken(),r=await da(t,Cy(e,{idToken:n}));he(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const o=(m=i.providerUserInfo)!=null&&m.length?TU(i.providerUserInfo):[],s=M8(t.providerData,o),u=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(s!=null&&s.length),d=u?c:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Sb(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function x8(t){const e=We(t);await Lh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function M8(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function TU(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N8(t,e){const n=await yU(t,{},async()=>{const r=Tf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=await vU(t,i,"/v1/token",`key=${o}`),u=await t._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:u,body:r};return t.emulatorConfig&&Ef(t.emulatorConfig.host)&&(c.credentials="include"),gU.fetch()(s,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function D8(t,e){return Jt(t,"POST","/v2/accounts:revokeToken",jt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){he(e.idToken,"internal-error"),he(typeof e.idToken<"u","internal-error"),he(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):hM(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){he(e.length!==0,"internal-error");const n=hM(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(he(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await N8(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new Nc;return r&&(he(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(he(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(he(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Nc,this.toJSON())}_performRefresh(){return wo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(t,e){he(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class zi{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new P8(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Sb(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await da(this,this.stsTokenManager.getToken(this.auth,e));return he(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return C8(this,e)}reload(){return x8(this)}_assign(e){this!==e&&(he(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new zi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){he(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Lh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Lt(this.auth.app))return Promise.reject(Fn(this.auth));const e=await this.getIdToken();return await da(this,A8(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,o=n.phoneNumber??void 0,s=n.photoURL??void 0,u=n.tenantId??void 0,c=n._redirectEventId??void 0,d=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:m,emailVerified:_,isAnonymous:S,providerData:w,stsTokenManager:A}=n;he(m&&A,e,"internal-error");const C=Nc.fromJSON(this.name,A);he(typeof m=="string",e,"internal-error"),hs(r,e.name),hs(i,e.name),he(typeof _=="boolean",e,"internal-error"),he(typeof S=="boolean",e,"internal-error"),hs(o,e.name),hs(s,e.name),hs(u,e.name),hs(c,e.name),hs(d,e.name),hs(h,e.name);const M=new zi({uid:m,auth:e,email:i,emailVerified:_,displayName:r,isAnonymous:S,photoURL:s,phoneNumber:o,tenantId:u,stsTokenManager:C,createdAt:d,lastLoginAt:h});return w&&Array.isArray(w)&&(M.providerData=w.map(U=>({...U}))),c&&(M._redirectEventId=c),M}static async _fromIdTokenResponse(e,n,r=!1){const i=new Nc;i.updateFromServerResponse(n);const o=new zi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Lh(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];he(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?TU(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),u=new Nc;u.updateFromIdToken(r);const c=new zi({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:s}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Sb(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pM=new Map;function Br(t){Ki(t instanceof Function,"Expected a class definition");let e=pM.get(t);return e?(Ki(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,pM.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SU{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}SU.type="NONE";const Yc=SU;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gl(t,e,n){return`firebase:${t}:${e}:${n}`}class Dc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Gl(this.userKey,i.apiKey,o),this.fullPersistenceKey=Gl("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Cy(this.auth,{idToken:e}).catch(()=>{});return n?zi._fromGetAccountInfoResponse(this.auth,n,e):null}return zi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Dc(Br(Yc),e,r);const i=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=i[0]||Br(Yc);const s=Gl(r,e.config.apiKey,e.name);let u=null;for(const d of n)try{const h=await d._get(s);if(h){let m;if(typeof h=="string"){const _=await Cy(e,{idToken:h}).catch(()=>{});if(!_)break;m=await zi._fromGetAccountInfoResponse(e,_,h)}else m=zi._fromJSON(e,h);d!==o&&(u=m),o=d;break}}catch{}const c=i.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new Dc(o,e,r):(o=c[0],u&&await o._set(s,u.toJSON()),await Promise.all(n.map(async d=>{if(d!==o)try{await d._remove(s)}catch{}})),new Dc(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mM(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(IU(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(bU(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(CU(e))return"Blackberry";if(RU(e))return"Webos";if(wU(e))return"Safari";if((e.includes("chrome/")||AU(e))&&!e.includes("edge/"))return"Chrome";if(yp(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function bU(t=zt()){return/firefox\//i.test(t)}function wU(t=zt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function AU(t=zt()){return/crios\//i.test(t)}function IU(t=zt()){return/iemobile/i.test(t)}function yp(t=zt()){return/android/i.test(t)}function CU(t=zt()){return/blackberry/i.test(t)}function RU(t=zt()){return/webos/i.test(t)}function vp(t=zt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function O8(t=zt()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}function k8(t=zt()){var e;return vp(t)&&!!((e=window.navigator)!=null&&e.standalone)}function L8(){return XV()&&document.documentMode===10}function PU(t=zt()){return vp(t)||yp(t)||RU(t)||CU(t)||/windows phone/i.test(t)||IU(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xU(t,e=[]){let n;switch(t){case"Browser":n=mM(zt());break;case"Worker":n=`${mM(zt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Bs}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V8{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,u)=>{try{const c=e(o);s(c)}catch(c){u(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U8(t,e={}){return Jt(t,"GET","/v2/passwordPolicy",jt(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F8=6;class q8{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??F8,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B8{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gM(this),this.idTokenSubscription=new gM(this),this.beforeStateQueue=new V8(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=mU,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Br(n)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await Dc.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)==null?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Cy(this,{idToken:e}),r=await zi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var o;if(Lt(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(u,u))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(o=this.redirectUser)==null?void 0:o._redirectEventId,u=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!s||s===u)&&(c!=null&&c.user)&&(r=c.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return he(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Lh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=v8()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Lt(this.app))return Promise.reject(Fn(this));const n=e?We(e):null;return n&&he(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&he(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Lt(this.app)?Promise.reject(Fn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Lt(this.app)?Promise.reject(Fn(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Br(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await U8(this),n=new q8(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new hu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await D8(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Br(e)||this._popupRedirectResolver;he(n,this,"argument-error"),this.redirectPersistenceManager=await Dc.create(this,[Br(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(he(u,this,"internal-error"),u.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,i);return()=>{s=!0,c()}}else{const c=e.addObserver(n);return()=>{s=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return he(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=xU(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Lt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&g8(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Gt(t){return We(t)}class gM{constructor(e){this.auth=e,this.observer=null,this.addObserver=eU(n=>this.observer=n)}get next(){return he(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _p={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function z8(t){_p=t}function EA(t){return _p.loadJS(t)}function G8(){return _p.recaptchaV2Script}function H8(){return _p.recaptchaEnterpriseScript}function $8(){return _p.gapiScript}function MU(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K8=500,Y8=6e4,Pg=1e12;class W8{constructor(e){this.auth=e,this.counter=Pg,this._widgets=new Map}render(e,n){const r=this.counter;return this._widgets.set(r,new X8(e,this.auth.name,n||{})),this.counter++,r}reset(e){var r;const n=e||Pg;(r=this._widgets.get(n))==null||r.delete(),this._widgets.delete(n)}getResponse(e){var r;const n=e||Pg;return((r=this._widgets.get(n))==null?void 0:r.getResponse())||""}async execute(e){var r;const n=e||Pg;return(r=this._widgets.get(n))==null||r.execute(),""}}class j8{constructor(){this.enterprise=new J8}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class J8{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class X8{constructor(e,n,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;he(i,"argument-error",{appName:n}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=Q8(50);const{callback:e,"expired-callback":n}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,n)try{n()}catch{}this.isVisible&&this.execute()},Y8)},K8))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function Q8(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<t;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}const Z8="recaptcha-enterprise",_h="NO_RECAPTCHA";class NU{constructor(e){this.type=Z8,this.auth=Gt(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,u)=>{EU(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const d=new _U(c);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,s(d.siteKey)}}).catch(c=>{u(c)})})}function i(o,s,u){const c=window.grecaptcha;dM(c)?c.enterprise.ready(()=>{c.enterprise.execute(o,{action:e}).then(d=>{s(d)}).catch(()=>{s(_h)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new j8().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(u=>{if(!n&&dM(window.grecaptcha))i(u,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=H8();c.length!==0&&(c+=u),EA(c).then(()=>{i(u,o,s)}).catch(d=>{s(d)})}}).catch(u=>{s(u)})})}}async function Hd(t,e,n,r=!1,i=!1){const o=new NU(t);let s;if(i)s=_h;else try{s=await o.verify(n)}catch{s=await o.verify(n,!0)}const u={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const c=u.phoneEnrollmentInfo.phoneNumber,d=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:d,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const c=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:s}):Object.assign(u,{captchaResponse:s}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function ws(t,e,n,r,i){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if((o=t._getRecaptchaConfig())!=null&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Hd(t,e,n,n==="getOobCode");return r(t,u)}else return r(t,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await Hd(t,e,n,n==="getOobCode");return r(t,c)}else return Promise.reject(u)});else if(i==="PHONE_PROVIDER")if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("PHONE_PROVIDER")){const u=await Hd(t,e,n);return r(t,u).catch(async c=>{var d;if(((d=t._getRecaptchaConfig())==null?void 0:d.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(c.code==="auth/missing-recaptcha-token"||c.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const h=await Hd(t,e,n,!1,!0);return r(t,h)}return Promise.reject(c)})}else{const u=await Hd(t,e,n,!1,!0);return r(t,u)}else return Promise.reject(i+" provider is not supported.")}async function e$(t){const e=Gt(t),n=await EU(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new _U(n);e.tenantId==null?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.isAnyProviderEnabled()&&new NU(e).verify()}function t$(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Br);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function n$(t,e,n){const r=Gt(t);he(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),o=DU(e),{host:s,port:u}=r$(e),c=u===null?"":`:${u}`,d={url:`${o}//${s}${c}/`},h=Object.freeze({host:s,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){he(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),he(Hc(d,r.config.emulator)&&Hc(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Ef(s)?(YV(`${o}//${s}${c}`),WV("Auth",!0)):i||i$()}function DU(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function r$(t){const e=DU(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:yM(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:yM(s)}}}function yM(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function i$(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return wo("not implemented")}_getIdTokenResponse(e){return wo("not implemented")}_linkToIdToken(e,n){return wo("not implemented")}_getReauthenticationResolver(e){return wo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OU(t,e){return Jt(t,"POST","/v1/accounts:resetPassword",jt(t,e))}async function o$(t,e){return Jt(t,"POST","/v1/accounts:update",e)}async function a$(t,e){return Jt(t,"POST","/v1/accounts:signUp",e)}async function s$(t,e){return Jt(t,"POST","/v1/accounts:update",jt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l$(t,e){return wa(t,"POST","/v1/accounts:signInWithPassword",jt(t,e))}async function $v(t,e){return Jt(t,"POST","/v1/accounts:sendOobCode",jt(t,e))}async function u$(t,e){return $v(t,e)}async function c$(t,e){return $v(t,e)}async function f$(t,e){return $v(t,e)}async function d$(t,e){return $v(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h$(t,e){return wa(t,"POST","/v1/accounts:signInWithEmailLink",jt(t,e))}async function p$(t,e){return wa(t,"POST","/v1/accounts:signInWithEmailLink",jt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh extends bf{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Vh(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Vh(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ws(e,n,"signInWithPassword",l$,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return h$(e,{email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ws(e,r,"signUpPassword",a$,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return p$(e,{idToken:n,email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sa(t,e){return wa(t,"POST","/v1/accounts:signInWithIdp",jt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m$="http://localhost";class Mo extends bf{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Mo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Qn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...o}=n;if(!r||!i)return null;const s=new Mo(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return sa(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,sa(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,sa(e,n)}buildRequest(){const e={requestUri:m$,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Tf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vM(t,e){return Jt(t,"POST","/v1/accounts:sendVerificationCode",jt(t,e))}async function g$(t,e){return wa(t,"POST","/v1/accounts:signInWithPhoneNumber",jt(t,e))}async function y$(t,e){const n=await wa(t,"POST","/v1/accounts:signInWithPhoneNumber",jt(t,e));if(n.temporaryProof)throw uh(t,"account-exists-with-different-credential",n);return n}const v$={USER_NOT_FOUND:"user-not-found"};async function _$(t,e){const n={...e,operation:"REAUTH"};return wa(t,"POST","/v1/accounts:signInWithPhoneNumber",jt(t,n),v$)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl extends bf{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,n){return new Hl({verificationId:e,verificationCode:n})}static _fromTokenResponse(e,n){return new Hl({phoneNumber:e,temporaryProof:n})}_getIdTokenResponse(e){return g$(e,this._makeVerificationRequest())}_linkToIdToken(e,n){return y$(e,{idToken:n,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return _$(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:n,verificationId:r,verificationCode:i}=this.params;return e&&n?{temporaryProof:e,phoneNumber:n}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:o}=e;return!r&&!n&&!i&&!o?null:new Hl({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E$(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function T$(t){const e=Rc(lh(t)).link,n=e?Rc(lh(e)).deep_link_id:null,r=Rc(lh(t)).deep_link_id;return(r?Rc(lh(r)).link:null)||r||n||e||t}class Kv{constructor(e){const n=Rc(lh(e)),r=n.apiKey??null,i=n.oobCode??null,o=E$(n.mode??null);he(r&&i&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=i,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=T$(e);try{return new Kv(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(){this.providerId=zs.PROVIDER_ID}static credential(e,n){return Vh._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Kv.parseLink(n);return he(r,"argument-error"),Vh._fromEmailAndCode(e,r.code,r.tenantId)}}zs.PROVIDER_ID="password";zs.EMAIL_PASSWORD_SIGN_IN_METHOD="password";zs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wf extends Aa{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Oc extends wf{static credentialFromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;return he("providerId"in n&&"signInMethod"in n,"argument-error"),Mo._fromParams(n)}credential(e){return this._credential({...e,nonce:e.rawNonce})}_credential(e){return he(e.idToken||e.accessToken,"argument-error"),Mo._fromParams({...e,providerId:this.providerId,signInMethod:this.providerId})}static credentialFromResult(e){return Oc.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Oc.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:o,nonce:s,providerId:u}=e;if(!r&&!i&&!n&&!o||!u)return null;try{return new Oc(u)._credential({idToken:n,accessToken:r,nonce:s,pendingToken:o})}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo extends wf{constructor(){super("facebook.com")}static credential(e){return Mo._fromParams({providerId:Eo.PROVIDER_ID,signInMethod:Eo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Eo.credentialFromTaggedObject(e)}static credentialFromError(e){return Eo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Eo.credential(e.oauthAccessToken)}catch{return null}}}Eo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Eo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To extends wf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Mo._fromParams({providerId:To.PROVIDER_ID,signInMethod:To.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return To.credentialFromTaggedObject(e)}static credentialFromError(e){return To.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return To.credential(n,r)}catch{return null}}}To.GOOGLE_SIGN_IN_METHOD="google.com";To.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So extends wf{constructor(){super("github.com")}static credential(e){return Mo._fromParams({providerId:So.PROVIDER_ID,signInMethod:So.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return So.credentialFromTaggedObject(e)}static credentialFromError(e){return So.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return So.credential(e.oauthAccessToken)}catch{return null}}}So.GITHUB_SIGN_IN_METHOD="github.com";So.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S$="http://localhost";class Wc extends bf{constructor(e,n){super(e,e),this.pendingToken=n}_getIdTokenResponse(e){const n=this.buildRequest();return sa(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,sa(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,sa(e,n)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:o}=n;return!r||!i||!o||r!==i?null:new Wc(r,o)}static _create(e,n){return new Wc(e,n)}buildRequest(){return{requestUri:S$,returnSecureToken:!0,pendingToken:this.pendingToken}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b$="saml.";class Ry extends Aa{constructor(e){he(e.startsWith(b$),"argument-error"),super(e)}static credentialFromResult(e){return Ry.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Ry.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const n=Wc.fromJSON(e);return he(n,"argument-error"),n}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:n,providerId:r}=e;if(!n||!r)return null;try{return Wc._create(r,n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo extends wf{constructor(){super("twitter.com")}static credential(e,n){return Mo._fromParams({providerId:bo.PROVIDER_ID,signInMethod:bo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return bo.credentialFromTaggedObject(e)}static credentialFromError(e){return bo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return bo.credential(n,r)}catch{return null}}}bo.TWITTER_SIGN_IN_METHOD="twitter.com";bo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kU(t,e){return wa(t,"POST","/v1/accounts:signUp",jt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await zi._fromIdTokenResponse(e,r,i),s=_M(r);return new _i({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=_M(r);return new _i({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function _M(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w$(t){var i;if(Lt(t.app))return Promise.reject(Fn(t));const e=Gt(t);if(await e._initializationPromise,(i=e.currentUser)!=null&&i.isAnonymous)return new _i({user:e.currentUser,providerId:null,operationType:"signIn"});const n=await kU(e,{returnSecureToken:!0}),r=await _i._fromIdTokenResponse(e,"signIn",n,!0);return await e._updateCurrentUser(r.user),r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py extends ur{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Py.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Py(e,n,r,i)}}function LU(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Py._fromErrorAndOperation(t,o,e,r):o})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VU(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A$(t,e){const n=We(t);await Yv(!0,n,e);const{providerUserInfo:r}=await I8(n.auth,{idToken:await n.getIdToken(),deleteProvider:[e]}),i=VU(r||[]);return n.providerData=n.providerData.filter(o=>i.has(o.providerId)),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function TA(t,e,n=!1){const r=await da(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return _i._forOperation(t,"link",r)}async function Yv(t,e,n){await Lh(e);const r=VU(e.providerData),i=t===!1?"provider-already-linked":"no-such-provider";he(r.has(n)===t,e.auth,i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UU(t,e,n=!1){const{auth:r}=t;if(Lt(r.app))return Promise.reject(Fn(r));const i="reauthenticate";try{const o=await da(t,LU(r,i,e,t),n);he(o.idToken,r,"internal-error");const s=Hv(o.idToken);he(s,r,"internal-error");const{sub:u}=s;return he(t.uid===u,r,"user-mismatch"),_i._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Qn(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FU(t,e,n=!1){if(Lt(t.app))return Promise.reject(Fn(t));const r="signIn",i=await LU(t,r,e),o=await _i._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function Wv(t,e){return FU(Gt(t),e)}async function qU(t,e){const n=We(t);return await Yv(!1,n,e.providerId),TA(n,e)}async function BU(t,e){return UU(We(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I$(t,e){return wa(t,"POST","/v1/accounts:signInWithCustomToken",jt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C$(t,e){if(Lt(t.app))return Promise.reject(Fn(t));const n=Gt(t),r=await I$(n,{token:e,returnSecureToken:!0}),i=await _i._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(e,n){this.factorId=e,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}static _fromServerResponse(e,n){return"phoneInfo"in n?SA._fromServerResponse(e,n):"totpInfo"in n?bA._fromServerResponse(e,n):Qn(e,"internal-error")}}class SA extends Ep{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,n){return new SA(n)}}class bA extends Ep{constructor(e){super("totp",e)}static _fromServerResponse(e,n){return new bA(n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jv(t,e,n){var r;he(((r=n.url)==null?void 0:r.length)>0,t,"invalid-continue-uri"),he(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),he(typeof n.linkDomain>"u"||n.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.linkDomain=n.linkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(he(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(he(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wA(t){const e=Gt(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function R$(t,e,n){const r=Gt(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};n&&jv(r,i,n),await ws(r,i,"getOobCode",c$,"EMAIL_PASSWORD_PROVIDER")}async function P$(t,e,n){await OU(We(t),{oobCode:e,newPassword:n}).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&wA(t),r})}async function x$(t,e){await s$(We(t),{oobCode:e})}async function zU(t,e){const n=We(t),r=await OU(n,{oobCode:e}),i=r.requestType;switch(he(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":he(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":he(r.mfaInfo,n,"internal-error");default:he(r.email,n,"internal-error")}let o=null;return r.mfaInfo&&(o=Ep._fromServerResponse(Gt(n),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}}async function M$(t,e){const{data:n}=await zU(We(t),e);return n.email}async function N$(t,e,n){if(Lt(t.app))return Promise.reject(Fn(t));const r=Gt(t),s=await ws(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",kU,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&wA(t),c}),u=await _i._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(u.user),u}function D$(t,e,n){return Lt(t.app)?Promise.reject(Fn(t)):Wv(We(t),zs.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&wA(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O$(t,e,n){const r=Gt(t),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function o(s,u){he(u.handleCodeInApp,r,"argument-error"),u&&jv(r,s,u)}o(i,n),await ws(r,i,"getOobCode",f$,"EMAIL_PASSWORD_PROVIDER")}function k$(t,e){const n=Kv.parseLink(e);return(n==null?void 0:n.operation)==="EMAIL_SIGNIN"}async function L$(t,e,n){if(Lt(t.app))return Promise.reject(Fn(t));const r=We(t),i=zs.credentialWithLink(e,n||kh());return he(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Wv(r,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V$(t,e){return Jt(t,"POST","/v1/accounts:createAuthUri",jt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U$(t,e){const n=vA()?kh():"http://localhost",r={identifier:e,continueUri:n},{signinMethods:i}=await V$(We(t),r);return i||[]}async function F$(t,e){const n=We(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&jv(n.auth,i,e);const{email:o}=await u$(n.auth,i);o!==t.email&&await t.reload()}async function q$(t,e,n){const r=We(t),o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};n&&jv(r.auth,o,n);const{email:s}=await d$(r.auth,o);s!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B$(t,e){return Jt(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z$(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=We(t),o={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},s=await da(r,B$(r.auth,o));r.displayName=s.displayName||null,r.photoURL=s.photoUrl||null;const u=r.providerData.find(({providerId:c})=>c==="password");u&&(u.displayName=r.displayName,u.photoURL=r.photoURL),await r._updateTokensIfNecessary(s)}function G$(t,e){const n=We(t);return Lt(n.auth.app)?Promise.reject(Fn(n.auth)):GU(n,e,null)}function H$(t,e){return GU(We(t),null,e)}async function GU(t,e,n){const{auth:r}=t,o={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(o.email=e),n&&(o.password=n);const s=await da(t,o$(r,o));await t._updateTokensIfNecessary(s,!0)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $$(t){var i,o;if(!t)return null;const{providerId:e}=t,n=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},r=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!e&&(t!=null&&t.idToken)){const s=(o=(i=Hv(t.idToken))==null?void 0:i.firebase)==null?void 0:o.sign_in_provider;if(s){const u=s!=="anonymous"&&s!=="custom"?s:null;return new kc(r,u)}}if(!e)return null;switch(e){case"facebook.com":return new K$(r,n);case"github.com":return new Y$(r,n);case"google.com":return new W$(r,n);case"twitter.com":return new j$(r,n,t.screenName||null);case"custom":case"anonymous":return new kc(r,null);default:return new kc(r,e,n)}}class kc{constructor(e,n,r={}){this.isNewUser=e,this.providerId=n,this.profile=r}}class HU extends kc{constructor(e,n,r,i){super(e,n,r),this.username=i}}class K$ extends kc{constructor(e,n){super(e,"facebook.com",n)}}class Y$ extends HU{constructor(e,n){super(e,"github.com",n,typeof(n==null?void 0:n.login)=="string"?n==null?void 0:n.login:null)}}class W$ extends kc{constructor(e,n){super(e,"google.com",n)}}class j$ extends HU{constructor(e,n,r){super(e,"twitter.com",n,r)}}function J$(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:$$(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e,n,r){this.type=e,this.credential=n,this.user=r}static _fromIdtoken(e,n){return new Fl("enroll",e,n)}static _fromMfaPendingCredential(e){return new Fl("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var n,r;if(e!=null&&e.multiFactorSession){if((n=e.multiFactorSession)!=null&&n.pendingCredential)return Fl._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if((r=e.multiFactorSession)!=null&&r.idToken)return Fl._fromIdtoken(e.multiFactorSession.idToken)}return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AA{constructor(e,n,r){this.session=e,this.hints=n,this.signInResolver=r}static _fromError(e,n){const r=Gt(e),i=n.customData._serverResponse,o=(i.mfaInfo||[]).map(u=>Ep._fromServerResponse(r,u));he(i.mfaPendingCredential,r,"internal-error");const s=Fl._fromMfaPendingCredential(i.mfaPendingCredential);return new AA(s,o,async u=>{const c=await u._process(r,s);delete i.mfaInfo,delete i.mfaPendingCredential;const d={...i,idToken:c.idToken,refreshToken:c.refreshToken};switch(n.operationType){case"signIn":const h=await _i._fromIdTokenResponse(r,n.operationType,d);return await r._updateCurrentUser(h.user),h;case"reauthenticate":return he(n.user,r,"internal-error"),_i._forOperation(n.user,n.operationType,d);default:Qn(r,"internal-error")}})}async resolveSignIn(e){const n=e;return this.signInResolver(n)}}function X$(t,e){var i;const n=We(t),r=e;return he(e.customData.operationType,n,"argument-error"),he((i=r.customData._serverResponse)==null?void 0:i.mfaPendingCredential,n,"argument-error"),AA._fromError(n,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EM(t,e){return Jt(t,"POST","/v2/accounts/mfaEnrollment:start",jt(t,e))}function Q$(t,e){return Jt(t,"POST","/v2/accounts/mfaEnrollment:finalize",jt(t,e))}function Z$(t,e){return Jt(t,"POST","/v2/accounts/mfaEnrollment:withdraw",jt(t,e))}class IA{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(n=>{n.mfaInfo&&(this.enrolledFactors=n.mfaInfo.map(r=>Ep._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new IA(e)}async getSession(){return Fl._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,n){const r=e,i=await this.getSession(),o=await da(this.user,r._process(this.user.auth,i,n));return await this.user._updateTokensIfNecessary(o),this.user.reload()}async unenroll(e){const n=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{const i=await da(this.user,Z$(this.user.auth,{idToken:r,mfaEnrollmentId:n}));this.enrolledFactors=this.enrolledFactors.filter(({uid:o})=>o!==n),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const IT=new WeakMap;function e7(t){const e=We(t);return IT.has(e)||IT.set(e,IA._fromUser(e)),IT.get(e)}const xy="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $U{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(xy,"1"),this.storage.removeItem(xy),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t7=1e3,n7=10;class KU extends $U{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=PU(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,u,c)=>{this.notifyListeners(s,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);L8()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,n7):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},t7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}KU.type="LOCAL";const CA=KU;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YU extends $U{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}YU.type="SESSION";const Ql=YU;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r7(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Jv(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(s).map(async d=>d(n.origin,o)),c=await r7(u);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jv.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tp(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i7{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((u,c)=>{const d=Tp("",20);i.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(m){const _=m;if(_.data.eventId===d)switch(_.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(_.data.response);break;default:clearTimeout(h),clearTimeout(o),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(){return window}function o7(t){_n().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RA(){return typeof _n().WorkerGlobalScope<"u"&&typeof _n().importScripts=="function"}async function a7(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function s7(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function l7(){return RA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WU="firebaseLocalStorageDb",u7=1,My="firebaseLocalStorage",jU="fbase_key";class Sp{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Xv(t,e){return t.transaction([My],e?"readwrite":"readonly").objectStore(My)}function c7(){const t=indexedDB.deleteDatabase(WU);return new Sp(t).toPromise()}function bb(){const t=indexedDB.open(WU,u7);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(My,{keyPath:jU})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(My)?e(r):(r.close(),await c7(),e(await bb()))})})}async function TM(t,e,n){const r=Xv(t,!0).put({[jU]:e,value:n});return new Sp(r).toPromise()}async function f7(t,e){const n=Xv(t,!1).get(e),r=await new Sp(n).toPromise();return r===void 0?null:r.value}function SM(t,e){const n=Xv(t,!0).delete(e);return new Sp(n).toPromise()}const d7=800,h7=3;class JU{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bb(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>h7)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return RA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jv._getInstance(l7()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await a7(),!this.activeServiceWorker)return;this.sender=new i7(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||s7()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await bb();return await TM(e,xy,"1"),await SM(e,xy),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>TM(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>f7(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>SM(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=Xv(i,!1).getAll();return new Sp(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),d7)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}JU.type="LOCAL";const Uh=JU;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bM(t,e){return Jt(t,"POST","/v2/accounts/mfaSignIn:start",jt(t,e))}function p7(t,e){return Jt(t,"POST","/v2/accounts/mfaSignIn:finalize",jt(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT=MU("rcb"),m7=new gp(3e4,6e4);class g7{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!((e=_n().grecaptcha)!=null&&e.render)}load(e,n=""){return he(y7(n),e,"argument-error"),this.shouldResolveImmediately(n)&&fM(_n().grecaptcha)?Promise.resolve(_n().grecaptcha):new Promise((r,i)=>{const o=_n().setTimeout(()=>{i(Rn(e,"network-request-failed"))},m7.get());_n()[CT]=()=>{_n().clearTimeout(o),delete _n()[CT];const u=_n().grecaptcha;if(!u||!fM(u)){i(Rn(e,"internal-error"));return}const c=u.render;u.render=(d,h)=>{const m=c(d,h);return this.counter++,m},this.hostLanguage=n,r(u)};const s=`${G8()}?${Tf({onload:CT,render:"explicit",hl:n})}`;EA(s).catch(()=>{clearTimeout(o),i(Rn(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var n;return!!((n=_n().grecaptcha)!=null&&n.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function y7(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class v7{async load(e){return new W8(e)}clearedOneInstance(){}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eh="recaptcha",_7={theme:"light",type:"image"};let E7=class{constructor(e,n,r={..._7}){this.parameters=r,this.type=Eh,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Gt(e),this.isInvisible=this.parameters.size==="invisible",he(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof n=="string"?document.getElementById(n):n;he(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new v7:new g7,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),n=this.getAssertedRecaptcha(),r=n.getResponse(e);return r||new Promise(i=>{const o=s=>{s&&(this.tokenChangeListeners.delete(o),i(s))};this.tokenChangeListeners.add(o),this.isInvisible&&n.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){he(!this.parameters.sitekey,this.auth,"argument-error"),he(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),he(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return n=>{if(this.tokenChangeListeners.forEach(r=>r(n)),typeof e=="function")e(n);else if(typeof e=="string"){const r=_n()[e];typeof r=="function"&&r(n)}}}assertNotDestroyed(){he(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){he(vA()&&!RA(),this.auth,"internal-error"),await T7(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await w8(this.auth);he(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return he(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function T7(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PA{constructor(e,n){this.verificationId=e,this.onConfirmation=n}confirm(e){const n=Hl._fromVerification(this.verificationId,e);return this.onConfirmation(n)}}async function S7(t,e,n){if(Lt(t.app))return Promise.reject(Fn(t));const r=Gt(t),i=await Qv(r,e,We(n));return new PA(i,o=>Wv(r,o))}async function b7(t,e,n){const r=We(t);await Yv(!1,r,"phone");const i=await Qv(r.auth,e,We(n));return new PA(i,o=>qU(r,o))}async function w7(t,e,n){const r=We(t);if(Lt(r.auth.app))return Promise.reject(Fn(r.auth));const i=await Qv(r.auth,e,We(n));return new PA(i,o=>BU(r,o))}async function Qv(t,e,n){var r;if(!t._getRecaptchaConfig())try{await e$(t)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(typeof e=="string"?i={phoneNumber:e}:i=e,"session"in i){const o=i.session;if("phoneNumber"in i){he(o.type==="enroll",t,"internal-error");const s={idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await ws(t,s,"mfaSmsEnrollment",async(h,m)=>{if(m.phoneEnrollmentInfo.captchaResponse===_h){he((n==null?void 0:n.type)===Eh,h,"argument-error");const _=await RT(h,m,n);return EM(h,_)}return EM(h,m)},"PHONE_PROVIDER").catch(h=>Promise.reject(h))).phoneSessionInfo.sessionInfo}else{he(o.type==="signin",t,"internal-error");const s=((r=i.multiFactorHint)==null?void 0:r.uid)||i.multiFactorUid;he(s,t,"missing-multi-factor-info");const u={mfaPendingCredential:o.credential,mfaEnrollmentId:s,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await ws(t,u,"mfaSmsSignIn",async(m,_)=>{if(_.phoneSignInInfo.captchaResponse===_h){he((n==null?void 0:n.type)===Eh,m,"argument-error");const S=await RT(m,_,n);return bM(m,S)}return bM(m,_)},"PHONE_PROVIDER").catch(m=>Promise.reject(m))).phoneResponseInfo.sessionInfo}}else{const o={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await ws(t,o,"sendVerificationCode",async(d,h)=>{if(h.captchaResponse===_h){he((n==null?void 0:n.type)===Eh,d,"argument-error");const m=await RT(d,h,n);return vM(d,m)}return vM(d,h)},"PHONE_PROVIDER").catch(d=>Promise.reject(d))).sessionInfo}}finally{n==null||n._reset()}}async function A7(t,e){const n=We(t);if(Lt(n.auth.app))return Promise.reject(Fn(n.auth));await TA(n,e)}async function RT(t,e,n){he(n.type===Eh,t,"argument-error");const r=await n.verify();he(typeof r=="string",t,"argument-error");const i={...e};if("phoneEnrollmentInfo"in i){const o=i.phoneEnrollmentInfo.phoneNumber,s=i.phoneEnrollmentInfo.captchaResponse,u=i.phoneEnrollmentInfo.clientType,c=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r,captchaResponse:s,clientType:u,recaptchaVersion:c}}),i}else if("phoneSignInInfo"in i){const o=i.phoneSignInInfo.captchaResponse,s=i.phoneSignInInfo.clientType,u=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:o,clientType:s,recaptchaVersion:u}}),i}else return Object.assign(i,{recaptchaToken:r}),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zl=class ty{constructor(e){this.providerId=ty.PROVIDER_ID,this.auth=Gt(e)}verifyPhoneNumber(e,n){return Qv(this.auth,e,We(n))}static credential(e,n){return Hl._fromVerification(e,n)}static credentialFromResult(e){const n=e;return ty.credentialFromTaggedObject(n)}static credentialFromError(e){return ty.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:n,temporaryProof:r}=e;return n&&r?Hl._fromTokenResponse(n,r):null}};Zl.PROVIDER_ID="phone";Zl.PHONE_SIGN_IN_METHOD="phone";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mu(t,e){return e?Br(e):(he(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA extends bf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return sa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return sa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return sa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function I7(t){return FU(t.auth,new xA(t),t.bypassAuthState)}function C7(t){const{auth:e,user:n}=t;return he(n,e,"internal-error"),UU(n,new xA(t),t.bypassAuthState)}async function R7(t){const{auth:e,user:n}=t;return he(n,e,"internal-error"),TA(n,new xA(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XU{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:u}=e;if(s){this.reject(s);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return I7;case"linkViaPopup":case"linkViaRedirect":return R7;case"reauthViaPopup":case"reauthViaRedirect":return C7;default:Qn(this.auth,"internal-error")}}resolve(e){Ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P7=new gp(2e3,1e4);async function x7(t,e,n){if(Lt(t.app))return Promise.reject(Rn(t,"operation-not-supported-in-this-environment"));const r=Gt(t);Sf(t,e,Aa);const i=mu(r,n);return new ra(r,"signInViaPopup",e,i).executeNotNull()}async function M7(t,e,n){const r=We(t);if(Lt(r.auth.app))return Promise.reject(Rn(r.auth,"operation-not-supported-in-this-environment"));Sf(r.auth,e,Aa);const i=mu(r.auth,n);return new ra(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function N7(t,e,n){const r=We(t);Sf(r.auth,e,Aa);const i=mu(r.auth,n);return new ra(r.auth,"linkViaPopup",e,i,r).executeNotNull()}class ra extends XU{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,ra.currentPopupAction&&ra.currentPopupAction.cancel(),ra.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return he(e,this.auth,"internal-error"),e}async onExecution(){Ki(this.filter.length===1,"Popup operations only handle one event");const e=Tp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Rn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Rn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ra.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Rn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,P7.get())};e()}}ra.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D7="pendingRedirect",Th=new Map;class O7 extends XU{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Th.get(this.auth._key());if(!e){try{const r=await k7(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Th.set(this.auth._key(),e)}return this.bypassAuthState||Th.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function k7(t,e){const n=ZU(e),r=QU(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}async function MA(t,e){return QU(t)._set(ZU(e),"true")}function L7(){Th.clear()}function NA(t,e){Th.set(t._key(),e)}function QU(t){return Br(t._redirectPersistence)}function ZU(t){return Gl(D7,t.config.apiKey,t.name)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V7(t,e,n){return U7(t,e,n)}async function U7(t,e,n){if(Lt(t.app))return Promise.reject(Fn(t));const r=Gt(t);Sf(t,e,Aa),await r._initializationPromise;const i=mu(r,n);return await MA(i,r),i._openRedirect(r,e,"signInViaRedirect")}function F7(t,e,n){return q7(t,e,n)}async function q7(t,e,n){const r=We(t);if(Sf(r.auth,e,Aa),Lt(r.auth.app))return Promise.reject(Fn(r.auth));await r.auth._initializationPromise;const i=mu(r.auth,n);await MA(i,r.auth);const o=await eF(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",o)}function B7(t,e,n){return z7(t,e,n)}async function z7(t,e,n){const r=We(t);Sf(r.auth,e,Aa),await r.auth._initializationPromise;const i=mu(r.auth,n);await Yv(!1,r,e.providerId),await MA(i,r.auth);const o=await eF(r);return i._openRedirect(r.auth,e,"linkViaRedirect",o)}async function G7(t,e){return await Gt(t)._initializationPromise,Zv(t,e,!1)}async function Zv(t,e,n=!1){if(Lt(t.app))return Promise.reject(Fn(t));const r=Gt(t),i=mu(r,e),s=await new O7(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}async function eF(t){const e=Tp(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H7=600*1e3;class tF{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$7(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!nF(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Rn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=H7&&this.cachedEventUids.clear(),this.cachedEventUids.has(wM(e))}saveEventToCache(e){this.cachedEventUids.add(wM(e)),this.lastProcessedEventTime=Date.now()}}function wM(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function nF({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function $7(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return nF(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rF(t,e={}){return Jt(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K7=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Y7=/^https?/;async function W7(t){if(t.config.emulator)return;const{authorizedDomains:e}=await rF(t);for(const n of e)try{if(j7(n))return}catch{}Qn(t,"unauthorized-domain")}function j7(t){const e=kh(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!Y7.test(n))return!1;if(K7.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J7=new gp(3e4,6e4);function AM(){const t=_n().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function X7(t){return new Promise((e,n)=>{var i,o,s;function r(){AM(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{AM(),n(Rn(t,"network-request-failed"))},timeout:J7.get()})}if((o=(i=_n().gapi)==null?void 0:i.iframes)!=null&&o.Iframe)e(gapi.iframes.getContext());else if((s=_n().gapi)!=null&&s.load)r();else{const u=MU("iframefcb");return _n()[u]=()=>{gapi.load?r():n(Rn(t,"network-request-failed"))},EA(`${$8()}?onload=${u}`).catch(c=>n(c))}}).catch(e=>{throw ny=null,e})}let ny=null;function Q7(t){return ny=ny||X7(t),ny}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z7=new gp(5e3,15e3),eK="__/auth/iframe",tK="emulator/auth/iframe",nK={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rK=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function iK(t){const e=t.config;he(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?_A(e,tK):`https://${t.config.authDomain}/${eK}`,r={apiKey:e.apiKey,appName:t.name,v:Bs},i=rK.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Tf(r).slice(1)}`}async function oK(t){const e=await Q7(t),n=_n().gapi;return he(n,t,"internal-error"),e.open({where:document.body,url:iK(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:nK,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Rn(t,"network-request-failed"),u=_n().setTimeout(()=>{o(s)},Z7.get());function c(){_n().clearTimeout(u),i(r)}r.ping(c).then(c,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aK={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},sK=500,lK=600,uK="_blank",cK="http://localhost";class IM{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function fK(t,e,n,r=sK,i=lK){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const c={...aK,width:r.toString(),height:i.toString(),top:o,left:s},d=zt().toLowerCase();n&&(u=AU(d)?uK:n),bU(d)&&(e=e||cK,c.scrollbars="yes");const h=Object.entries(c).reduce((_,[S,w])=>`${_}${S}=${w},`,"");if(k8(d)&&u!=="_self")return dK(e||"",u),new IM(null);const m=window.open(e||"",u,h);he(m,t,"popup-blocked");try{m.focus()}catch{}return new IM(m)}function dK(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hK="__/auth/handler",pK="emulator/auth/handler",mK=encodeURIComponent("fac");async function wb(t,e,n,r,i,o){he(t.config.authDomain,t,"auth-domain-config-required"),he(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Bs,eventId:i};if(e instanceof Aa){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",GH(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,m]of Object.entries(o||{}))s[h]=m}if(e instanceof wf){const h=e.getScopes().filter(m=>m!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);const u=s;for(const h of Object.keys(u))u[h]===void 0&&delete u[h];const c=await t._getAppCheckToken(),d=c?`#${mK}=${encodeURIComponent(c)}`:"";return`${gK(t)}?${Tf(u).slice(1)}${d}`}function gK({config:t}){return t.emulator?_A(t,pK):`https://${t.authDomain}/${hK}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT="webStorageSupport";class yK{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ql,this._completeRedirectFn=Zv,this._overrideRedirectResult=NA}async _openPopup(e,n,r,i){var s;Ki((s=this.eventManagers[e._key()])==null?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await wb(e,n,r,kh(),i);return fK(e,o,Tp())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await wb(e,n,r,kh(),i);return o7(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Ki(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await oK(e),r=new tF(e);return n.register("authEvent",i=>(he(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(PT,{type:PT},i=>{var s;const o=(s=i==null?void 0:i[0])==null?void 0:s[PT];o!==void 0&&n(!!o),Qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=W7(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return PU()||wU()||vp()}}const vK=yK;class _K{constructor(e){this.factorId=e}_process(e,n,r){switch(n.type){case"enroll":return this._finalizeEnroll(e,n.credential,r);case"signin":return this._finalizeSignIn(e,n.credential);default:return wo("unexpected MultiFactorSessionType")}}}class DA extends _K{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new DA(e)}_finalizeEnroll(e,n,r){return Q$(e,{idToken:n,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,n){return p7(e,{mfaPendingCredential:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class iF{constructor(){}static assertion(e){return DA._fromCredential(e)}}iF.FACTOR_ID="phone";var CM="@firebase/auth",RM="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EK{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){he(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TK(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function SK(t){Ms(new ca("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:u}=r.options;he(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:s,authDomain:u,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:xU(t)},d=new B8(r,i,o,c);return t$(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ms(new ca("auth-internal",e=>{const n=Gt(e.getProvider("auth").getImmediate());return(r=>new EK(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Hi(CM,RM,TK(t)),Hi(CM,RM,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bK=300;MH("authIdTokenMaxAge");function wK(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}z8({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Rn("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",wK().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});SK("Browser");/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(){return window}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AK=2e3;async function IK(t,e,n){const{BuildInfo:r}=eu();Ki(e.sessionId,"AuthEvent did not contain a session ID");const i=await MK(e.sessionId),o={};return vp()?o.ibi=r.packageName:yp()?o.apn=r.packageName:Qn(t,"operation-not-supported-in-this-environment"),r.displayName&&(o.appDisplayName=r.displayName),o.sessionId=i,wb(t,n,e.type,void 0,e.eventId??void 0,o)}async function CK(t){const{BuildInfo:e}=eu(),n={};vp()?n.iosBundleId=e.packageName:yp()?n.androidPackageName=e.packageName:Qn(t,"operation-not-supported-in-this-environment"),await rF(t,n)}function RK(t){const{cordova:e}=eu();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(t):i=e.InAppBrowser.open(t,O8()?"_blank":"_system","location=yes"),n(i)})})}async function PK(t,e,n){const{cordova:r}=eu();let i=()=>{};try{await new Promise((o,s)=>{let u=null;function c(){var _;o();const m=(_=r.plugins.browsertab)==null?void 0:_.close;typeof m=="function"&&m(),typeof(n==null?void 0:n.close)=="function"&&n.close()}function d(){u||(u=window.setTimeout(()=>{s(Rn(t,"redirect-cancelled-by-user"))},AK))}function h(){(document==null?void 0:document.visibilityState)==="visible"&&d()}e.addPassiveListener(c),document.addEventListener("resume",d,!1),yp()&&document.addEventListener("visibilitychange",h,!1),i=()=>{e.removePassiveListener(c),document.removeEventListener("resume",d,!1),document.removeEventListener("visibilitychange",h,!1),u&&window.clearTimeout(u)}})}finally{i()}}function xK(t){var n,r,i,o,s,u,c,d,h,m;const e=eu();he(typeof((n=e==null?void 0:e.universalLinks)==null?void 0:n.subscribe)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),he(typeof((r=e==null?void 0:e.BuildInfo)==null?void 0:r.packageName)<"u",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),he(typeof((s=(o=(i=e==null?void 0:e.cordova)==null?void 0:i.plugins)==null?void 0:o.browsertab)==null?void 0:s.openUrl)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),he(typeof((d=(c=(u=e==null?void 0:e.cordova)==null?void 0:u.plugins)==null?void 0:c.browsertab)==null?void 0:d.isAvailable)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),he(typeof((m=(h=e==null?void 0:e.cordova)==null?void 0:h.InAppBrowser)==null?void 0:m.open)=="function",t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function MK(t){const e=NK(t),n=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(i=>i.toString(16).padStart(2,"0")).join("")}function NK(t){if(Ki(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DK=20;class OK extends tF{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInitialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInitialized(),this.passiveListeners.forEach(n=>n(e)),super.onEvent(e)}async initialized(){await this.initPromise}}function kK(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:UK(),postBody:null,tenantId:t.tenantId,error:Rn(t,"no-auth-event")}}function LK(t,e){return Ab()._set(Ib(t),e)}async function PM(t){const e=await Ab()._get(Ib(t));return e&&await Ab()._remove(Ib(t)),e}function VK(t,e){var r,i;const n=qK(e);if(n.includes("/__/auth/callback")){const o=ry(n),s=o.firebaseError?FK(decodeURIComponent(o.firebaseError)):null,u=(i=(r=s==null?void 0:s.code)==null?void 0:r.split("auth/"))==null?void 0:i[1],c=u?Rn(u):null;return c?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:c,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:n,postBody:null}}return null}function UK(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<DK;n++){const r=Math.floor(Math.random()*e.length);t.push(e.charAt(r))}return t.join("")}function Ab(){return Br(CA)}function Ib(t){return Gl("authEvent",t.config.apiKey,t.name)}function FK(t){try{return JSON.parse(t)}catch{return null}}function qK(t){const e=ry(t),n=e.link?decodeURIComponent(e.link):void 0,r=ry(n).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return ry(i).link||i||r||n||t}function ry(t){if(!(t!=null&&t.includes("?")))return{};const[e,...n]=t.split("?");return Rc(n.join("?"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BK=500;class zK{constructor(){this._redirectPersistence=Ql,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Zv,this._overrideRedirectResult=NA}async _initialize(e){const n=e._key();let r=this.eventManagers.get(n);return r||(r=new OK(e),this.eventManagers.set(n,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){Qn(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,n,r,i){xK(e);const o=await this._initialize(e);await o.initialized(),o.resetRedirect(),L7(),await this._originValidation(e);const s=kK(e,r,i);await LK(e,s);const u=await IK(e,s,n),c=await RK(u);return PK(e,o,c)}_isIframeWebStorageSupported(e,n){throw new Error("Method not implemented.")}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=CK(e)),this.originValidationPromises[n]}attachCallbackListeners(e,n){const{universalLinks:r,handleOpenURL:i,BuildInfo:o}=eu(),s=setTimeout(async()=>{await PM(e),n.onEvent(xM())},BK),u=async h=>{clearTimeout(s);const m=await PM(e);let _=null;m&&(h!=null&&h.url)&&(_=VK(m,h.url)),n.onEvent(_||xM())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,u);const c=i,d=`${o.packageName.toLowerCase()}://`;eu().handleOpenURL=async h=>{if(h.toLowerCase().startsWith(d)&&u({url:h}),typeof c=="function")try{c(h)}catch(m){console.error(m)}}}}const GK=zK;function xM(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Rn("no-auth-event")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HK(t,e){Gt(t)._logFramework(e)}var $K="@firebase/auth-compat",KK="0.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YK=1e3;function Sh(){var t;return((t=self==null?void 0:self.location)==null?void 0:t.protocol)||null}function WK(){return Sh()==="http:"||Sh()==="https:"}function oF(t=zt()){return!!((Sh()==="file:"||Sh()==="ionic:"||Sh()==="capacitor:")&&t.toLowerCase().match(/iphone|ipad|ipod|android/))}function jK(){return uA()||zv()}function JK(){return XV()&&(document==null?void 0:document.documentMode)===11}function XK(t=zt()){return/Edge\/\d+/.test(t)}function QK(t=zt()){return JK()||XK(t)}function aF(){try{const t=self.localStorage,e=Tp();if(t)return t.setItem(e,"1"),t.removeItem(e),QK()?Nh():!0}catch{return OA()&&Nh()}return!1}function OA(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function xT(){return(WK()||JV()||oF())&&!jK()&&aF()&&!OA()}function sF(){return oF()&&typeof document<"u"}async function ZK(){return sF()?new Promise(t=>{const e=setTimeout(()=>{t(!1)},YK);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})}):!1}function eY(){return typeof window<"u"?window:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur={LOCAL:"local",NONE:"none",SESSION:"session"},$d=he,lF="persistence";function tY(t,e){if($d(Object.values(Ur).includes(e),t,"invalid-persistence-type"),uA()){$d(e!==Ur.SESSION,t,"unsupported-persistence-type");return}if(zv()){$d(e===Ur.NONE,t,"unsupported-persistence-type");return}if(OA()){$d(e===Ur.NONE||e===Ur.LOCAL&&Nh(),t,"unsupported-persistence-type");return}$d(e===Ur.NONE||aF(),t,"unsupported-persistence-type")}async function Cb(t){await t._initializationPromise;const e=uF(),n=Gl(lF,t.config.apiKey,t.name);e&&e.setItem(n,t._getPersistenceType())}function nY(t,e){const n=uF();if(!n)return[];const r=Gl(lF,t,e);switch(n.getItem(r)){case Ur.NONE:return[Yc];case Ur.LOCAL:return[Uh,Ql];case Ur.SESSION:return[Ql];default:return[]}}function uF(){var t;try{return((t=eY())==null?void 0:t.sessionStorage)||null}catch{return null}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rY=he;class Ts{constructor(){this.browserResolver=Br(vK),this.cordovaResolver=Br(GK),this.underlyingResolver=null,this._redirectPersistence=Ql,this._completeRedirectFn=Zv,this._overrideRedirectResult=NA}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,n,r,i)}async _openRedirect(e,n,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,n,r,i)}_isIframeWebStorageSupported(e,n){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,n)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return sF()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return rY(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await ZK();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cF(t){return t.unwrap()}function iY(t){return t.wrapped()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oY(t){return fF(t)}function aY(t,e){var r;const n=(r=e.customData)==null?void 0:r._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){const i=e;i.resolver=new sY(t,X$(t,e))}else if(n){const i=fF(e),o=e;i&&(o.credential=i,o.tenantId=n.tenantId||void 0,o.email=n.email||void 0,o.phoneNumber=n.phoneNumber||void 0)}}function fF(t){const{_tokenResponse:e}=t instanceof ur?t.customData:t;if(!e)return null;if(!(t instanceof ur)&&"temporaryProof"in e&&"phoneNumber"in e)return Zl.credentialFromResult(t);const n=e.providerId;if(!n||n===Gd.PASSWORD)return null;let r;switch(n){case Gd.GOOGLE:r=To;break;case Gd.FACEBOOK:r=Eo;break;case Gd.GITHUB:r=So;break;case Gd.TWITTER:r=bo;break;default:const{oauthIdToken:i,oauthAccessToken:o,oauthTokenSecret:s,pendingToken:u,nonce:c}=e;return!o&&!s&&!i&&!u?null:u?n.startsWith("saml.")?Wc._create(n,u):Mo._fromParams({providerId:n,signInMethod:n,pendingToken:u,idToken:i,accessToken:o}):new Oc(n).credential({idToken:i,accessToken:o,rawNonce:c})}return t instanceof ur?r.credentialFromError(t):r.credentialFromResult(t)}function Er(t,e){return e.catch(n=>{throw n instanceof ur&&aY(t,n),n}).then(n=>{const r=n.operationType,i=n.user;return{operationType:r,credential:oY(n),additionalUserInfo:J$(n),user:e_.getOrCreate(i)}})}async function Rb(t,e){const n=await e;return{verificationId:n.verificationId,confirm:r=>Er(t,n.confirm(r))}}class sY{constructor(e,n){this.resolver=n,this.auth=iY(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Er(cF(this.auth),this.resolver.resolveSignIn(e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let e_=class ch{constructor(e){this._delegate=e,this.multiFactor=e7(e)}static getOrCreate(e){return ch.USER_MAP.has(e)||ch.USER_MAP.set(e,new ch(e)),ch.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Er(this.auth,qU(this._delegate,e))}async linkWithPhoneNumber(e,n){return Rb(this.auth,b7(this._delegate,e,n))}async linkWithPopup(e){return Er(this.auth,N7(this._delegate,e,Ts))}async linkWithRedirect(e){return await Cb(Gt(this.auth)),B7(this._delegate,e,Ts)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Er(this.auth,BU(this._delegate,e))}reauthenticateWithPhoneNumber(e,n){return Rb(this.auth,w7(this._delegate,e,n))}reauthenticateWithPopup(e){return Er(this.auth,M7(this._delegate,e,Ts))}async reauthenticateWithRedirect(e){return await Cb(Gt(this.auth)),F7(this._delegate,e,Ts)}sendEmailVerification(e){return F$(this._delegate,e)}async unlink(e){return await A$(this._delegate,e),this}updateEmail(e){return G$(this._delegate,e)}updatePassword(e){return H$(this._delegate,e)}updatePhoneNumber(e){return A7(this._delegate,e)}updateProfile(e){return z$(this._delegate,e)}verifyBeforeUpdateEmail(e,n){return q$(this._delegate,e,n)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}};e_.USER_MAP=new WeakMap;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kd=he;let Pb=class{constructor(e,n){if(this.app=e,n.isInitialized()){this._delegate=n.getImmediate(),this.linkUnderlyingAuth();return}const{apiKey:r}=e.options;Kd(r,"invalid-api-key",{appName:e.name}),Kd(r,"invalid-api-key",{appName:e.name});const i=typeof window<"u"?Ts:void 0;this._delegate=n.initialize({options:{persistence:lY(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(p8),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?e_.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,n){n$(this._delegate,e,n)}applyActionCode(e){return x$(this._delegate,e)}checkActionCode(e){return zU(this._delegate,e)}confirmPasswordReset(e,n){return P$(this._delegate,e,n)}async createUserWithEmailAndPassword(e,n){return Er(this._delegate,N$(this._delegate,e,n))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return U$(this._delegate,e)}isSignInWithEmailLink(e){return k$(this._delegate,e)}async getRedirectResult(){Kd(xT(),this._delegate,"operation-not-supported-in-this-environment");const e=await G7(this._delegate,Ts);return e?Er(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){HK(this._delegate,e)}onAuthStateChanged(e,n,r){const{next:i,error:o,complete:s}=MM(e,n,r);return this._delegate.onAuthStateChanged(i,o,s)}onIdTokenChanged(e,n,r){const{next:i,error:o,complete:s}=MM(e,n,r);return this._delegate.onIdTokenChanged(i,o,s)}sendSignInLinkToEmail(e,n){return O$(this._delegate,e,n)}sendPasswordResetEmail(e,n){return R$(this._delegate,e,n||void 0)}async setPersistence(e){tY(this._delegate,e);let n;switch(e){case Ur.SESSION:n=Ql;break;case Ur.LOCAL:n=await Br(Uh)._isAvailable()?Uh:CA;break;case Ur.NONE:n=Yc;break;default:return Qn("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(n)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Er(this._delegate,w$(this._delegate))}signInWithCredential(e){return Er(this._delegate,Wv(this._delegate,e))}signInWithCustomToken(e){return Er(this._delegate,C$(this._delegate,e))}signInWithEmailAndPassword(e,n){return Er(this._delegate,D$(this._delegate,e,n))}signInWithEmailLink(e,n){return Er(this._delegate,L$(this._delegate,e,n))}signInWithPhoneNumber(e,n){return Rb(this._delegate,S7(this._delegate,e,n))}async signInWithPopup(e){return Kd(xT(),this._delegate,"operation-not-supported-in-this-environment"),Er(this._delegate,x7(this._delegate,e,Ts))}async signInWithRedirect(e){return Kd(xT(),this._delegate,"operation-not-supported-in-this-environment"),await Cb(this._delegate),V7(this._delegate,e,Ts)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return M$(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}};Pb.Persistence=Ur;function MM(t,e,n){let r=t;typeof t!="function"&&({next:r,error:e,complete:n}=t);const i=r;return{next:s=>i(s&&e_.getOrCreate(s)),error:e,complete:n}}function lY(t,e){const n=nY(t,e);if(typeof self<"u"&&!n.includes(Uh)&&n.push(Uh),typeof window<"u")for(const r of[CA,Ql])n.includes(r)||n.push(r);return n.includes(Yc)||n.push(Yc),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kA{static credential(e,n){return Zl.credential(e,n)}constructor(){this.providerId="phone",this._delegate=new Zl(cF(pu.auth()))}verifyPhoneNumber(e,n){return this._delegate.verifyPhoneNumber(e,n)}unwrap(){return this._delegate}}kA.PHONE_SIGN_IN_METHOD=Zl.PHONE_SIGN_IN_METHOD;kA.PROVIDER_ID=Zl.PROVIDER_ID;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uY=he;class cY{constructor(e,n,r=pu.app()){var i;uY((i=r.options)==null?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new E7(r.auth(),e,n),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fY="auth-compat";function dY(t){t.INTERNAL.registerComponent(new ca(fY,e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new Pb(n,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:fc.EMAIL_SIGNIN,PASSWORD_RESET:fc.PASSWORD_RESET,RECOVER_EMAIL:fc.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:fc.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:fc.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:fc.VERIFY_EMAIL}},EmailAuthProvider:zs,FacebookAuthProvider:Eo,GithubAuthProvider:So,GoogleAuthProvider:To,OAuthProvider:Oc,SAMLAuthProvider:Ry,PhoneAuthProvider:kA,PhoneMultiFactorGenerator:iF,RecaptchaVerifier:cY,TwitterAuthProvider:bo,Auth:Pb,AuthCredential:bf,Error:ur}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion($K,KK)}dY(pu);var NM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var As,dF;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,D){function x(){}x.prototype=D.prototype,P.F=D.prototype,P.prototype=new x,P.prototype.constructor=P,P.D=function(F,k,B){for(var q=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)q[Se-2]=arguments[Se];return D.prototype[k].apply(F,q)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(P,D,x){x||(x=0);const F=Array(16);if(typeof D=="string")for(var k=0;k<16;++k)F[k]=D.charCodeAt(x++)|D.charCodeAt(x++)<<8|D.charCodeAt(x++)<<16|D.charCodeAt(x++)<<24;else for(k=0;k<16;++k)F[k]=D[x++]|D[x++]<<8|D[x++]<<16|D[x++]<<24;D=P.g[0],x=P.g[1],k=P.g[2];let B=P.g[3],q;q=D+(B^x&(k^B))+F[0]+3614090360&4294967295,D=x+(q<<7&4294967295|q>>>25),q=B+(k^D&(x^k))+F[1]+3905402710&4294967295,B=D+(q<<12&4294967295|q>>>20),q=k+(x^B&(D^x))+F[2]+606105819&4294967295,k=B+(q<<17&4294967295|q>>>15),q=x+(D^k&(B^D))+F[3]+3250441966&4294967295,x=k+(q<<22&4294967295|q>>>10),q=D+(B^x&(k^B))+F[4]+4118548399&4294967295,D=x+(q<<7&4294967295|q>>>25),q=B+(k^D&(x^k))+F[5]+1200080426&4294967295,B=D+(q<<12&4294967295|q>>>20),q=k+(x^B&(D^x))+F[6]+2821735955&4294967295,k=B+(q<<17&4294967295|q>>>15),q=x+(D^k&(B^D))+F[7]+4249261313&4294967295,x=k+(q<<22&4294967295|q>>>10),q=D+(B^x&(k^B))+F[8]+1770035416&4294967295,D=x+(q<<7&4294967295|q>>>25),q=B+(k^D&(x^k))+F[9]+2336552879&4294967295,B=D+(q<<12&4294967295|q>>>20),q=k+(x^B&(D^x))+F[10]+4294925233&4294967295,k=B+(q<<17&4294967295|q>>>15),q=x+(D^k&(B^D))+F[11]+2304563134&4294967295,x=k+(q<<22&4294967295|q>>>10),q=D+(B^x&(k^B))+F[12]+1804603682&4294967295,D=x+(q<<7&4294967295|q>>>25),q=B+(k^D&(x^k))+F[13]+4254626195&4294967295,B=D+(q<<12&4294967295|q>>>20),q=k+(x^B&(D^x))+F[14]+2792965006&4294967295,k=B+(q<<17&4294967295|q>>>15),q=x+(D^k&(B^D))+F[15]+1236535329&4294967295,x=k+(q<<22&4294967295|q>>>10),q=D+(k^B&(x^k))+F[1]+4129170786&4294967295,D=x+(q<<5&4294967295|q>>>27),q=B+(x^k&(D^x))+F[6]+3225465664&4294967295,B=D+(q<<9&4294967295|q>>>23),q=k+(D^x&(B^D))+F[11]+643717713&4294967295,k=B+(q<<14&4294967295|q>>>18),q=x+(B^D&(k^B))+F[0]+3921069994&4294967295,x=k+(q<<20&4294967295|q>>>12),q=D+(k^B&(x^k))+F[5]+3593408605&4294967295,D=x+(q<<5&4294967295|q>>>27),q=B+(x^k&(D^x))+F[10]+38016083&4294967295,B=D+(q<<9&4294967295|q>>>23),q=k+(D^x&(B^D))+F[15]+3634488961&4294967295,k=B+(q<<14&4294967295|q>>>18),q=x+(B^D&(k^B))+F[4]+3889429448&4294967295,x=k+(q<<20&4294967295|q>>>12),q=D+(k^B&(x^k))+F[9]+568446438&4294967295,D=x+(q<<5&4294967295|q>>>27),q=B+(x^k&(D^x))+F[14]+3275163606&4294967295,B=D+(q<<9&4294967295|q>>>23),q=k+(D^x&(B^D))+F[3]+4107603335&4294967295,k=B+(q<<14&4294967295|q>>>18),q=x+(B^D&(k^B))+F[8]+1163531501&4294967295,x=k+(q<<20&4294967295|q>>>12),q=D+(k^B&(x^k))+F[13]+2850285829&4294967295,D=x+(q<<5&4294967295|q>>>27),q=B+(x^k&(D^x))+F[2]+4243563512&4294967295,B=D+(q<<9&4294967295|q>>>23),q=k+(D^x&(B^D))+F[7]+1735328473&4294967295,k=B+(q<<14&4294967295|q>>>18),q=x+(B^D&(k^B))+F[12]+2368359562&4294967295,x=k+(q<<20&4294967295|q>>>12),q=D+(x^k^B)+F[5]+4294588738&4294967295,D=x+(q<<4&4294967295|q>>>28),q=B+(D^x^k)+F[8]+2272392833&4294967295,B=D+(q<<11&4294967295|q>>>21),q=k+(B^D^x)+F[11]+1839030562&4294967295,k=B+(q<<16&4294967295|q>>>16),q=x+(k^B^D)+F[14]+4259657740&4294967295,x=k+(q<<23&4294967295|q>>>9),q=D+(x^k^B)+F[1]+2763975236&4294967295,D=x+(q<<4&4294967295|q>>>28),q=B+(D^x^k)+F[4]+1272893353&4294967295,B=D+(q<<11&4294967295|q>>>21),q=k+(B^D^x)+F[7]+4139469664&4294967295,k=B+(q<<16&4294967295|q>>>16),q=x+(k^B^D)+F[10]+3200236656&4294967295,x=k+(q<<23&4294967295|q>>>9),q=D+(x^k^B)+F[13]+681279174&4294967295,D=x+(q<<4&4294967295|q>>>28),q=B+(D^x^k)+F[0]+3936430074&4294967295,B=D+(q<<11&4294967295|q>>>21),q=k+(B^D^x)+F[3]+3572445317&4294967295,k=B+(q<<16&4294967295|q>>>16),q=x+(k^B^D)+F[6]+76029189&4294967295,x=k+(q<<23&4294967295|q>>>9),q=D+(x^k^B)+F[9]+3654602809&4294967295,D=x+(q<<4&4294967295|q>>>28),q=B+(D^x^k)+F[12]+3873151461&4294967295,B=D+(q<<11&4294967295|q>>>21),q=k+(B^D^x)+F[15]+530742520&4294967295,k=B+(q<<16&4294967295|q>>>16),q=x+(k^B^D)+F[2]+3299628645&4294967295,x=k+(q<<23&4294967295|q>>>9),q=D+(k^(x|~B))+F[0]+4096336452&4294967295,D=x+(q<<6&4294967295|q>>>26),q=B+(x^(D|~k))+F[7]+1126891415&4294967295,B=D+(q<<10&4294967295|q>>>22),q=k+(D^(B|~x))+F[14]+2878612391&4294967295,k=B+(q<<15&4294967295|q>>>17),q=x+(B^(k|~D))+F[5]+4237533241&4294967295,x=k+(q<<21&4294967295|q>>>11),q=D+(k^(x|~B))+F[12]+1700485571&4294967295,D=x+(q<<6&4294967295|q>>>26),q=B+(x^(D|~k))+F[3]+2399980690&4294967295,B=D+(q<<10&4294967295|q>>>22),q=k+(D^(B|~x))+F[10]+4293915773&4294967295,k=B+(q<<15&4294967295|q>>>17),q=x+(B^(k|~D))+F[1]+2240044497&4294967295,x=k+(q<<21&4294967295|q>>>11),q=D+(k^(x|~B))+F[8]+1873313359&4294967295,D=x+(q<<6&4294967295|q>>>26),q=B+(x^(D|~k))+F[15]+4264355552&4294967295,B=D+(q<<10&4294967295|q>>>22),q=k+(D^(B|~x))+F[6]+2734768916&4294967295,k=B+(q<<15&4294967295|q>>>17),q=x+(B^(k|~D))+F[13]+1309151649&4294967295,x=k+(q<<21&4294967295|q>>>11),q=D+(k^(x|~B))+F[4]+4149444226&4294967295,D=x+(q<<6&4294967295|q>>>26),q=B+(x^(D|~k))+F[11]+3174756917&4294967295,B=D+(q<<10&4294967295|q>>>22),q=k+(D^(B|~x))+F[2]+718787259&4294967295,k=B+(q<<15&4294967295|q>>>17),q=x+(B^(k|~D))+F[9]+3951481745&4294967295,P.g[0]=P.g[0]+D&4294967295,P.g[1]=P.g[1]+(k+(q<<21&4294967295|q>>>11))&4294967295,P.g[2]=P.g[2]+k&4294967295,P.g[3]=P.g[3]+B&4294967295}r.prototype.v=function(P,D){D===void 0&&(D=P.length);const x=D-this.blockSize,F=this.C;let k=this.h,B=0;for(;B<D;){if(k==0)for(;B<=x;)i(this,P,B),B+=this.blockSize;if(typeof P=="string"){for(;B<D;)if(F[k++]=P.charCodeAt(B++),k==this.blockSize){i(this,F),k=0;break}}else for(;B<D;)if(F[k++]=P[B++],k==this.blockSize){i(this,F),k=0;break}}this.h=k,this.o+=D},r.prototype.A=function(){var P=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);P[0]=128;for(var D=1;D<P.length-8;++D)P[D]=0;D=this.o*8;for(var x=P.length-8;x<P.length;++x)P[x]=D&255,D/=256;for(this.v(P),P=Array(16),D=0,x=0;x<4;++x)for(let F=0;F<32;F+=8)P[D++]=this.g[x]>>>F&255;return P};function o(P,D){var x=u;return Object.prototype.hasOwnProperty.call(x,P)?x[P]:x[P]=D(P)}function s(P,D){this.h=D;const x=[];let F=!0;for(let k=P.length-1;k>=0;k--){const B=P[k]|0;F&&B==D||(x[k]=B,F=!1)}this.g=x}var u={};function c(P){return-128<=P&&P<128?o(P,function(D){return new s([D|0],D<0?-1:0)}):new s([P|0],P<0?-1:0)}function d(P){if(isNaN(P)||!isFinite(P))return m;if(P<0)return C(d(-P));const D=[];let x=1;for(let F=0;P>=x;F++)D[F]=P/x|0,x*=4294967296;return new s(D,0)}function h(P,D){if(P.length==0)throw Error("number format error: empty string");if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(P.charAt(0)=="-")return C(h(P.substring(1),D));if(P.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=d(Math.pow(D,8));let F=m;for(let B=0;B<P.length;B+=8){var k=Math.min(8,P.length-B);const q=parseInt(P.substring(B,B+k),D);k<8?(k=d(Math.pow(D,k)),F=F.j(k).add(d(q))):(F=F.j(x),F=F.add(d(q)))}return F}var m=c(0),_=c(1),S=c(16777216);t=s.prototype,t.m=function(){if(A(this))return-C(this).m();let P=0,D=1;for(let x=0;x<this.g.length;x++){const F=this.i(x);P+=(F>=0?F:4294967296+F)*D,D*=4294967296}return P},t.toString=function(P){if(P=P||10,P<2||36<P)throw Error("radix out of range: "+P);if(w(this))return"0";if(A(this))return"-"+C(this).toString(P);const D=d(Math.pow(P,6));var x=this;let F="";for(;;){const k=H(x,D).g;x=M(x,k.j(D));let B=((x.g.length>0?x.g[0]:x.h)>>>0).toString(P);if(x=k,w(x))return B+F;for(;B.length<6;)B="0"+B;F=B+F}},t.i=function(P){return P<0?0:P<this.g.length?this.g[P]:this.h};function w(P){if(P.h!=0)return!1;for(let D=0;D<P.g.length;D++)if(P.g[D]!=0)return!1;return!0}function A(P){return P.h==-1}t.l=function(P){return P=M(this,P),A(P)?-1:w(P)?0:1};function C(P){const D=P.g.length,x=[];for(let F=0;F<D;F++)x[F]=~P.g[F];return new s(x,~P.h).add(_)}t.abs=function(){return A(this)?C(this):this},t.add=function(P){const D=Math.max(this.g.length,P.g.length),x=[];let F=0;for(let k=0;k<=D;k++){let B=F+(this.i(k)&65535)+(P.i(k)&65535),q=(B>>>16)+(this.i(k)>>>16)+(P.i(k)>>>16);F=q>>>16,B&=65535,q&=65535,x[k]=q<<16|B}return new s(x,x[x.length-1]&-2147483648?-1:0)};function M(P,D){return P.add(C(D))}t.j=function(P){if(w(this)||w(P))return m;if(A(this))return A(P)?C(this).j(C(P)):C(C(this).j(P));if(A(P))return C(this.j(C(P)));if(this.l(S)<0&&P.l(S)<0)return d(this.m()*P.m());const D=this.g.length+P.g.length,x=[];for(var F=0;F<2*D;F++)x[F]=0;for(F=0;F<this.g.length;F++)for(let k=0;k<P.g.length;k++){const B=this.i(F)>>>16,q=this.i(F)&65535,Se=P.i(k)>>>16,De=P.i(k)&65535;x[2*F+2*k]+=q*De,U(x,2*F+2*k),x[2*F+2*k+1]+=B*De,U(x,2*F+2*k+1),x[2*F+2*k+1]+=q*Se,U(x,2*F+2*k+1),x[2*F+2*k+2]+=B*Se,U(x,2*F+2*k+2)}for(P=0;P<D;P++)x[P]=x[2*P+1]<<16|x[2*P];for(P=D;P<2*D;P++)x[P]=0;return new s(x,0)};function U(P,D){for(;(P[D]&65535)!=P[D];)P[D+1]+=P[D]>>>16,P[D]&=65535,D++}function L(P,D){this.g=P,this.h=D}function H(P,D){if(w(D))throw Error("division by zero");if(w(P))return new L(m,m);if(A(P))return D=H(C(P),D),new L(C(D.g),C(D.h));if(A(D))return D=H(P,C(D)),new L(C(D.g),D.h);if(P.g.length>30){if(A(P)||A(D))throw Error("slowDivide_ only works with positive integers.");for(var x=_,F=D;F.l(P)<=0;)x=z(x),F=z(F);var k=G(x,1),B=G(F,1);for(F=G(F,2),x=G(x,2);!w(F);){var q=B.add(F);q.l(P)<=0&&(k=k.add(x),B=q),F=G(F,1),x=G(x,1)}return D=M(P,k.j(D)),new L(k,D)}for(k=m;P.l(D)>=0;){for(x=Math.max(1,Math.floor(P.m()/D.m())),F=Math.ceil(Math.log(x)/Math.LN2),F=F<=48?1:Math.pow(2,F-48),B=d(x),q=B.j(D);A(q)||q.l(P)>0;)x-=F,B=d(x),q=B.j(D);w(B)&&(B=_),k=k.add(B),P=M(P,q)}return new L(k,P)}t.B=function(P){return H(this,P).h},t.and=function(P){const D=Math.max(this.g.length,P.g.length),x=[];for(let F=0;F<D;F++)x[F]=this.i(F)&P.i(F);return new s(x,this.h&P.h)},t.or=function(P){const D=Math.max(this.g.length,P.g.length),x=[];for(let F=0;F<D;F++)x[F]=this.i(F)|P.i(F);return new s(x,this.h|P.h)},t.xor=function(P){const D=Math.max(this.g.length,P.g.length),x=[];for(let F=0;F<D;F++)x[F]=this.i(F)^P.i(F);return new s(x,this.h^P.h)};function z(P){const D=P.g.length+1,x=[];for(let F=0;F<D;F++)x[F]=P.i(F)<<1|P.i(F-1)>>>31;return new s(x,P.h)}function G(P,D){const x=D>>5;D%=32;const F=P.g.length-x,k=[];for(let B=0;B<F;B++)k[B]=D>0?P.i(B+x)>>>D|P.i(B+x+1)<<32-D:P.i(B+x);return new s(k,P.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,dF=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=d,s.fromString=h,As=s}).apply(typeof NM<"u"?NM:typeof self<"u"?self:typeof window<"u"?window:{});var xg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hF,fh,pF,iy,xb,mF,gF,yF;(function(){var t,e=Object.defineProperty;function n(v){v=[typeof globalThis=="object"&&globalThis,v,typeof window=="object"&&window,typeof self=="object"&&self,typeof xg=="object"&&xg];for(var b=0;b<v.length;++b){var R=v[b];if(R&&R.Math==Math)return R}throw Error("Cannot find global object")}var r=n(this);function i(v,b){if(b)e:{var R=r;v=v.split(".");for(var V=0;V<v.length-1;V++){var X=v[V];if(!(X in R))break e;R=R[X]}v=v[v.length-1],V=R[v],b=b(V),b!=V&&b!=null&&e(R,v,{configurable:!0,writable:!0,value:b})}}i("Symbol.dispose",function(v){return v||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(v){return v||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(v){return v||function(b){var R=[],V;for(V in b)Object.prototype.hasOwnProperty.call(b,V)&&R.push([V,b[V]]);return R}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},s=this||self;function u(v){var b=typeof v;return b=="object"&&v!=null||b=="function"}function c(v,b,R){return v.call.apply(v.bind,arguments)}function d(v,b,R){return d=c,d.apply(null,arguments)}function h(v,b){var R=Array.prototype.slice.call(arguments,1);return function(){var V=R.slice();return V.push.apply(V,arguments),v.apply(this,V)}}function m(v,b){function R(){}R.prototype=b.prototype,v.Z=b.prototype,v.prototype=new R,v.prototype.constructor=v,v.Ob=function(V,X,re){for(var ge=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)ge[ze-2]=arguments[ze];return b.prototype[X].apply(V,ge)}}var _=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?v=>v&&AsyncContext.Snapshot.wrap(v):v=>v;function S(v){const b=v.length;if(b>0){const R=Array(b);for(let V=0;V<b;V++)R[V]=v[V];return R}return[]}function w(v,b){for(let V=1;V<arguments.length;V++){const X=arguments[V];var R=typeof X;if(R=R!="object"?R:X?Array.isArray(X)?"array":R:"null",R=="array"||R=="object"&&typeof X.length=="number"){R=v.length||0;const re=X.length||0;v.length=R+re;for(let ge=0;ge<re;ge++)v[R+ge]=X[ge]}else v.push(X)}}class A{constructor(b,R){this.i=b,this.j=R,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function C(v){s.setTimeout(()=>{throw v},0)}function M(){var v=P;let b=null;return v.g&&(b=v.g,v.g=v.g.next,v.g||(v.h=null),b.next=null),b}class U{constructor(){this.h=this.g=null}add(b,R){const V=L.get();V.set(b,R),this.h?this.h.next=V:this.g=V,this.h=V}}var L=new A(()=>new H,v=>v.reset());class H{constructor(){this.next=this.g=this.h=null}set(b,R){this.h=b,this.g=R,this.next=null}reset(){this.next=this.g=this.h=null}}let z,G=!1,P=new U,D=()=>{const v=Promise.resolve(void 0);z=()=>{v.then(x)}};function x(){for(var v;v=M();){try{v.h.call(v.g)}catch(R){C(R)}var b=L;b.j(v),b.h<100&&(b.h++,v.next=b.g,b.g=v)}G=!1}function F(){this.u=this.u,this.C=this.C}F.prototype.u=!1,F.prototype.dispose=function(){this.u||(this.u=!0,this.N())},F.prototype[Symbol.dispose]=function(){this.dispose()},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function k(v,b){this.type=v,this.g=this.target=b,this.defaultPrevented=!1}k.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!s.addEventListener||!Object.defineProperty)return!1;var v=!1,b=Object.defineProperty({},"passive",{get:function(){v=!0}});try{const R=()=>{};s.addEventListener("test",R,b),s.removeEventListener("test",R,b)}catch{}return v})();function q(v){return/^[\s\xa0]*$/.test(v)}function Se(v,b){k.call(this,v?v.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,v&&this.init(v,b)}m(Se,k),Se.prototype.init=function(v,b){const R=this.type=v.type,V=v.changedTouches&&v.changedTouches.length?v.changedTouches[0]:null;this.target=v.target||v.srcElement,this.g=b,b=v.relatedTarget,b||(R=="mouseover"?b=v.fromElement:R=="mouseout"&&(b=v.toElement)),this.relatedTarget=b,V?(this.clientX=V.clientX!==void 0?V.clientX:V.pageX,this.clientY=V.clientY!==void 0?V.clientY:V.pageY,this.screenX=V.screenX||0,this.screenY=V.screenY||0):(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0),this.button=v.button,this.key=v.key||"",this.ctrlKey=v.ctrlKey,this.altKey=v.altKey,this.shiftKey=v.shiftKey,this.metaKey=v.metaKey,this.pointerId=v.pointerId||0,this.pointerType=v.pointerType,this.state=v.state,this.i=v,v.defaultPrevented&&Se.Z.h.call(this)},Se.prototype.h=function(){Se.Z.h.call(this);const v=this.i;v.preventDefault?v.preventDefault():v.returnValue=!1};var De="closure_listenable_"+(Math.random()*1e6|0),Q=0;function fe(v,b,R,V,X){this.listener=v,this.proxy=null,this.src=b,this.type=R,this.capture=!!V,this.ha=X,this.key=++Q,this.da=this.fa=!1}function Ee(v){v.da=!0,v.listener=null,v.proxy=null,v.src=null,v.ha=null}function Ce(v,b,R){for(const V in v)b.call(R,v[V],V,v)}function $e(v,b){for(const R in v)b.call(void 0,v[R],R,v)}function K(v){const b={};for(const R in v)b[R]=v[R];return b}const oe="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function me(v,b){let R,V;for(let X=1;X<arguments.length;X++){V=arguments[X];for(R in V)v[R]=V[R];for(let re=0;re<oe.length;re++)R=oe[re],Object.prototype.hasOwnProperty.call(V,R)&&(v[R]=V[R])}}function ve(v){this.src=v,this.g={},this.h=0}ve.prototype.add=function(v,b,R,V,X){const re=v.toString();v=this.g[re],v||(v=this.g[re]=[],this.h++);const ge=ke(v,b,V,X);return ge>-1?(b=v[ge],R||(b.fa=!1)):(b=new fe(b,this.src,re,!!V,X),b.fa=R,v.push(b)),b};function xe(v,b){const R=b.type;if(R in v.g){var V=v.g[R],X=Array.prototype.indexOf.call(V,b,void 0),re;(re=X>=0)&&Array.prototype.splice.call(V,X,1),re&&(Ee(b),v.g[R].length==0&&(delete v.g[R],v.h--))}}function ke(v,b,R,V){for(let X=0;X<v.length;++X){const re=v[X];if(!re.da&&re.listener==b&&re.capture==!!R&&re.ha==V)return X}return-1}var Oe="closure_lm_"+(Math.random()*1e6|0),qt={};function le(v,b,R,V,X){if(Array.isArray(b)){for(let re=0;re<b.length;re++)le(v,b[re],R,V,X);return null}return R=Da(R),v&&v[De]?v.J(b,R,u(V)?!!V.capture:!1,X):Fe(v,b,R,!1,V,X)}function Fe(v,b,R,V,X,re){if(!b)throw Error("Invalid event type");const ge=u(X)?!!X.capture:!!X;let ze=Zt(v);if(ze||(v[Oe]=ze=new ve(v)),R=ze.add(b,R,V,ge,re),R.proxy)return R;if(V=Ke(),R.proxy=V,V.src=v,V.listener=R,v.addEventListener)B||(X=ge),X===void 0&&(X=!1),v.addEventListener(b.toString(),V,X);else if(v.attachEvent)v.attachEvent(je(b.toString()),V);else if(v.addListener&&v.removeListener)v.addListener(V);else throw Error("addEventListener and attachEvent are unavailable.");return R}function Ke(){function v(R){return b.call(v.src,v.listener,R)}const b=wn;return v}function de(v,b,R,V,X){if(Array.isArray(b))for(var re=0;re<b.length;re++)de(v,b[re],R,V,X);else V=u(V)?!!V.capture:!!V,R=Da(R),v&&v[De]?(v=v.i,re=String(b).toString(),re in v.g&&(b=v.g[re],R=ke(b,R,V,X),R>-1&&(Ee(b[R]),Array.prototype.splice.call(b,R,1),b.length==0&&(delete v.g[re],v.h--)))):v&&(v=Zt(v))&&(b=v.g[b.toString()],v=-1,b&&(v=ke(b,R,V,X)),(R=v>-1?b[v]:null)&&Qt(R))}function Qt(v){if(typeof v!="number"&&v&&!v.da){var b=v.src;if(b&&b[De])xe(b.i,v);else{var R=v.type,V=v.proxy;b.removeEventListener?b.removeEventListener(R,V,v.capture):b.detachEvent?b.detachEvent(je(R),V):b.addListener&&b.removeListener&&b.removeListener(V),(R=Zt(b))?(xe(R,v),R.h==0&&(R.src=null,b[Oe]=null)):Ee(v)}}}function je(v){return v in qt?qt[v]:qt[v]="on"+v}function wn(v,b){if(v.da)v=!0;else{b=new Se(b,this);const R=v.listener,V=v.ha||v.src;v.fa&&Qt(v),v=R.call(V,b)}return v}function Zt(v){return v=v[Oe],v instanceof ve?v:null}var Ir="__closure_events_fn_"+(Math.random()*1e9>>>0);function Da(v){return typeof v=="function"?v:(v[Ir]||(v[Ir]=function(b){return v.handleEvent(b)}),v[Ir])}function ln(){F.call(this),this.i=new ve(this),this.M=this,this.G=null}m(ln,F),ln.prototype[De]=!0,ln.prototype.removeEventListener=function(v,b,R,V){de(this,v,b,R,V)};function An(v,b){var R,V=v.G;if(V)for(R=[];V;V=V.G)R.push(V);if(v=v.M,V=b.type||b,typeof b=="string")b=new k(b,v);else if(b instanceof k)b.target=b.target||v;else{var X=b;b=new k(V,v),me(b,X)}X=!0;let re,ge;if(R)for(ge=R.length-1;ge>=0;ge--)re=b.g=R[ge],X=Oa(re,V,!0,b)&&X;if(re=b.g=v,X=Oa(re,V,!0,b)&&X,X=Oa(re,V,!1,b)&&X,R)for(ge=0;ge<R.length;ge++)re=b.g=R[ge],X=Oa(re,V,!1,b)&&X}ln.prototype.N=function(){if(ln.Z.N.call(this),this.i){var v=this.i;for(const b in v.g){const R=v.g[b];for(let V=0;V<R.length;V++)Ee(R[V]);delete v.g[b],v.h--}}this.G=null},ln.prototype.J=function(v,b,R,V){return this.i.add(String(v),b,!1,R,V)},ln.prototype.K=function(v,b,R,V){return this.i.add(String(v),b,!0,R,V)};function Oa(v,b,R,V){if(b=v.i.g[String(b)],!b)return!0;b=b.concat();let X=!0;for(let re=0;re<b.length;++re){const ge=b[re];if(ge&&!ge.da&&ge.capture==R){const ze=ge.listener,tn=ge.ha||ge.src;ge.fa&&xe(v.i,ge),X=ze.call(tn,V)!==!1&&X}}return X&&!V.defaultPrevented}function m0(v,b){if(typeof v!="function")if(v&&typeof v.handleEvent=="function")v=d(v.handleEvent,v);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:s.setTimeout(v,b||0)}function em(v){v.g=m0(()=>{v.g=null,v.i&&(v.i=!1,em(v))},v.l);const b=v.h;v.h=null,v.m.apply(null,b)}class ir extends F{constructor(b,R){super(),this.m=b,this.l=R,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:em(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qs(v){F.call(this),this.h=v,this.g={}}m(Qs,F);var qf=[];function Bf(v){Ce(v.g,function(b,R){this.g.hasOwnProperty(R)&&Qt(b)},v),v.g={}}Qs.prototype.N=function(){Qs.Z.N.call(this),Bf(this)},Qs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ka=s.JSON.stringify,g0=s.JSON.parse,tm=class{stringify(v){return s.JSON.stringify(v,void 0)}parse(v){return s.JSON.parse(v,void 0)}};function nm(){}function rm(){}var Ai={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Gn(){k.call(this,"d")}m(Gn,k);function Jr(){k.call(this,"c")}m(Jr,k);var en={},im=null;function wu(){return im=im||new ln}en.Ia="serverreachability";function om(v){k.call(this,en.Ia,v)}m(om,k);function Xi(v){const b=wu();An(b,new om(b))}en.STAT_EVENT="statevent";function Zs(v,b){k.call(this,en.STAT_EVENT,v),this.stat=b}m(Zs,k);function un(v){const b=wu();An(b,new Zs(b,v))}en.Ja="timingevent";function Qi(v,b){k.call(this,en.Ja,v),this.size=b}m(Qi,k);function Zi(v,b){if(typeof v!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){v()},b)}function Ii(){this.g=!0}Ii.prototype.ua=function(){this.g=!1};function y0(v,b,R,V,X,re){v.info(function(){if(v.g)if(re){var ge="",ze=re.split("&");for(let lt=0;lt<ze.length;lt++){var tn=ze[lt].split("=");if(tn.length>1){const Nt=tn[0];tn=tn[1];const ei=Nt.split("_");ge=ei.length>=2&&ei[1]=="type"?ge+(Nt+"="+tn+"&"):ge+(Nt+"=redacted&")}}}else ge=null;else ge=re;return"XMLHTTP REQ ("+V+") [attempt "+X+"]: "+b+`
`+R+`
`+ge})}function am(v,b,R,V,X,re,ge){v.info(function(){return"XMLHTTP RESP ("+V+") [ attempt "+X+"]: "+b+`
`+R+`
`+re+" "+ge})}function eo(v,b,R,V){v.info(function(){return"XMLHTTP TEXT ("+b+"): "+v0(v,R)+(V?" "+V:"")})}function el(v,b){v.info(function(){return"TIMEOUT: "+b})}Ii.prototype.info=function(){};function v0(v,b){if(!v.g)return b;if(!b)return null;try{const re=JSON.parse(b);if(re){for(v=0;v<re.length;v++)if(Array.isArray(re[v])){var R=re[v];if(!(R.length<2)){var V=R[1];if(Array.isArray(V)&&!(V.length<1)){var X=V[0];if(X!="noop"&&X!="stop"&&X!="close")for(let ge=1;ge<V.length;ge++)V[ge]=""}}}}return ka(re)}catch{return b}}var tl={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},zf={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Gf;function nl(){}m(nl,nm),nl.prototype.g=function(){return new XMLHttpRequest},Gf=new nl;function ko(v){return encodeURIComponent(String(v))}function sm(v){var b=1;v=v.split(":");const R=[];for(;b>0&&v.length;)R.push(v.shift()),b--;return v.length&&R.push(v.join(":")),R}function Ci(v,b,R,V){this.j=v,this.i=b,this.l=R,this.S=V||1,this.V=new Qs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Ri}function Ri(){this.i=null,this.g="",this.h=!1}var cn={},Dn={};function to(v,b,R){v.M=1,v.A=rl(dn(b)),v.u=R,v.R=!0,Au(v,null)}function Au(v,b){v.F=Date.now(),no(v),v.B=dn(v.A);var R=v.B,V=v.S;Array.isArray(V)||(V=[String(V)]),Pu(R.i,"t",V),v.C=0,R=v.j.L,v.h=new Ri,v.g=Sm(v.j,R?b:null,!v.u),v.P>0&&(v.O=new ir(d(v.Y,v,v.g),v.P)),b=v.V,R=v.g,V=v.ba;var X="readystatechange";Array.isArray(X)||(X&&(qf[0]=X.toString()),X=qf);for(let re=0;re<X.length;re++){const ge=le(R,X[re],V||b.handleEvent,!1,b.h||b);if(!ge)break;b.g[ge.key]=ge}b=v.J?K(v.J):{},v.u?(v.v||(v.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",v.g.ea(v.B,v.v,v.u,b)):(v.v="GET",v.g.ea(v.B,v.v,null,b)),Xi(),y0(v.i,v.v,v.B,v.l,v.S,v.u)}Ci.prototype.ba=function(v){v=v.target;const b=this.O;b&&Mi(v)==3?b.j():this.Y(v)},Ci.prototype.Y=function(v){try{if(v==this.g)e:{const ze=Mi(this.g),tn=this.g.ya(),lt=this.g.ca();if(!(ze<3)&&(ze!=3||this.g&&(this.h.h||this.g.la()||Hn(this.g)))){this.K||ze!=4||tn==7||(tn==8||lt<=0?Xi(3):Xi(2)),ro(this);var b=this.g.ca();this.X=b;var R=_0(this);if(this.o=b==200,am(this.i,this.v,this.B,this.l,this.S,ze,b),this.o){if(this.U&&!this.L){t:{if(this.g){var V,X=this.g;if((V=X.g?X.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!q(V)){var re=V;break t}}re=null}if(v=re)eo(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,io(this,v);else{this.o=!1,this.m=3,un(12),Cr(this),Xr(this);break e}}if(this.R){v=!0;let Nt;for(;!this.K&&this.C<R.length;)if(Nt=um(this,R),Nt==Dn){ze==4&&(this.m=4,un(14),v=!1),eo(this.i,this.l,null,"[Incomplete Response]");break}else if(Nt==cn){this.m=4,un(15),eo(this.i,this.l,R,"[Invalid Chunk]"),v=!1;break}else eo(this.i,this.l,Nt,null),io(this,Nt);if(lm(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ze!=4||R.length!=0||this.h.h||(this.m=1,un(16),v=!1),this.o=this.o&&v,!v)eo(this.i,this.l,R,"[Invalid Chunked Response]"),Cr(this),Xr(this);else if(R.length>0&&!this.W){this.W=!0;var ge=this.j;ge.g==this&&ge.aa&&!ge.P&&(ge.j.info("Great, no buffering proxy detected. Bytes received: "+R.length),id(ge),ge.P=!0,un(11))}}else eo(this.i,this.l,R,null),io(this,R);ze==4&&Cr(this),this.o&&!this.K&&(ze==4?vm(this.j,this):(this.o=!1,no(this)))}else Vo(this.g),b==400&&R.indexOf("Unknown SID")>0?(this.m=3,un(12)):(this.m=0,un(13)),Cr(this),Xr(this)}}}catch{}finally{}};function _0(v){if(!lm(v))return v.g.la();const b=Hn(v.g);if(b==="")return"";let R="";const V=b.length,X=Mi(v.g)==4;if(!v.h.i){if(typeof TextDecoder>"u")return Cr(v),Xr(v),"";v.h.i=new s.TextDecoder}for(let re=0;re<V;re++)v.h.h=!0,R+=v.h.i.decode(b[re],{stream:!(X&&re==V-1)});return b.length=0,v.h.g+=R,v.C=0,v.h.g}function lm(v){return v.g?v.v=="GET"&&v.M!=2&&v.j.Aa:!1}function um(v,b){var R=v.C,V=b.indexOf(`
`,R);return V==-1?Dn:(R=Number(b.substring(R,V)),isNaN(R)?cn:(V+=1,V+R>b.length?Dn:(b=b.slice(V,V+R),v.C=V+R,b)))}Ci.prototype.cancel=function(){this.K=!0,Cr(this)};function no(v){v.T=Date.now()+v.H,Iu(v,v.H)}function Iu(v,b){if(v.D!=null)throw Error("WatchDog timer not null");v.D=Zi(d(v.aa,v),b)}function ro(v){v.D&&(s.clearTimeout(v.D),v.D=null)}Ci.prototype.aa=function(){this.D=null;const v=Date.now();v-this.T>=0?(el(this.i,this.B),this.M!=2&&(Xi(),un(17)),Cr(this),this.m=2,Xr(this)):Iu(this,this.T-v)};function Xr(v){v.j.I==0||v.K||vm(v.j,v)}function Cr(v){ro(v);var b=v.O;b&&typeof b.dispose=="function"&&b.dispose(),v.O=null,Bf(v.V),v.g&&(b=v.g,v.g=null,b.abort(),b.dispose())}function io(v,b){try{var R=v.j;if(R.I!=0&&(R.g==v||ao(R.h,v))){if(!v.L&&ao(R.h,v)&&R.I==3){try{var V=R.Ba.g.parse(b)}catch{V=null}if(Array.isArray(V)&&V.length==3){var X=V;if(X[0]==0){e:if(!R.v){if(R.g)if(R.g.F+3e3<v.F)Ou(R),Ga(R);else break e;cl(R),un(18)}}else R.xa=X[1],0<R.xa-R.K&&X[2]<37500&&R.F&&R.A==0&&!R.C&&(R.C=Zi(d(R.Va,R),6e3));oo(R.h)<=1&&R.ta&&(R.ta=void 0)}else ho(R,11)}else if((v.L||R.g==v)&&Ou(R),!q(b))for(X=R.Ba.g.parse(b),b=0;b<X.length;b++){let lt=X[b];const Nt=lt[0];if(!(Nt<=R.K))if(R.K=Nt,lt=lt[1],R.I==2)if(lt[0]=="c"){R.M=lt[1],R.ba=lt[2];const ei=lt[3];ei!=null&&(R.ka=ei,R.j.info("VER="+R.ka));const po=lt[4];po!=null&&(R.za=po,R.j.info("SVER="+R.za));const Ni=lt[5];Ni!=null&&typeof Ni=="number"&&Ni>0&&(V=1.5*Ni,R.O=V,R.j.info("backChannelRequestTimeoutMs_="+V)),V=R;const Di=v.g;if(Di){const fl=Di.g?Di.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fl){var re=V.h;re.g||fl.indexOf("spdy")==-1&&fl.indexOf("quic")==-1&&fl.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(Kf(re,re.h),re.h=null))}if(V.G){const ku=Di.g?Di.g.getResponseHeader("X-HTTP-Session-Id"):null;ku&&(V.wa=ku,ft(V.J,V.G,ku))}}R.I=3,R.l&&R.l.ra(),R.aa&&(R.T=Date.now()-v.F,R.j.info("Handshake RTT: "+R.T+"ms")),V=R;var ge=v;if(V.na=Tm(V,V.L?V.ba:null,V.W),ge.L){Yf(V.h,ge);var ze=ge,tn=V.O;tn&&(ze.H=tn),ze.D&&(ro(ze),no(ze)),V.g=ge}else gm(V);R.i.length>0&&fo(R)}else lt[0]!="stop"&&lt[0]!="close"||ho(R,7);else R.I==3&&(lt[0]=="stop"||lt[0]=="close"?lt[0]=="stop"?ho(R,7):nd(R):lt[0]!="noop"&&R.l&&R.l.qa(lt),R.A=0)}}Xi(4)}catch{}}var fn=class{constructor(v,b){this.g=v,this.map=b}};function Hf(v){this.l=v||10,s.PerformanceNavigationTiming?(v=s.performance.getEntriesByType("navigation"),v=v.length>0&&(v[0].nextHopProtocol=="hq"||v[0].nextHopProtocol=="h2")):v=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=v?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function $f(v){return v.h?!0:v.g?v.g.size>=v.j:!1}function oo(v){return v.h?1:v.g?v.g.size:0}function ao(v,b){return v.h?v.h==b:v.g?v.g.has(b):!1}function Kf(v,b){v.g?v.g.add(b):v.h=b}function Yf(v,b){v.h&&v.h==b?v.h=null:v.g&&v.g.has(b)&&v.g.delete(b)}Hf.prototype.cancel=function(){if(this.i=Wf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const v of this.g.values())v.cancel();this.g.clear()}};function Wf(v){if(v.h!=null)return v.i.concat(v.h.G);if(v.g!=null&&v.g.size!==0){let b=v.i;for(const R of v.g.values())b=b.concat(R.G);return b}return S(v.i)}var cm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Cu(v,b){if(v){v=v.split("&");for(let R=0;R<v.length;R++){const V=v[R].indexOf("=");let X,re=null;V>=0?(X=v[R].substring(0,V),re=v[R].substring(V+1)):X=v[R],b(X,re?decodeURIComponent(re.replace(/\+/g," ")):"")}}}function Rr(v){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;v instanceof Rr?(this.l=v.l,On(this,v.j),this.o=v.o,this.g=v.g,La(this,v.u),this.h=v.h,jf(this,pm(v.i)),this.m=v.m):v&&(b=String(v).match(cm))?(this.l=!1,On(this,b[1]||"",!0),this.o=so(b[2]||""),this.g=so(b[3]||"",!0),La(this,b[4]),this.h=so(b[5]||"",!0),jf(this,b[6]||"",!0),this.m=so(b[7]||"")):(this.l=!1,this.i=new Ua(null,this.l))}Rr.prototype.toString=function(){const v=[];var b=this.j;b&&v.push(il(b,Ru,!0),":");var R=this.g;return(R||b=="file")&&(v.push("//"),(b=this.o)&&v.push(il(b,Ru,!0),"@"),v.push(ko(R).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),R=this.u,R!=null&&v.push(":",String(R))),(R=this.h)&&(this.g&&R.charAt(0)!="/"&&v.push("/"),v.push(il(R,R.charAt(0)=="/"?Jf:fm,!0))),(R=this.i.toString())&&v.push("?",R),(R=this.m)&&v.push("#",il(R,dm)),v.join("")},Rr.prototype.resolve=function(v){const b=dn(this);let R=!!v.j;R?On(b,v.j):R=!!v.o,R?b.o=v.o:R=!!v.g,R?b.g=v.g:R=v.u!=null;var V=v.h;if(R)La(b,v.u);else if(R=!!v.h){if(V.charAt(0)!="/")if(this.g&&!this.h)V="/"+V;else{var X=b.h.lastIndexOf("/");X!=-1&&(V=b.h.slice(0,X+1)+V)}if(X=V,X==".."||X==".")V="";else if(X.indexOf("./")!=-1||X.indexOf("/.")!=-1){V=X.lastIndexOf("/",0)==0,X=X.split("/");const re=[];for(let ge=0;ge<X.length;){const ze=X[ge++];ze=="."?V&&ge==X.length&&re.push(""):ze==".."?((re.length>1||re.length==1&&re[0]!="")&&re.pop(),V&&ge==X.length&&re.push("")):(re.push(ze),V=!0)}V=re.join("/")}else V=X}return R?b.h=V:R=v.i.toString()!=="",R?jf(b,pm(v.i)):R=!!v.m,R&&(b.m=v.m),b};function dn(v){return new Rr(v)}function On(v,b,R){v.j=R?so(b,!0):b,v.j&&(v.j=v.j.replace(/:$/,""))}function La(v,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);v.u=b}else v.u=null}function jf(v,b,R){b instanceof Ua?(v.i=b,xu(v.i,v.l)):(R||(b=il(b,Va)),v.i=new Ua(b,v.l))}function ft(v,b,R){v.i.set(b,R)}function rl(v){return ft(v,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),v}function so(v,b){return v?b?decodeURI(v.replace(/%25/g,"%2525")):decodeURIComponent(v):""}function il(v,b,R){return typeof v=="string"?(v=encodeURI(v).replace(b,dr),R&&(v=v.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v):null}function dr(v){return v=v.charCodeAt(0),"%"+(v>>4&15).toString(16)+(v&15).toString(16)}var Ru=/[#\/\?@]/g,fm=/[#\?:]/g,Jf=/[#\?]/g,Va=/[#\?@]/g,dm=/#/g;function Ua(v,b){this.h=this.g=null,this.i=v||null,this.j=!!b}function hr(v){v.g||(v.g=new Map,v.h=0,v.i&&Cu(v.i,function(b,R){v.add(decodeURIComponent(b.replace(/\+/g," ")),R)}))}t=Ua.prototype,t.add=function(v,b){hr(this),this.i=null,v=Fa(this,v);let R=this.g.get(v);return R||this.g.set(v,R=[]),R.push(b),this.h+=1,this};function hm(v,b){hr(v),b=Fa(v,b),v.g.has(b)&&(v.i=null,v.h-=v.g.get(b).length,v.g.delete(b))}function Xf(v,b){return hr(v),b=Fa(v,b),v.g.has(b)}t.forEach=function(v,b){hr(this),this.g.forEach(function(R,V){R.forEach(function(X){v.call(b,X,V,this)},this)},this)};function Qf(v,b){hr(v);let R=[];if(typeof b=="string")Xf(v,b)&&(R=R.concat(v.g.get(Fa(v,b))));else for(v=Array.from(v.g.values()),b=0;b<v.length;b++)R=R.concat(v[b]);return R}t.set=function(v,b){return hr(this),this.i=null,v=Fa(this,v),Xf(this,v)&&(this.h-=this.g.get(v).length),this.g.set(v,[b]),this.h+=1,this},t.get=function(v,b){return v?(v=Qf(this,v),v.length>0?String(v[0]):b):b};function Pu(v,b,R){hm(v,b),R.length>0&&(v.i=null,v.g.set(Fa(v,b),S(R)),v.h+=R.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const v=[],b=Array.from(this.g.keys());for(let V=0;V<b.length;V++){var R=b[V];const X=ko(R);R=Qf(this,R);for(let re=0;re<R.length;re++){let ge=X;R[re]!==""&&(ge+="="+ko(R[re])),v.push(ge)}}return this.i=v.join("&")};function pm(v){const b=new Ua;return b.i=v.i,v.g&&(b.g=new Map(v.g),b.h=v.h),b}function Fa(v,b){return b=String(b),v.j&&(b=b.toLowerCase()),b}function xu(v,b){b&&!v.j&&(hr(v),v.i=null,v.g.forEach(function(R,V){const X=V.toLowerCase();V!=X&&(hm(this,V),Pu(this,X,R))},v)),v.j=b}function Pi(v,b){const R=new Ii;if(s.Image){const V=new Image;V.onload=h(Qr,R,"TestLoadImage: loaded",!0,b,V),V.onerror=h(Qr,R,"TestLoadImage: error",!1,b,V),V.onabort=h(Qr,R,"TestLoadImage: abort",!1,b,V),V.ontimeout=h(Qr,R,"TestLoadImage: timeout",!1,b,V),s.setTimeout(function(){V.ontimeout&&V.ontimeout()},1e4),V.src=v}else b(!1)}function Zf(v,b){const R=new Ii,V=new AbortController,X=setTimeout(()=>{V.abort(),Qr(R,"TestPingServer: timeout",!1,b)},1e4);fetch(v,{signal:V.signal}).then(re=>{clearTimeout(X),re.ok?Qr(R,"TestPingServer: ok",!0,b):Qr(R,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(X),Qr(R,"TestPingServer: error",!1,b)})}function Qr(v,b,R,V,X){try{X&&(X.onload=null,X.onerror=null,X.onabort=null,X.ontimeout=null),V(R)}catch{}}function qa(){this.g=new tm}function lo(v){this.i=v.Sb||null,this.h=v.ab||!1}m(lo,nm),lo.prototype.g=function(){return new ol(this.i,this.h)};function ol(v,b){ln.call(this),this.H=v,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(ol,ln),t=ol.prototype,t.open=function(v,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=v,this.D=b,this.readyState=1,xi(this)},t.send=function(v){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};v&&(b.body=v),(this.H||s).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ba(this)),this.readyState=0},t.Pa=function(v){if(this.g&&(this.l=v,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=v.headers,this.readyState=2,xi(this)),this.g&&(this.readyState=3,xi(this),this.g)))if(this.responseType==="arraybuffer")v.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in v){if(this.j=v.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Mu(this)}else v.text().then(this.Oa.bind(this),this.ga.bind(this))};function Mu(v){v.j.read().then(v.Ma.bind(v)).catch(v.ga.bind(v))}t.Ma=function(v){if(this.g){if(this.o&&v.value)this.response.push(v.value);else if(!this.o){var b=v.value?v.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!v.done}))&&(this.response=this.responseText+=b)}v.done?Ba(this):xi(this),this.readyState==3&&Mu(this)}},t.Oa=function(v){this.g&&(this.response=this.responseText=v,Ba(this))},t.Na=function(v){this.g&&(this.response=v,Ba(this))},t.ga=function(){this.g&&Ba(this)};function Ba(v){v.readyState=4,v.l=null,v.j=null,v.B=null,xi(v)}t.setRequestHeader=function(v,b){this.A.append(v,b)},t.getResponseHeader=function(v){return this.h&&this.h.get(v.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const v=[],b=this.h.entries();for(var R=b.next();!R.done;)R=R.value,v.push(R[0]+": "+R[1]),R=b.next();return v.join(`\r
`)};function xi(v){v.onreadystatechange&&v.onreadystatechange.call(v)}Object.defineProperty(ol.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(v){this.m=v?"include":"same-origin"}});function Zr(v){let b="";return Ce(v,function(R,V){b+=V,b+=":",b+=R,b+=`\r
`}),b}function al(v,b,R){e:{for(V in R){var V=!1;break e}V=!0}V||(R=Zr(R),typeof v=="string"?R!=null&&ko(R):ft(v,b,R))}function _t(v){ln.call(this),this.headers=new Map,this.L=v||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(_t,ln);var uo=/^https?$/i,ed=["POST","PUT"];t=_t.prototype,t.Fa=function(v){this.H=v},t.ea=function(v,b,R,V){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+v);b=b?b.toUpperCase():"GET",this.D=v,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Gf.g(),this.g.onreadystatechange=_(d(this.Ca,this));try{this.B=!0,this.g.open(b,String(v),!0),this.B=!1}catch(re){sl(this,re);return}if(v=R||"",R=new Map(this.headers),V)if(Object.getPrototypeOf(V)===Object.prototype)for(var X in V)R.set(X,V[X]);else if(typeof V.keys=="function"&&typeof V.get=="function")for(const re of V.keys())R.set(re,V.get(re));else throw Error("Unknown input type for opt_headers: "+String(V));V=Array.from(R.keys()).find(re=>re.toLowerCase()=="content-type"),X=s.FormData&&v instanceof s.FormData,!(Array.prototype.indexOf.call(ed,b,void 0)>=0)||V||X||R.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,ge]of R)this.g.setRequestHeader(re,ge);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(v),this.v=!1}catch(re){sl(this,re)}};function sl(v,b){v.h=!1,v.g&&(v.j=!0,v.g.abort(),v.j=!1),v.l=b,v.o=5,td(v),Lo(v)}function td(v){v.A||(v.A=!0,An(v,"complete"),An(v,"error"))}t.abort=function(v){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=v||7,An(this,"complete"),An(this,"abort"),Lo(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Lo(this,!0)),_t.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?ll(this):this.Xa())},t.Xa=function(){ll(this)};function ll(v){if(v.h&&typeof o<"u"){if(v.v&&Mi(v)==4)setTimeout(v.Ca.bind(v),0);else if(An(v,"readystatechange"),Mi(v)==4){v.h=!1;try{const re=v.ca();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break e;default:b=!1}var R;if(!(R=b)){var V;if(V=re===0){let ge=String(v.D).match(cm)[1]||null;!ge&&s.self&&s.self.location&&(ge=s.self.location.protocol.slice(0,-1)),V=!uo.test(ge?ge.toLowerCase():"")}R=V}if(R)An(v,"complete"),An(v,"success");else{v.o=6;try{var X=Mi(v)>2?v.g.statusText:""}catch{X=""}v.l=X+" ["+v.ca()+"]",td(v)}}finally{Lo(v)}}}}function Lo(v,b){if(v.g){v.m&&(clearTimeout(v.m),v.m=null);const R=v.g;v.g=null,b||An(v,"ready");try{R.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Mi(v){return v.g?v.g.readyState:0}t.ca=function(){try{return Mi(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(v){if(this.g){var b=this.g.responseText;return v&&b.indexOf(v)==0&&(b=b.substring(v.length)),g0(b)}};function Hn(v){try{if(!v.g)return null;if("response"in v.g)return v.g.response;switch(v.F){case"":case"text":return v.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in v.g)return v.g.mozResponseArrayBuffer}return null}catch{return null}}function Vo(v){const b={};v=(v.g&&Mi(v)>=2&&v.g.getAllResponseHeaders()||"").split(`\r
`);for(let V=0;V<v.length;V++){if(q(v[V]))continue;var R=sm(v[V]);const X=R[0];if(R=R[1],typeof R!="string")continue;R=R.trim();const re=b[X]||[];b[X]=re,re.push(R)}$e(b,function(V){return V.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function co(v,b,R){return R&&R.internalChannelParams&&R.internalChannelParams[v]||b}function za(v){this.za=0,this.i=[],this.j=new Ii,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=co("failFast",!1,v),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=co("baseRetryDelayMs",5e3,v),this.Za=co("retryDelaySeedMs",1e4,v),this.Ta=co("forwardChannelMaxRetries",2,v),this.va=co("forwardChannelRequestTimeoutMs",2e4,v),this.ma=v&&v.xmlHttpFactory||void 0,this.Ua=v&&v.Rb||void 0,this.Aa=v&&v.useFetchStreams||!1,this.O=void 0,this.L=v&&v.supportsCrossDomainXhr||!1,this.M="",this.h=new Hf(v&&v.concurrentRequestLimit),this.Ba=new qa,this.S=v&&v.fastHandshake||!1,this.R=v&&v.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=v&&v.Pb||!1,v&&v.ua&&this.j.ua(),v&&v.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&v&&v.detectBufferingProxy||!1,this.ia=void 0,v&&v.longPollingTimeout&&v.longPollingTimeout>0&&(this.ia=v.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=za.prototype,t.ka=8,t.I=1,t.connect=function(v,b,R,V){un(0),this.W=v,this.H=b||{},R&&V!==void 0&&(this.H.OSID=R,this.H.OAID=V),this.F=this.X,this.J=Tm(this,null,this.W),fo(this)};function nd(v){if(Nu(v),v.I==3){var b=v.V++,R=dn(v.J);if(ft(R,"SID",v.M),ft(R,"RID",b),ft(R,"TYPE","terminate"),ul(v,R),b=new Ci(v,v.j,b),b.M=2,b.A=rl(dn(R)),R=!1,s.navigator&&s.navigator.sendBeacon)try{R=s.navigator.sendBeacon(b.A.toString(),"")}catch{}!R&&s.Image&&(new Image().src=b.A,R=!0),R||(b.g=Sm(b.j,null),b.g.ea(b.A)),b.F=Date.now(),no(b)}Em(v)}function Ga(v){v.g&&(id(v),v.g.cancel(),v.g=null)}function Nu(v){Ga(v),v.v&&(s.clearTimeout(v.v),v.v=null),Ou(v),v.h.cancel(),v.m&&(typeof v.m=="number"&&s.clearTimeout(v.m),v.m=null)}function fo(v){if(!$f(v.h)&&!v.m){v.m=!0;var b=v.Ea;z||D(),G||(z(),G=!0),P.add(b,v),v.D=0}}function Du(v,b){return oo(v.h)>=v.h.j-(v.m?1:0)?!1:v.m?(v.i=b.G.concat(v.i),!0):v.I==1||v.I==2||v.D>=(v.Sa?0:v.Ta)?!1:(v.m=Zi(d(v.Ea,v,b),_m(v,v.D)),v.D++,!0)}t.Ea=function(v){if(this.m)if(this.m=null,this.I==1){if(!v){this.V=Math.floor(Math.random()*1e5),v=this.V++;const X=new Ci(this,this.j,v);let re=this.o;if(this.U&&(re?(re=K(re),me(re,this.U)):re=this.U),this.u!==null||this.R||(X.J=re,re=null),this.S)e:{for(var b=0,R=0;R<this.i.length;R++){t:{var V=this.i[R];if("__data__"in V.map&&(V=V.map.__data__,typeof V=="string")){V=V.length;break t}V=void 0}if(V===void 0)break;if(b+=V,b>4096){b=R;break e}if(b===4096||R===this.i.length-1){b=R+1;break e}}b=1e3}else b=1e3;b=mm(this,X,b),R=dn(this.J),ft(R,"RID",v),ft(R,"CVER",22),this.G&&ft(R,"X-HTTP-Session-Id",this.G),ul(this,R),re&&(this.R?b="headers="+ko(Zr(re))+"&"+b:this.u&&al(R,this.u,re)),Kf(this.h,X),this.Ra&&ft(R,"TYPE","init"),this.S?(ft(R,"$req",b),ft(R,"SID","null"),X.U=!0,to(X,R,null)):to(X,R,b),this.I=2}}else this.I==3&&(v?rd(this,v):this.i.length==0||$f(this.h)||rd(this))};function rd(v,b){var R;b?R=b.l:R=v.V++;const V=dn(v.J);ft(V,"SID",v.M),ft(V,"RID",R),ft(V,"AID",v.K),ul(v,V),v.u&&v.o&&al(V,v.u,v.o),R=new Ci(v,v.j,R,v.D+1),v.u===null&&(R.J=v.o),b&&(v.i=b.G.concat(v.i)),b=mm(v,R,1e3),R.H=Math.round(v.va*.5)+Math.round(v.va*.5*Math.random()),Kf(v.h,R),to(R,V,b)}function ul(v,b){v.H&&Ce(v.H,function(R,V){ft(b,V,R)}),v.l&&Ce({},function(R,V){ft(b,V,R)})}function mm(v,b,R){R=Math.min(v.i.length,R);const V=v.l?d(v.l.Ka,v.l,v):null;e:{var X=v.i;let ze=-1;for(;;){const tn=["count="+R];ze==-1?R>0?(ze=X[0].g,tn.push("ofs="+ze)):ze=0:tn.push("ofs="+ze);let lt=!0;for(let Nt=0;Nt<R;Nt++){var re=X[Nt].g;const ei=X[Nt].map;if(re-=ze,re<0)ze=Math.max(0,X[Nt].g-100),lt=!1;else try{re="req"+re+"_"||"";try{var ge=ei instanceof Map?ei:Object.entries(ei);for(const[po,Ni]of ge){let Di=Ni;u(Ni)&&(Di=ka(Ni)),tn.push(re+po+"="+encodeURIComponent(Di))}}catch(po){throw tn.push(re+"type="+encodeURIComponent("_badmap")),po}}catch{V&&V(ei)}}if(lt){ge=tn.join("&");break e}}ge=void 0}return v=v.i.splice(0,R),b.G=v,ge}function gm(v){if(!v.g&&!v.v){v.Y=1;var b=v.Da;z||D(),G||(z(),G=!0),P.add(b,v),v.A=0}}function cl(v){return v.g||v.v||v.A>=3?!1:(v.Y++,v.v=Zi(d(v.Da,v),_m(v,v.A)),v.A++,!0)}t.Da=function(){if(this.v=null,ym(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var v=4*this.T;this.j.info("BP detection timer enabled: "+v),this.B=Zi(d(this.Wa,this),v)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,un(10),Ga(this),ym(this))};function id(v){v.B!=null&&(s.clearTimeout(v.B),v.B=null)}function ym(v){v.g=new Ci(v,v.j,"rpc",v.Y),v.u===null&&(v.g.J=v.o),v.g.P=0;var b=dn(v.na);ft(b,"RID","rpc"),ft(b,"SID",v.M),ft(b,"AID",v.K),ft(b,"CI",v.F?"0":"1"),!v.F&&v.ia&&ft(b,"TO",v.ia),ft(b,"TYPE","xmlhttp"),ul(v,b),v.u&&v.o&&al(b,v.u,v.o),v.O&&(v.g.H=v.O);var R=v.g;v=v.ba,R.M=1,R.A=rl(dn(b)),R.u=null,R.R=!0,Au(R,v)}t.Va=function(){this.C!=null&&(this.C=null,Ga(this),cl(this),un(19))};function Ou(v){v.C!=null&&(s.clearTimeout(v.C),v.C=null)}function vm(v,b){var R=null;if(v.g==b){Ou(v),id(v),v.g=null;var V=2}else if(ao(v.h,b))R=b.G,Yf(v.h,b),V=1;else return;if(v.I!=0){if(b.o)if(V==1){R=b.u?b.u.length:0,b=Date.now()-b.F;var X=v.D;V=wu(),An(V,new Qi(V,R)),fo(v)}else gm(v);else if(X=b.m,X==3||X==0&&b.X>0||!(V==1&&Du(v,b)||V==2&&cl(v)))switch(R&&R.length>0&&(b=v.h,b.i=b.i.concat(R)),X){case 1:ho(v,5);break;case 4:ho(v,10);break;case 3:ho(v,6);break;default:ho(v,2)}}}function _m(v,b){let R=v.Qa+Math.floor(Math.random()*v.Za);return v.isActive()||(R*=2),R*b}function ho(v,b){if(v.j.info("Error code "+b),b==2){var R=d(v.bb,v),V=v.Ua;const X=!V;V=new Rr(V||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||On(V,"https"),rl(V),X?Pi(V.toString(),R):Zf(V.toString(),R)}else un(2);v.I=0,v.l&&v.l.pa(b),Em(v),Nu(v)}t.bb=function(v){v?(this.j.info("Successfully pinged google.com"),un(2)):(this.j.info("Failed to ping google.com"),un(1))};function Em(v){if(v.I=0,v.ja=[],v.l){const b=Wf(v.h);(b.length!=0||v.i.length!=0)&&(w(v.ja,b),w(v.ja,v.i),v.h.i.length=0,S(v.i),v.i.length=0),v.l.oa()}}function Tm(v,b,R){var V=R instanceof Rr?dn(R):new Rr(R);if(V.g!="")b&&(V.g=b+"."+V.g),La(V,V.u);else{var X=s.location;V=X.protocol,b=b?b+"."+X.hostname:X.hostname,X=+X.port;const re=new Rr(null);V&&On(re,V),b&&(re.g=b),X&&La(re,X),R&&(re.h=R),V=re}return R=v.G,b=v.wa,R&&b&&ft(V,R,b),ft(V,"VER",v.ka),ul(v,V),V}function Sm(v,b,R){if(b&&!v.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=v.Aa&&!v.ma?new _t(new lo({ab:R})):new _t(v.ma),b.Fa(v.L),b}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function bm(){}t=bm.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Ha(){}Ha.prototype.g=function(v,b){return new or(v,b)};function or(v,b){ln.call(this),this.g=new za(b),this.l=v,this.h=b&&b.messageUrlParams||null,v=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(v?v["X-Client-Protocol"]="webchannel":v={"X-Client-Protocol":"webchannel"}),this.g.o=v,v=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(v?v["X-WebChannel-Content-Type"]=b.messageContentType:v={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(v?v["X-WebChannel-Client-Profile"]=b.sa:v={"X-WebChannel-Client-Profile":b.sa}),this.g.U=v,(v=b&&b.Qb)&&!q(v)&&(this.g.u=v),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!q(b)&&(this.g.G=b,v=this.h,v!==null&&b in v&&(v=this.h,b in v&&delete v[b])),this.j=new Uo(this)}m(or,ln),or.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},or.prototype.close=function(){nd(this.g)},or.prototype.o=function(v){var b=this.g;if(typeof v=="string"){var R={};R.__data__=v,v=R}else this.v&&(R={},R.__data__=ka(v),v=R);b.i.push(new fn(b.Ya++,v)),b.I==3&&fo(b)},or.prototype.N=function(){this.g.l=null,delete this.j,nd(this.g),delete this.g,or.Z.N.call(this)};function wm(v){Gn.call(this),v.__headers__&&(this.headers=v.__headers__,this.statusCode=v.__status__,delete v.__headers__,delete v.__status__);var b=v.__sm__;if(b){e:{for(const R in b){v=R;break e}v=void 0}(this.i=v)&&(v=this.i,b=b!==null&&v in b?b[v]:void 0),this.data=b}else this.data=v}m(wm,Gn);function Am(){Jr.call(this),this.status=1}m(Am,Jr);function Uo(v){this.g=v}m(Uo,bm),Uo.prototype.ra=function(){An(this.g,"a")},Uo.prototype.qa=function(v){An(this.g,new wm(v))},Uo.prototype.pa=function(v){An(this.g,new Am)},Uo.prototype.oa=function(){An(this.g,"b")},Ha.prototype.createWebChannel=Ha.prototype.g,or.prototype.send=or.prototype.o,or.prototype.open=or.prototype.m,or.prototype.close=or.prototype.close,yF=function(){return new Ha},gF=function(){return wu()},mF=en,xb={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},tl.NO_ERROR=0,tl.TIMEOUT=8,tl.HTTP_ERROR=6,iy=tl,zf.COMPLETE="complete",pF=zf,rm.EventType=Ai,Ai.OPEN="a",Ai.CLOSE="b",Ai.ERROR="c",Ai.MESSAGE="d",ln.prototype.listen=ln.prototype.J,fh=rm,_t.prototype.listenOnce=_t.prototype.K,_t.prototype.getLastError=_t.prototype.Ha,_t.prototype.getLastErrorCode=_t.prototype.ya,_t.prototype.getStatus=_t.prototype.ca,_t.prototype.getResponseJson=_t.prototype.La,_t.prototype.getResponseText=_t.prototype.la,_t.prototype.send=_t.prototype.ea,_t.prototype.setWithCredentials=_t.prototype.Fa,hF=_t}).apply(typeof xg<"u"?xg:typeof self<"u"?self:typeof window<"u"?window:{});const DM="@firebase/firestore",OM="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jn.UNAUTHENTICATED=new Jn(null),Jn.GOOGLE_CREDENTIALS=new Jn("google-credentials-uid"),Jn.FIRST_PARTY=new Jn("first-party-uid"),Jn.MOCK_USER=new Jn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Af="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tu=new Gv("@firebase/firestore");function Sc(){return tu.logLevel}function pe(t,...e){if(tu.logLevel<=Qe.DEBUG){const n=e.map(LA);tu.debug(`Firestore (${Af}): ${t}`,...n)}}function sr(t,...e){if(tu.logLevel<=Qe.ERROR){const n=e.map(LA);tu.error(`Firestore (${Af}): ${t}`,...n)}}function nu(t,...e){if(tu.logLevel<=Qe.WARN){const n=e.map(LA);tu.warn(`Firestore (${Af}): ${t}`,...n)}}function LA(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,vF(t,r,n)}function vF(t,e,n){let r=`FIRESTORE (${Af}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw sr(r),new Error(r)}function Re(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||vF(e,i,r)}function Ue(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ye extends ur{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _F{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class hY{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Jn.UNAUTHENTICATED)))}shutdown(){}}class pY{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class mY{constructor(e){this.t=e,this.currentUser=Jn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Re(this.o===void 0,42304);let r=this.i;const i=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let o=new la;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new la,e.enqueueRetryable((()=>i(this.currentUser)))};const s=()=>{const c=o;e.enqueueRetryable((async()=>{await c.promise,await i(this.currentUser)}))},u=c=>{pe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((c=>u(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?u(c):(pe("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new la)}}),0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(pe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Re(typeof r.accessToken=="string",31837,{l:r}),new _F(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Re(e===null||typeof e=="string",2055,{h:e}),new Jn(e)}}class gY{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Jn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class yY{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new gY(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Jn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class kM{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vY{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Lt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Re(this.o===void 0,3512);const r=o=>{o.error!=null&&pe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.m;return this.m=o.token,pe("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const i=o=>{pe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>i(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):pe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new kM(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Re(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new kM(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _Y(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=_Y(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%62))}return r}}function Le(t,e){return t<e?-1:t>e?1:0}function Mb(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),o=e.charAt(r);if(i!==o)return MT(i)===MT(o)?Le(i,o):MT(i)?1:-1}return Le(t.length,e.length)}const EY=55296,TY=57343;function MT(t){const e=t.charCodeAt(0);return e>=EY&&e<=TY}function jc(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}function EF(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LM="__name__";class _o{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ae(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ae(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return _o.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof _o?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=_o.compareSegments(e.get(i),n.get(i));if(o!==0)return o}return Le(e.length,n.length)}static compareSegments(e,n){const r=_o.isNumericId(e),i=_o.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?_o.extractNumericId(e).compare(_o.extractNumericId(n)):Mb(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return As.fromString(e.substring(4,e.length-2))}}class ct extends _o{construct(e,n,r){return new ct(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ye(se.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new ct(n)}static emptyPath(){return new ct([])}}const SY=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bt extends _o{construct(e,n,r){return new Bt(e,n,r)}static isValidIdentifier(e){return SY.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===LM}static keyField(){return new Bt([LM])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ye(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new ye(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ye(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else u==="`"?(s=!s,i++):u!=="."||s?(r+=u,i++):(o(),i++)}if(o(),s)throw new ye(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bt(n)}static emptyPath(){return new Bt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(ct.fromString(e))}static fromName(e){return new _e(ct.fromString(e).popFirst(5))}static empty(){return new _e(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ct.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new ct(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TF(t,e,n){if(!n)throw new ye(se.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function bY(t,e,n,r){if(e===!0&&r===!0)throw new ye(se.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function VM(t){if(!_e.isDocumentKey(t))throw new ye(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function UM(t){if(_e.isDocumentKey(t))throw new ye(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function SF(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function t_(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ae(12329,{type:typeof t})}function Jc(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ye(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=t_(t);throw new ye(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function En(t,e){const n={typeString:t};return e&&(n.value=e),n}function bp(t,e){if(!SF(t))throw new ye(se.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const s=t[r];if(i&&typeof s!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){n=`Expected '${r}' field to equal '${o.value}'`;break}}if(n)throw new ye(se.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FM=-62135596800,qM=1e6;class gt{static now(){return gt.fromMillis(Date.now())}static fromDate(e){return gt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*qM);return new gt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ye(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ye(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<FM)throw new ye(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ye(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/qM}_compareTo(e){return this.seconds===e.seconds?Le(this.nanoseconds,e.nanoseconds):Le(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:gt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(bp(e,gt._jsonSchema))return new gt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-FM;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}gt._jsonSchemaVersion="firestore/timestamp/1.0",gt._jsonSchema={type:En("string",gt._jsonSchemaVersion),seconds:En("number"),nanoseconds:En("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{static fromTimestamp(e){return new Me(e)}static min(){return new Me(new gt(0,0))}static max(){return new Me(new gt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fh=-1;class Ny{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function Nb(t){return t.fields.find((e=>e.kind===2))}function Pl(t){return t.fields.filter((e=>e.kind!==2))}Ny.UNKNOWN_ID=-1;class oy{constructor(e,n){this.fieldPath=e,this.kind=n}}class qh{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new qh(0,Yr.min())}}function wY(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Me.fromTimestamp(r===1e9?new gt(n+1,0):new gt(n,r));return new Yr(i,_e.empty(),e)}function bF(t){return new Yr(t.readTime,t.key,Fh)}class Yr{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Yr(Me.min(),_e.empty(),Fh)}static max(){return new Yr(Me.max(),_e.empty(),Fh)}}function UA(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(t.documentKey,e.documentKey),n!==0?n:Le(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wF="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class AF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gu(t){if(t.code!==se.FAILED_PRECONDITION||t.message!==wF)throw t;pe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J(((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):J.reject(n)}static resolve(e){return new J(((n,r)=>{n(e)}))}static reject(e){return new J(((n,r)=>{r(e)}))}static waitFor(e){return new J(((n,r)=>{let i=0,o=0,s=!1;e.forEach((u=>{++i,u.next((()=>{++o,s&&o===i&&n()}),(c=>r(c)))})),s=!0,o===i&&n()}))}static or(e){let n=J.resolve(!1);for(const r of e)n=n.next((i=>i?J.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,o)=>{r.push(n.call(this,i,o))})),this.waitFor(r)}static mapArray(e,n){return new J(((r,i)=>{const o=e.length,s=new Array(o);let u=0;for(let c=0;c<o;c++){const d=c;n(e[d]).next((h=>{s[d]=h,++u,u===o&&r(s)}),(h=>i(h)))}}))}static doWhile(e,n){return new J(((r,i)=>{const o=()=>{e()===!0?n().next((()=>{o()}),i):r()};o()}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lr="SimpleDb";class n_{static open(e,n,r,i){try{return new n_(n,e.transaction(i,r))}catch(o){throw new bh(n,o)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new la,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new bh(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const i=FA(r.target.error);this.S.reject(new bh(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(pe(Lr,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new IY(n)}}class Is{static delete(e){return pe(Lr,"Removing database:",e),kl(sA().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!Nh())return!1;if(Is.F())return!0;const e=zt(),n=Is.M(e),r=0<n&&n<10,i=IF(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)==null?void 0:e.__PRIVATE_USE_MOCK_PERSISTENCE)==="YES"}static O(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.N=r,this.B=null,Is.M(zt())===12.2&&sr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(pe(Lr,"Opening database:",this.name),this.db=await new Promise(((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{const s=o.target.result;n(s)},i.onblocked=()=>{r(new bh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{const s=o.target.error;s.name==="VersionError"?r(new ye(se.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?r(new ye(se.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):r(new bh(e,s))},i.onupgradeneeded=o=>{pe(Lr,'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const s=o.target.result;this.N.k(s,i.transaction,o.oldVersion,this.version).next((()=>{pe(Lr,"Database upgrade to version "+this.version+" complete")}))}}))),this.q&&(this.db.onversionchange=n=>this.q(n)),this.db}$(e){this.q=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const o=n==="readonly";let s=0;for(;;){++s;try{this.db=await this.L(e);const u=n_.open(this.db,e,o?"readonly":"readwrite",r),c=i(u).next((d=>(u.C(),d))).catch((d=>(u.abort(d),J.reject(d)))).toPromise();return c.catch((()=>{})),await u.D,c}catch(u){const c=u,d=c.name!=="FirebaseError"&&s<3;if(pe(Lr,"Transaction failed with error:",c.message,"Retrying:",d),this.close(),!d)return Promise.reject(c)}}}close(){this.db&&this.db.close(),this.db=void 0}}function IF(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class AY{constructor(e){this.U=e,this.K=!1,this.W=null}get isDone(){return this.K}get G(){return this.W}set cursor(e){this.U=e}done(){this.K=!0}j(e){this.W=e}delete(){return kl(this.U.delete())}}class bh extends ye{constructor(e,n){super(se.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Gs(t){return t.name==="IndexedDbTransactionError"}class IY{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(pe(Lr,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(pe(Lr,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),kl(r)}add(e){return pe(Lr,"ADD",this.store.name,e,e),kl(this.store.add(e))}get(e){return kl(this.store.get(e)).next((n=>(n===void 0&&(n=null),pe(Lr,"GET",this.store.name,e,n),n)))}delete(e){return pe(Lr,"DELETE",this.store.name,e),kl(this.store.delete(e))}count(){return pe(Lr,"COUNT",this.store.name),kl(this.store.count())}J(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const o=i.getAll(r.range);return new J(((s,u)=>{o.onerror=c=>{u(c.target.error)},o.onsuccess=c=>{s(c.target.result)}}))}{const o=this.cursor(r),s=[];return this.H(o,((u,c)=>{s.push(c)})).next((()=>s))}}Y(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new J(((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}}))}Z(e,n){pe(Lr,"DELETE ALL",this.store.name);const r=this.options(e,n);r.X=!1;const i=this.cursor(r);return this.H(i,((o,s,u)=>u.delete()))}ee(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.H(i,n)}te(e){const n=this.cursor({});return new J(((r,i)=>{n.onerror=o=>{const s=FA(o.target.error);i(s)},n.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next((u=>{u?s.continue():r()})):r()}}))}H(e,n){const r=[];return new J(((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const u=s.target.result;if(!u)return void i();const c=new AY(u),d=n(u.primaryKey,u.value,c);if(d instanceof J){const h=d.catch((m=>(c.done(),J.reject(m))));r.push(h)}c.isDone?i():c.G===null?u.continue():u.continue(c.G)}})).next((()=>J.waitFor(r)))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function kl(t){return new J(((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=FA(r.target.error);n(i)}}))}let BM=!1;function FA(t){const e=Is.M(zt());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new ye("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return BM||(BM=!0,setTimeout((()=>{throw r}),0)),r}}return t}const wh="IndexBackfiller";class CY{constructor(e,n){this.asyncQueue=e,this.ne=n,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){pe(wh,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const n=await this.ne.ie();pe(wh,`Documents written: ${n}`)}catch(n){Gs(n)?pe(wh,"Ignoring IndexedDB error during index backfill: ",n):await gu(n)}await this.re(6e4)}))}}class RY{constructor(e,n){this.localStore=e,this.persistence=n}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(n=>this.se(n,e)))}se(e,n){const r=new Set;let i=n,o=!0;return J.doWhile((()=>o===!0&&i>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((s=>{if(s!==null&&!r.has(s))return pe(wh,`Processing collection: ${s}`),this.oe(e,s,i).next((u=>{i-=u,r.add(s)}));o=!1})))).next((()=>n-i))}oe(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next((i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next((o=>{const s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next((()=>this._e(i,o))).next((u=>(pe(wh,`Updating offset: ${u}`),this.localStore.indexManager.updateCollectionGroup(e,n,u)))).next((()=>s.size))}))))}_e(e,n){let r=e;return n.changes.forEach(((i,o)=>{const s=bF(o);UA(s,r)>0&&(r=s)})),new Yr(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}pi.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $l=-1;function r_(t){return t==null}function Bh(t){return t===0&&1/t==-1/0}function PY(t){return typeof t=="number"&&Number.isInteger(t)&&!Bh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dy="";function rr(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=zM(e)),e=xY(t.get(n),e);return zM(e)}function xY(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case Dy:n+="";break;default:n+=o}}return n}function zM(t){return t+Dy+""}function Ao(t){const e=t.length;if(Re(e>=2,64408,{path:t}),e===2)return Re(t.charAt(0)===Dy&&t.charAt(1)==="",56145,{path:t}),ct.emptyPath();const n=e-2,r=[];let i="";for(let o=0;o<e;){const s=t.indexOf(Dy,o);switch((s<0||s>n)&&Ae(50515,{path:t}),t.charAt(s+1)){case"":const u=t.substring(o,s);let c;i.length===0?c=u:(i+=u,c=i,i=""),r.push(c);break;case"":i+=t.substring(o,s),i+="\0";break;case"":i+=t.substring(o,s+1);break;default:Ae(61167,{path:t})}o=s+2}return new ct(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xl="remoteDocuments",wp="owner",dc="owner",zh="mutationQueues",MY="userId",Vi="mutations",GM="batchId",ql="userMutationsIndex",HM=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ay(t,e){return[t,rr(e)]}function CF(t,e,n){return[t,rr(e),n]}const NY={},Xc="documentMutations",Oy="remoteDocumentsV14",DY=["prefixPath","collectionGroup","readTime","documentId"],sy="documentKeyIndex",OY=["prefixPath","collectionGroup","documentId"],RF="collectionGroupIndex",kY=["collectionGroup","readTime","prefixPath","documentId"],Gh="remoteDocumentGlobal",Db="remoteDocumentGlobalKey",Qc="targets",PF="queryTargetsIndex",LY=["canonicalId","targetId"],Zc="targetDocuments",VY=["targetId","path"],qA="documentTargetsIndex",UY=["path","targetId"],ky="targetGlobalKey",Kl="targetGlobal",Hh="collectionParents",FY=["collectionId","parent"],ef="clientMetadata",qY="clientId",i_="bundles",BY="bundleId",o_="namedQueries",zY="name",BA="indexConfiguration",GY="indexId",Ob="collectionGroupIndex",HY="collectionGroup",Ah="indexState",$Y=["indexId","uid"],xF="sequenceNumberIndex",KY=["uid","sequenceNumber"],Ih="indexEntries",YY=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],MF="documentKeyIndex",WY=["indexId","uid","orderedDocumentKey"],a_="documentOverlays",jY=["userId","collectionPath","documentId"],kb="collectionPathOverlayIndex",JY=["userId","collectionPath","largestBatchId"],NF="collectionGroupOverlayIndex",XY=["userId","collectionGroup","largestBatchId"],zA="globals",QY="name",DF=[zh,Vi,Xc,xl,Qc,wp,Kl,Zc,ef,Gh,Hh,i_,o_],ZY=[...DF,a_],OF=[zh,Vi,Xc,Oy,Qc,wp,Kl,Zc,ef,Gh,Hh,i_,o_,a_],kF=OF,GA=[...kF,BA,Ah,Ih],eW=GA,LF=[...GA,zA],tW=LF;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb extends AF{constructor(e,n){super(),this.le=e,this.currentSequenceNumber=n}}function Pn(t,e){const n=Ue(t);return Is.O(n.le,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $M(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function yu(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function VF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,n){this.comparator=e,this.root=n||Xn.EMPTY}insert(e,n){return new Ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Xn.BLACK,null,null))}remove(e){return new Ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Mg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Mg(this.root,e,this.comparator,!1)}getReverseIterator(){return new Mg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Mg(this.root,e,this.comparator,!0)}}class Mg{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xn{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Xn.RED,this.left=i??Xn.EMPTY,this.right=o??Xn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Xn(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Xn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Xn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}Xn.EMPTY=null,Xn.RED=!0,Xn.BLACK=!1;Xn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,n,r,i,o){return this}insert(e,n,r){return new Xn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.comparator=e,this.data=new Ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new KM(this.data.getIterator())}getIteratorFrom(e){return new KM(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new vt(this.comparator);return n.data=e,n}}class KM{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function hc(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e){this.fields=e,e.sort(Bt.comparator)}static empty(){return new mi([])}unionWith(e){let n=new vt(Bt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new mi(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return jc(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UF extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new UF("Invalid base64 string: "+o):o}})(e);return new bn(n)}static fromUint8Array(e){const n=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new bn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Le(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bn.EMPTY_BYTE_STRING=new bn("");const nW=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ha(t){if(Re(!!t,39018),typeof t=="string"){let e=0;const n=nW.exec(t);if(Re(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:kt(t.seconds),nanos:kt(t.nanos)}}function kt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function pa(t){return typeof t=="string"?bn.fromBase64String(t):bn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FF="server_timestamp",qF="__type__",BF="__previous_value__",zF="__local_write_time__";function HA(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[qF])==null?void 0:r.stringValue)===FF}function s_(t){const e=t.mapValue.fields[BF];return HA(e)?s_(e):e}function $h(t){const e=ha(t.mapValue.fields[zF].timestampValue);return new gt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rW{constructor(e,n,r,i,o,s,u,c,d,h){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=u,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=h}}const Ly="(default)";class ru{constructor(e,n){this.projectId=e,this.database=n||Ly}static empty(){return new ru("","")}get isDefaultDatabase(){return this.database===Ly}isEqual(e){return e instanceof ru&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $A="__type__",GF="__max__",Ss={mapValue:{fields:{__type__:{stringValue:GF}}}},KA="__vector__",tf="value",ly={nullValue:"NULL_VALUE"};function Ns(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?HA(t)?4:HF(t)?9007199254740991:l_(t)?10:11:Ae(28295,{value:t})}function No(t,e){if(t===e)return!0;const n=Ns(t);if(n!==Ns(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return $h(t).isEqual($h(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=ha(i.timestampValue),u=ha(o.timestampValue);return s.seconds===u.seconds&&s.nanos===u.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,o){return pa(i.bytesValue).isEqual(pa(o.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,o){return kt(i.geoPointValue.latitude)===kt(o.geoPointValue.latitude)&&kt(i.geoPointValue.longitude)===kt(o.geoPointValue.longitude)})(t,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return kt(i.integerValue)===kt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=kt(i.doubleValue),u=kt(o.doubleValue);return s===u?Bh(s)===Bh(u):isNaN(s)&&isNaN(u)}return!1})(t,e);case 9:return jc(t.arrayValue.values||[],e.arrayValue.values||[],No);case 10:case 11:return(function(i,o){const s=i.mapValue.fields||{},u=o.mapValue.fields||{};if($M(s)!==$M(u))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(u[c]===void 0||!No(s[c],u[c])))return!1;return!0})(t,e);default:return Ae(52216,{left:t})}}function Kh(t,e){return(t.values||[]).find((n=>No(n,e)))!==void 0}function Ds(t,e){if(t===e)return 0;const n=Ns(t),r=Ns(e);if(n!==r)return Le(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Le(t.booleanValue,e.booleanValue);case 2:return(function(o,s){const u=kt(o.integerValue||o.doubleValue),c=kt(s.integerValue||s.doubleValue);return u<c?-1:u>c?1:u===c?0:isNaN(u)?isNaN(c)?0:-1:1})(t,e);case 3:return YM(t.timestampValue,e.timestampValue);case 4:return YM($h(t),$h(e));case 5:return Mb(t.stringValue,e.stringValue);case 6:return(function(o,s){const u=pa(o),c=pa(s);return u.compareTo(c)})(t.bytesValue,e.bytesValue);case 7:return(function(o,s){const u=o.split("/"),c=s.split("/");for(let d=0;d<u.length&&d<c.length;d++){const h=Le(u[d],c[d]);if(h!==0)return h}return Le(u.length,c.length)})(t.referenceValue,e.referenceValue);case 8:return(function(o,s){const u=Le(kt(o.latitude),kt(s.latitude));return u!==0?u:Le(kt(o.longitude),kt(s.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return WM(t.arrayValue,e.arrayValue);case 10:return(function(o,s){var _,S,w,A;const u=o.fields||{},c=s.fields||{},d=(_=u[tf])==null?void 0:_.arrayValue,h=(S=c[tf])==null?void 0:S.arrayValue,m=Le(((w=d==null?void 0:d.values)==null?void 0:w.length)||0,((A=h==null?void 0:h.values)==null?void 0:A.length)||0);return m!==0?m:WM(d,h)})(t.mapValue,e.mapValue);case 11:return(function(o,s){if(o===Ss.mapValue&&s===Ss.mapValue)return 0;if(o===Ss.mapValue)return 1;if(s===Ss.mapValue)return-1;const u=o.fields||{},c=Object.keys(u),d=s.fields||{},h=Object.keys(d);c.sort(),h.sort();for(let m=0;m<c.length&&m<h.length;++m){const _=Mb(c[m],h[m]);if(_!==0)return _;const S=Ds(u[c[m]],d[h[m]]);if(S!==0)return S}return Le(c.length,h.length)})(t.mapValue,e.mapValue);default:throw Ae(23264,{he:n})}}function YM(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Le(t,e);const n=ha(t),r=ha(e),i=Le(n.seconds,r.seconds);return i!==0?i:Le(n.nanos,r.nanos)}function WM(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Ds(n[i],r[i]);if(o)return o}return Le(n.length,r.length)}function nf(t){return Vb(t)}function Vb(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=ha(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return pa(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return _e.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=Vb(o);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${Vb(n.fields[s])}`;return i+"}"})(t.mapValue):Ae(61005,{value:t})}function uy(t){switch(Ns(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=s_(t);return e?16+uy(e):16;case 5:return 2*t.stringValue.length;case 6:return pa(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,o)=>i+uy(o)),0)})(t.arrayValue);case 10:case 11:return(function(r){let i=0;return yu(r.fields,((o,s)=>{i+=o.length+uy(s)})),i})(t.mapValue);default:throw Ae(13486,{value:t})}}function Yh(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ub(t){return!!t&&"integerValue"in t}function Wh(t){return!!t&&"arrayValue"in t}function jM(t){return!!t&&"nullValue"in t}function JM(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function cy(t){return!!t&&"mapValue"in t}function l_(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[$A])==null?void 0:r.stringValue)===KA}function Ch(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return yu(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Ch(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ch(t.arrayValue.values[n]);return e}return{...t}}function HF(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===GF}const $F={mapValue:{fields:{[$A]:{stringValue:KA},[tf]:{arrayValue:{}}}}};function iW(t){return"nullValue"in t?ly:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Yh(ru.empty(),_e.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?l_(t)?$F:{mapValue:{}}:Ae(35942,{value:t})}function oW(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Yh(ru.empty(),_e.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?$F:"mapValue"in t?l_(t)?{mapValue:{}}:Ss:Ae(61959,{value:t})}function XM(t,e){const n=Ds(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function QM(t,e){const n=Ds(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this.value=e}static empty(){return new Tr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!cy(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ch(n)}setAll(e){let n=Bt.emptyPath(),r={},i=[];e.forEach(((s,u)=>{if(!n.isImmediateParentOf(u)){const c=this.getFieldsMap(n);this.applyChanges(c,r,i),r={},i=[],n=u.popLast()}s?r[u.lastSegment()]=Ch(s):i.push(u.lastSegment())}));const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());cy(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return No(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];cy(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){yu(n,((i,o)=>e[i]=o));for(const i of r)delete e[i]}clone(){return new Tr(Ch(this.value))}}function KF(t){const e=[];return yu(t.fields,((n,r)=>{const i=new Bt([n]);if(cy(r)){const o=KF(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)})),new mi(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,n,r,i,o,s,u){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=u}static newInvalidDocument(e){return new Wt(e,0,Me.min(),Me.min(),Me.min(),Tr.empty(),0)}static newFoundDocument(e,n,r,i){return new Wt(e,1,n,Me.min(),r,i,0)}static newNoDocument(e,n){return new Wt(e,2,n,Me.min(),Me.min(),Tr.empty(),0)}static newUnknownDocument(e,n){return new Wt(e,3,n,Me.min(),Me.min(),Tr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,n){this.position=e,this.inclusive=n}}function ZM(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=_e.comparator(_e.fromName(s.referenceValue),n.key):r=Ds(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function eN(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!No(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,n="asc"){this.field=e,this.dir=n}}function aW(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YF{}class tt extends YF{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new sW(e,n,r):n==="array-contains"?new cW(e,r):n==="in"?new ZF(e,r):n==="not-in"?new fW(e,r):n==="array-contains-any"?new dW(e,r):new tt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new lW(e,r):new uW(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ds(n,this.value)):n!==null&&Ns(this.value)===Ns(n)&&this.matchesComparison(Ds(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yt extends YF{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new yt(e,n)}matches(e){return of(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function of(t){return t.op==="and"}function Fb(t){return t.op==="or"}function YA(t){return WF(t)&&of(t)}function WF(t){for(const e of t.filters)if(e instanceof yt)return!1;return!0}function qb(t){if(t instanceof tt)return t.field.canonicalString()+t.op.toString()+nf(t.value);if(YA(t))return t.filters.map((e=>qb(e))).join(",");{const e=t.filters.map((n=>qb(n))).join(",");return`${t.op}(${e})`}}function jF(t,e){return t instanceof tt?(function(r,i){return i instanceof tt&&r.op===i.op&&r.field.isEqual(i.field)&&No(r.value,i.value)})(t,e):t instanceof yt?(function(r,i){return i instanceof yt&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((o,s,u)=>o&&jF(s,i.filters[u])),!0):!1})(t,e):void Ae(19439)}function JF(t,e){const n=t.filters.concat(e);return yt.create(n,t.op)}function XF(t){return t instanceof tt?(function(n){return`${n.field.canonicalString()} ${n.op} ${nf(n.value)}`})(t):t instanceof yt?(function(n){return n.op.toString()+" {"+n.getFilters().map(XF).join(" ,")+"}"})(t):"Filter"}class sW extends tt{constructor(e,n,r){super(e,n,r),this.key=_e.fromName(r.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class lW extends tt{constructor(e,n){super(e,"in",n),this.keys=QF("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class uW extends tt{constructor(e,n){super(e,"not-in",n),this.keys=QF("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function QF(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map((r=>_e.fromName(r.referenceValue)))}class cW extends tt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Wh(n)&&Kh(n.arrayValue,this.value)}}class ZF extends tt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Kh(this.value.arrayValue,n)}}class fW extends tt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Kh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Kh(this.value.arrayValue,n)}}class dW extends tt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Wh(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Kh(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hW{constructor(e,n=null,r=[],i=[],o=null,s=null,u=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=u,this.Te=null}}function Bb(t,e=null,n=[],r=[],i=null,o=null,s=null){return new hW(t,e,n,r,i,o,s)}function iu(t){const e=Ue(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>qb(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),r_(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>nf(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>nf(r))).join(",")),e.Te=n}return e.Te}function Ap(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!aW(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!jF(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!eN(t.startAt,e.startAt)&&eN(t.endAt,e.endAt)}function Vy(t){return _e.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Uy(t,e){return t.filters.filter((n=>n instanceof tt&&n.field.isEqual(e)))}function tN(t,e,n){let r=ly,i=!0;for(const o of Uy(t,e)){let s=ly,u=!0;switch(o.op){case"<":case"<=":s=iW(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,u=!1;break;case"!=":case"not-in":s=ly}XM({value:r,inclusive:i},{value:s,inclusive:u})<0&&(r=s,i=u)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const s=n.position[o];XM({value:r,inclusive:i},{value:s,inclusive:n.inclusive})<0&&(r=s,i=n.inclusive);break}}return{value:r,inclusive:i}}function nN(t,e,n){let r=Ss,i=!0;for(const o of Uy(t,e)){let s=Ss,u=!0;switch(o.op){case">=":case">":s=oW(o.value),u=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,u=!1;break;case"!=":case"not-in":s=Ss}QM({value:r,inclusive:i},{value:s,inclusive:u})>0&&(r=s,i=u)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const s=n.position[o];QM({value:r,inclusive:i},{value:s,inclusive:n.inclusive})>0&&(r=s,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class If{constructor(e,n=null,r=[],i=[],o=null,s="F",u=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=u,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function pW(t,e,n,r,i,o,s,u){return new If(t,e,n,r,i,o,s,u)}function WA(t){return new If(t)}function rN(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function e4(t){return t.collectionGroup!==null}function Rh(t){const e=Ue(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let u=new vt(Bt.comparator);return s.filters.forEach((c=>{c.getFlattenedFilters().forEach((d=>{d.isInequality()&&(u=u.add(d.field))}))})),u})(e).forEach((o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new jh(o,r))})),n.has(Bt.keyField().canonicalString())||e.Ie.push(new jh(Bt.keyField(),r))}return e.Ie}function yi(t){const e=Ue(t);return e.Ee||(e.Ee=mW(e,Rh(t))),e.Ee}function mW(t,e){if(t.limitType==="F")return Bb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const o=i.dir==="desc"?"asc":"desc";return new jh(i.field,o)}));const n=t.endAt?new rf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new rf(t.startAt.position,t.startAt.inclusive):null;return Bb(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function zb(t,e){const n=t.filters.concat([e]);return new If(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Gb(t,e,n){return new If(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function u_(t,e){return Ap(yi(t),yi(e))&&t.limitType===e.limitType}function t4(t){return`${iu(yi(t))}|lt:${t.limitType}`}function bc(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>XF(i))).join(", ")}]`),r_(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>nf(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>nf(i))).join(",")),`Target(${r})`})(yi(t))}; limitType=${t.limitType})`}function Ip(t,e){return e.isFoundDocument()&&(function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):_e.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(t,e)&&(function(r,i){for(const o of Rh(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(s,u,c){const d=ZM(s,u,c);return s.inclusive?d<=0:d<0})(r.startAt,Rh(r),i)||r.endAt&&!(function(s,u,c){const d=ZM(s,u,c);return s.inclusive?d>=0:d>0})(r.endAt,Rh(r),i))})(t,e)}function gW(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function n4(t){return(e,n)=>{let r=!1;for(const i of Rh(t)){const o=yW(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function yW(t,e,n){const r=t.field.isKeyField()?_e.comparator(e.key,n.key):(function(o,s,u){const c=s.data.field(o),d=u.data.field(o);return c!==null&&d!==null?Ds(c,d):Ae(42886)})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ae(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ia{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){yu(this.inner,((n,r)=>{for(const[i,o]of r)e(i,o)}))}isEmpty(){return VF(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vW=new Ut(_e.comparator);function zr(){return vW}const r4=new Ut(_e.comparator);function dh(...t){let e=r4;for(const n of t)e=e.insert(n.key,n);return e}function i4(t){let e=r4;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function Io(){return Ph()}function o4(){return Ph()}function Ph(){return new Ia((t=>t.toString()),((t,e)=>t.isEqual(e)))}const _W=new Ut(_e.comparator),EW=new vt(_e.comparator);function Ye(...t){let e=EW;for(const n of t)e=e.add(n);return e}const TW=new vt(Le);function SW(){return TW}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jA(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bh(e)?"-0":e}}function a4(t){return{integerValue:""+t}}function bW(t,e){return PY(e)?a4(e):jA(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(){this._=void 0}}function wW(t,e,n){return t instanceof Jh?(function(i,o){const s={fields:{[qF]:{stringValue:FF},[zF]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&HA(o)&&(o=s_(o)),o&&(s.fields[BF]=o),{mapValue:s}})(n,e):t instanceof af?l4(t,e):t instanceof sf?u4(t,e):(function(i,o){const s=s4(i,o),u=iN(s)+iN(i.Ae);return Ub(s)&&Ub(i.Ae)?a4(u):jA(i.serializer,u)})(t,e)}function AW(t,e,n){return t instanceof af?l4(t,e):t instanceof sf?u4(t,e):n}function s4(t,e){return t instanceof Xh?(function(r){return Ub(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class Jh extends c_{}class af extends c_{constructor(e){super(),this.elements=e}}function l4(t,e){const n=c4(e);for(const r of t.elements)n.some((i=>No(i,r)))||n.push(r);return{arrayValue:{values:n}}}class sf extends c_{constructor(e){super(),this.elements=e}}function u4(t,e){let n=c4(e);for(const r of t.elements)n=n.filter((i=>!No(i,r)));return{arrayValue:{values:n}}}class Xh extends c_{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function iN(t){return kt(t.integerValue||t.doubleValue)}function c4(t){return Wh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IW{constructor(e,n){this.field=e,this.transform=n}}function CW(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof af&&i instanceof af||r instanceof sf&&i instanceof sf?jc(r.elements,i.elements,No):r instanceof Xh&&i instanceof Xh?No(r.Ae,i.Ae):r instanceof Jh&&i instanceof Jh})(t.transform,e.transform)}class RW{constructor(e,n){this.version=e,this.transformResults=n}}class Sr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Sr}static exists(e){return new Sr(void 0,e)}static updateTime(e){return new Sr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fy(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class f_{}function f4(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new d_(t.key,Sr.none()):new Cf(t.key,t.data,Sr.none());{const n=t.data,r=Tr.empty();let i=new vt(Bt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Hs(t.key,r,new mi(i.toArray()),Sr.none())}}function PW(t,e,n){t instanceof Cf?(function(i,o,s){const u=i.value.clone(),c=aN(i.fieldTransforms,o,s.transformResults);u.setAll(c),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()})(t,e,n):t instanceof Hs?(function(i,o,s){if(!fy(i.precondition,o))return void o.convertToUnknownDocument(s.version);const u=aN(i.fieldTransforms,o,s.transformResults),c=o.data;c.setAll(d4(i)),c.setAll(u),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()})(t,e,n):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,n)}function xh(t,e,n,r){return t instanceof Cf?(function(o,s,u,c){if(!fy(o.precondition,s))return u;const d=o.value.clone(),h=sN(o.fieldTransforms,c,s);return d.setAll(h),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null})(t,e,n,r):t instanceof Hs?(function(o,s,u,c){if(!fy(o.precondition,s))return u;const d=sN(o.fieldTransforms,c,s),h=s.data;return h.setAll(d4(o)),h.setAll(d),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((m=>m.field)))})(t,e,n,r):(function(o,s,u){return fy(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):u})(t,e,n)}function xW(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=s4(r.transform,i||null);o!=null&&(n===null&&(n=Tr.empty()),n.set(r.field,o))}return n||null}function oN(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&jc(r,i,((o,s)=>CW(o,s)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Cf extends f_{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Hs extends f_{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function d4(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function aN(t,e,n){const r=new Map;Re(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,u=e.data.field(o.field);r.set(o.field,AW(s,u,n[i]))}return r}function sN(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,wW(o,s,e))}return r}class d_ extends f_{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class h4 extends f_{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&PW(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=xh(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=xh(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=o4();return this.mutations.forEach((i=>{const o=e.get(i.key),s=o.overlayedDocument;let u=this.applyToLocalView(s,o.mutatedFields);u=n.has(i.key)?null:u;const c=f4(s,u);c!==null&&r.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(Me.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Ye())}isEqual(e){return this.batchId===e.batchId&&jc(this.mutations,e.mutations,((n,r)=>oN(n,r)))&&jc(this.baseMutations,e.baseMutations,((n,r)=>oN(n,r)))}}class XA{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Re(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return _W})();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new XA(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MW{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vn,rt;function NW(t){switch(t){case se.OK:return Ae(64938);case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0;default:return Ae(15467,{code:t})}}function p4(t){if(t===void 0)return sr("GRPC error has no .code"),se.UNKNOWN;switch(t){case vn.OK:return se.OK;case vn.CANCELLED:return se.CANCELLED;case vn.UNKNOWN:return se.UNKNOWN;case vn.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case vn.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case vn.INTERNAL:return se.INTERNAL;case vn.UNAVAILABLE:return se.UNAVAILABLE;case vn.UNAUTHENTICATED:return se.UNAUTHENTICATED;case vn.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case vn.NOT_FOUND:return se.NOT_FOUND;case vn.ALREADY_EXISTS:return se.ALREADY_EXISTS;case vn.PERMISSION_DENIED:return se.PERMISSION_DENIED;case vn.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case vn.ABORTED:return se.ABORTED;case vn.OUT_OF_RANGE:return se.OUT_OF_RANGE;case vn.UNIMPLEMENTED:return se.UNIMPLEMENTED;case vn.DATA_LOSS:return se.DATA_LOSS;default:return Ae(39323,{code:t})}}(rt=vn||(vn={}))[rt.OK=0]="OK",rt[rt.CANCELLED=1]="CANCELLED",rt[rt.UNKNOWN=2]="UNKNOWN",rt[rt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",rt[rt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",rt[rt.NOT_FOUND=5]="NOT_FOUND",rt[rt.ALREADY_EXISTS=6]="ALREADY_EXISTS",rt[rt.PERMISSION_DENIED=7]="PERMISSION_DENIED",rt[rt.UNAUTHENTICATED=16]="UNAUTHENTICATED",rt[rt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",rt[rt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",rt[rt.ABORTED=10]="ABORTED",rt[rt.OUT_OF_RANGE=11]="OUT_OF_RANGE",rt[rt.UNIMPLEMENTED=12]="UNIMPLEMENTED",rt[rt.INTERNAL=13]="INTERNAL",rt[rt.UNAVAILABLE=14]="UNAVAILABLE",rt[rt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DW(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OW=new As([4294967295,4294967295],0);function lN(t){const e=DW().encode(t),n=new dF;return n.update(e),new Uint8Array(n.digest())}function uN(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new As([n,r],0),new As([i,o],0)]}class ZA{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new hh(`Invalid padding: ${n}`);if(r<0)throw new hh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new hh(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new hh(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=As.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(As.fromNumber(r)));return i.compare(OW)===1&&(i=new As([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=lN(e),[r,i]=uN(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);if(!this.we(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new ZA(o,i,n);return r.forEach((u=>s.insert(u))),s}insert(e){if(this.ge===0)return;const n=lN(e),[r,i]=uN(n);for(let o=0;o<this.hashCount;o++){const s=this.ye(r,i,o);this.Se(s)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class hh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Cp.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new h_(Me.min(),i,new Ut(Le),zr(),Ye())}}class Cp{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Cp(r,n,Ye(),Ye(),Ye())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class m4{constructor(e,n){this.targetId=e,this.Ce=n}}class g4{constructor(e,n,r=bn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class cN{constructor(){this.ve=0,this.Fe=fN(),this.Me=bn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ye(),n=Ye(),r=Ye();return this.Fe.forEach(((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ae(38017,{changeType:o})}})),new Cp(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=fN()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Re(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class kW{constructor(e){this.Ge=e,this.ze=new Map,this.je=zr(),this.Je=Ng(),this.He=Ng(),this.Ye=new Ut(Le)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:Ae(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((r,i)=>{this.rt(i)&&n(i)}))}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const o=i.target;if(Vy(o))if(r===0){const s=new _e(o.path);this.et(n,s,Wt.newNoDocument(s,Me.min()))}else Re(r===1,20013,{expectedCount:r});else{const s=this._t(n);if(s!==r){const u=this.ut(e),c=u?this.ct(u,e,s):1;if(c!==0){this.it(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,u;try{s=pa(r).toUint8Array()}catch(c){if(c instanceof UF)return nu("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{u=new ZA(s,i,o)}catch(c){return nu(c instanceof hh?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return u.ge===0?null:u}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach((o=>{const s=this.Ge.ht(),u=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.et(n,o,null),i++)})),i}Tt(e){const n=new Map;this.ze.forEach(((o,s)=>{const u=this.ot(s);if(u){if(o.current&&Vy(u.target)){const c=new _e(u.target.path);this.It(c).has(s)||this.Et(s,c)||this.et(s,c,Wt.newNoDocument(c,e))}o.Be&&(n.set(s,o.ke()),o.qe())}}));let r=Ye();this.He.forEach(((o,s)=>{let u=!0;s.forEachWhile((c=>{const d=this.ot(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(r=r.add(o))})),this.je.forEach(((o,s)=>s.setReadTime(e)));const i=new h_(e,n,this.Ye,this.je,r);return this.je=zr(),this.Je=Ng(),this.He=Ng(),this.Ye=new Ut(Le),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new cN,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new vt(Le),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new vt(Le),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||pe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new cN),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Ng(){return new Ut(_e.comparator)}function fN(){return new Ut(_e.comparator)}const LW={asc:"ASCENDING",desc:"DESCENDING"},VW={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UW={and:"AND",or:"OR"};class FW{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Hb(t,e){return t.useProto3Json||r_(e)?e:{value:e}}function lf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function y4(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function qW(t,e){return lf(t,e.toTimestamp())}function cr(t){return Re(!!t,49232),Me.fromTimestamp((function(n){const r=ha(n);return new gt(r.seconds,r.nanos)})(t))}function eI(t,e){return $b(t,e).canonicalString()}function $b(t,e){const n=(function(i){return new ct(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function v4(t){const e=ct.fromString(t);return Re(C4(e),10190,{key:e.toString()}),e}function Fy(t,e){return eI(t.databaseId,e.path)}function Yl(t,e){const n=v4(e);if(n.get(1)!==t.databaseId.projectId)throw new ye(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ye(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new _e(T4(n))}function _4(t,e){return eI(t.databaseId,e)}function E4(t){const e=v4(t);return e.length===4?ct.emptyPath():T4(e)}function Kb(t){return new ct(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function T4(t){return Re(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function dN(t,e,n){return{name:Fy(t,e),fields:n.value.mapValue.fields}}function BW(t,e,n){const r=Yl(t,e.name),i=cr(e.updateTime),o=e.createTime?cr(e.createTime):Me.min(),s=new Tr({mapValue:{fields:e.fields}}),u=Wt.newFoundDocument(r,i,o,s);return n&&u.setHasCommittedMutations(),n?u.setHasCommittedMutations():u}function zW(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Ae(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(d,h){return d.useProto3Json?(Re(h===void 0||typeof h=="string",58123),bn.fromBase64String(h||"")):(Re(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),bn.fromUint8Array(h||new Uint8Array))})(t,e.targetChange.resumeToken),s=e.targetChange.cause,u=s&&(function(d){const h=d.code===void 0?se.UNKNOWN:p4(d.code);return new ye(h,d.message||"")})(s);n=new g4(r,i,o,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Yl(t,r.document.name),o=cr(r.document.updateTime),s=r.document.createTime?cr(r.document.createTime):Me.min(),u=new Tr({mapValue:{fields:r.document.fields}}),c=Wt.newFoundDocument(i,o,s,u),d=r.targetIds||[],h=r.removedTargetIds||[];n=new dy(d,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Yl(t,r.document),o=r.readTime?cr(r.readTime):Me.min(),s=Wt.newNoDocument(i,o),u=r.removedTargetIds||[];n=new dy([],u,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Yl(t,r.document),o=r.removedTargetIds||[];n=new dy([],o,i,null)}else{if(!("filter"in e))return Ae(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new MW(i,o),u=r.targetId;n=new m4(u,s)}}return n}function qy(t,e){let n;if(e instanceof Cf)n={update:dN(t,e.key,e.value)};else if(e instanceof d_)n={delete:Fy(t,e.key)};else if(e instanceof Hs)n={update:dN(t,e.key,e.data),updateMask:WW(e.fieldMask)};else{if(!(e instanceof h4))return Ae(16599,{Vt:e.type});n={verify:Fy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(o,s){const u=s.transform;if(u instanceof Jh)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof af)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof sf)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Xh)return{fieldPath:s.field.canonicalString(),increment:u.Ae};throw Ae(20930,{transform:s.transform})})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:qW(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ae(27497)})(t,e.precondition)),n}function Yb(t,e){const n=e.currentDocument?(function(o){return o.updateTime!==void 0?Sr.updateTime(cr(o.updateTime)):o.exists!==void 0?Sr.exists(o.exists):Sr.none()})(e.currentDocument):Sr.none(),r=e.updateTransforms?e.updateTransforms.map((i=>(function(s,u){let c=null;if("setToServerValue"in u)Re(u.setToServerValue==="REQUEST_TIME",16630,{proto:u}),c=new Jh;else if("appendMissingElements"in u){const h=u.appendMissingElements.values||[];c=new af(h)}else if("removeAllFromArray"in u){const h=u.removeAllFromArray.values||[];c=new sf(h)}else"increment"in u?c=new Xh(s,u.increment):Ae(16584,{proto:u});const d=Bt.fromServerFormat(u.fieldPath);return new IW(d,c)})(t,i))):[];if(e.update){e.update.name;const i=Yl(t,e.update.name),o=new Tr({mapValue:{fields:e.update.fields}});if(e.updateMask){const s=(function(c){const d=c.fieldPaths||[];return new mi(d.map((h=>Bt.fromServerFormat(h))))})(e.updateMask);return new Hs(i,o,s,n,r)}return new Cf(i,o,n,r)}if(e.delete){const i=Yl(t,e.delete);return new d_(i,n)}if(e.verify){const i=Yl(t,e.verify);return new h4(i,n)}return Ae(1463,{proto:e})}function GW(t,e){return t&&t.length>0?(Re(e!==void 0,14353),t.map((n=>(function(i,o){let s=i.updateTime?cr(i.updateTime):cr(o);return s.isEqual(Me.min())&&(s=cr(o)),new RW(s,i.transformResults||[])})(n,e)))):[]}function S4(t,e){return{documents:[_4(t,e.path)]}}function b4(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=_4(t,i);const o=(function(d){if(d.length!==0)return I4(yt.create(d,"and"))})(e.filters);o&&(n.structuredQuery.where=o);const s=(function(d){if(d.length!==0)return d.map((h=>(function(_){return{field:wc(_.field),direction:$W(_.dir)}})(h)))})(e.orderBy);s&&(n.structuredQuery.orderBy=s);const u=Hb(t,e.limit);return u!==null&&(n.structuredQuery.limit=u),e.startAt&&(n.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:n,parent:i}}function w4(t){let e=E4(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Re(r===1,65062);const h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=(function(m){const _=A4(m);return _ instanceof yt&&YA(_)?_.getFilters():[_]})(n.where));let s=[];n.orderBy&&(s=(function(m){return m.map((_=>(function(w){return new jh(Ac(w.field),(function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(w.direction))})(_)))})(n.orderBy));let u=null;n.limit&&(u=(function(m){let _;return _=typeof m=="object"?m.value:m,r_(_)?null:_})(n.limit));let c=null;n.startAt&&(c=(function(m){const _=!!m.before,S=m.values||[];return new rf(S,_)})(n.startAt));let d=null;return n.endAt&&(d=(function(m){const _=!m.before,S=m.values||[];return new rf(S,_)})(n.endAt)),pW(e,i,s,o,u,"F",c,d)}function HW(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:i})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function A4(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ac(n.unaryFilter.field);return tt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ac(n.unaryFilter.field);return tt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ac(n.unaryFilter.field);return tt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Ac(n.unaryFilter.field);return tt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}})(t):t.fieldFilter!==void 0?(function(n){return tt.create(Ac(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return yt.create(n.compositeFilter.filters.map((r=>A4(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}})(n.compositeFilter.op))})(t):Ae(30097,{filter:t})}function $W(t){return LW[t]}function KW(t){return VW[t]}function YW(t){return UW[t]}function wc(t){return{fieldPath:t.canonicalString()}}function Ac(t){return Bt.fromServerFormat(t.fieldPath)}function I4(t){return t instanceof tt?(function(n){if(n.op==="=="){if(JM(n.value))return{unaryFilter:{field:wc(n.field),op:"IS_NAN"}};if(jM(n.value))return{unaryFilter:{field:wc(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(JM(n.value))return{unaryFilter:{field:wc(n.field),op:"IS_NOT_NAN"}};if(jM(n.value))return{unaryFilter:{field:wc(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wc(n.field),op:KW(n.op),value:n.value}}})(t):t instanceof yt?(function(n){const r=n.getFilters().map((i=>I4(i)));return r.length===1?r[0]:{compositeFilter:{op:YW(n.op),filters:r}}})(t):Ae(54877,{filter:t})}function WW(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function C4(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e,n,r,i,o=Me.min(),s=Me.min(),u=bn.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=u,this.expectedCount=c}withSequenceNumber(e){return new ia(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ia(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ia(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ia(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R4{constructor(e){this.yt=e}}function jW(t,e){let n;if(e.document)n=BW(t.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=_e.fromSegments(e.noDocument.path),i=au(e.noDocument.readTime);n=Wt.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Ae(56709);{const r=_e.fromSegments(e.unknownDocument.path),i=au(e.unknownDocument.version);n=Wt.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime((function(i){const o=new gt(i[0],i[1]);return Me.fromTimestamp(o)})(e.readTime)),n}function hN(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:By(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(o,s){return{name:Fy(o,s.key),fields:s.data.value.mapValue.fields,updateTime:lf(o,s.version.toTimestamp()),createTime:lf(o,s.createTime.toTimestamp())}})(t.yt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:ou(e.version)};else{if(!e.isUnknownDocument())return Ae(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:ou(e.version)}}return r}function By(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function ou(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function au(t){const e=new gt(t.seconds,t.nanoseconds);return Me.fromTimestamp(e)}function Ll(t,e){const n=(e.baseMutations||[]).map((o=>Yb(t.yt,o)));for(let o=0;o<e.mutations.length-1;++o){const s=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const u=e.mutations[o+1];s.updateTransforms=u.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const r=e.mutations.map((o=>Yb(t.yt,o))),i=gt.fromMillis(e.localWriteTimeMs);return new JA(e.batchId,i,n,r)}function ph(t){const e=au(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?au(t.lastLimboFreeSnapshotVersion):Me.min();let r;return r=(function(o){return o.documents!==void 0})(t.query)?(function(o){const s=o.documents.length;return Re(s===1,1966,{count:s}),yi(WA(E4(o.documents[0])))})(t.query):(function(o){return yi(w4(o))})(t.query),new ia(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,bn.fromBase64String(t.resumeToken))}function P4(t,e){const n=ou(e.snapshotVersion),r=ou(e.lastLimboFreeSnapshotVersion);let i;i=Vy(e.target)?S4(t.yt,e.target):b4(t.yt,e.target).ft;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:iu(e.target),readTime:n,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function x4(t){const e=w4({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Gb(e,e.limit,"L"):e}function NT(t,e){return new QA(e.largestBatchId,Yb(t.yt,e.overlayMutation))}function pN(t,e){const n=e.path.lastSegment();return[t,rr(e.path.popLast()),n]}function mN(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:ou(r.readTime),documentKey:rr(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JW{getBundleMetadata(e,n){return gN(e).get(n).next((r=>{if(r)return(function(o){return{id:o.bundleId,createTime:au(o.createTime),version:o.version}})(r)}))}saveBundleMetadata(e,n){return gN(e).put((function(i){return{bundleId:i.id,createTime:ou(cr(i.createTime)),version:i.version}})(n))}getNamedQuery(e,n){return yN(e).get(n).next((r=>{if(r)return(function(o){return{name:o.name,query:x4(o.bundledQuery),readTime:au(o.readTime)}})(r)}))}saveNamedQuery(e,n){return yN(e).put((function(i){return{name:i.name,readTime:ou(cr(i.readTime)),bundledQuery:i.bundledQuery}})(n))}}function gN(t){return Pn(t,i_)}function yN(t){return Pn(t,o_)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p_{constructor(e,n){this.serializer=e,this.userId=n}static wt(e,n){const r=n.uid||"";return new p_(e,r)}getOverlay(e,n){return Yd(e).get(pN(this.userId,n)).next((r=>r?NT(this.serializer,r):null))}getOverlays(e,n){const r=Io();return J.forEach(n,(i=>this.getOverlay(e,i).next((o=>{o!==null&&r.set(i,o)})))).next((()=>r))}saveOverlays(e,n,r){const i=[];return r.forEach(((o,s)=>{const u=new QA(n,s);i.push(this.St(e,u))})),J.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach((s=>i.add(rr(s.getCollectionPath()))));const o=[];return i.forEach((s=>{const u=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,r+1],!1,!0);o.push(Yd(e).Z(kb,u))})),J.waitFor(o)}getOverlaysForCollection(e,n,r){const i=Io(),o=rr(n),s=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Yd(e).J(kb,s).next((u=>{for(const c of u){const d=NT(this.serializer,c);i.set(d.getKey(),d)}return i}))}getOverlaysForCollectionGroup(e,n,r,i){const o=Io();let s;const u=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Yd(e).ee({index:NF,range:u},((c,d,h)=>{const m=NT(this.serializer,d);o.size()<i||m.largestBatchId===s?(o.set(m.getKey(),m),s=m.largestBatchId):h.done()})).next((()=>o))}St(e,n){return Yd(e).put((function(i,o,s){const[u,c,d]=pN(o,s.mutation.key);return{userId:o,collectionPath:c,documentId:d,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:qy(i.yt,s.mutation)}})(this.serializer,this.userId,n))}}function Yd(t){return Pn(t,a_)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XW{bt(e){return Pn(e,zA)}getSessionToken(e){return this.bt(e).get("sessionToken").next((n=>{const r=n==null?void 0:n.value;return r?bn.fromUint8Array(r):bn.EMPTY_BYTE_STRING}))}setSessionToken(e,n){return this.bt(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(){}Dt(e,n){this.Ct(e,n),n.vt()}Ct(e,n){if("nullValue"in e)this.Ft(n,5);else if("booleanValue"in e)this.Ft(n,10),n.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(n,15),n.Mt(kt(e.integerValue));else if("doubleValue"in e){const r=kt(e.doubleValue);isNaN(r)?this.Ft(n,13):(this.Ft(n,15),Bh(r)?n.Mt(0):n.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(n,20),typeof r=="string"&&(r=ha(r)),n.xt(`${r.seconds||""}`),n.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,n),this.Nt(n);else if("bytesValue"in e)this.Ft(n,30),n.Bt(pa(e.bytesValue)),this.Nt(n);else if("referenceValue"in e)this.Lt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(n,45),n.Mt(r.latitude||0),n.Mt(r.longitude||0)}else"mapValue"in e?HF(e)?this.Ft(n,Number.MAX_SAFE_INTEGER):l_(e)?this.kt(e.mapValue,n):(this.qt(e.mapValue,n),this.Nt(n)):"arrayValue"in e?(this.Qt(e.arrayValue,n),this.Nt(n)):Ae(19022,{$t:e})}Ot(e,n){this.Ft(n,25),this.Ut(e,n)}Ut(e,n){n.xt(e)}qt(e,n){const r=e.fields||{};this.Ft(n,55);for(const i of Object.keys(r))this.Ot(i,n),this.Ct(r[i],n)}kt(e,n){var s,u;const r=e.fields||{};this.Ft(n,53);const i=tf,o=((u=(s=r[i].arrayValue)==null?void 0:s.values)==null?void 0:u.length)||0;this.Ft(n,15),n.Mt(kt(o)),this.Ot(i,n),this.Ct(r[i],n)}Qt(e,n){const r=e.values||[];this.Ft(n,50);for(const i of r)this.Ct(i,n)}Lt(e,n){this.Ft(n,37),_e.fromName(e).path.forEach((r=>{this.Ft(n,60),this.Ut(r,n)}))}Ft(e,n){e.Mt(n)}Nt(e){e.Mt(2)}}Vl.Kt=new Vl;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pc=255;function QW(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function vN(t){const e=64-(function(r){let i=0;for(let o=0;o<8;++o){const s=QW(255&r[o]);if(i+=s,s!==8)break}return i})(t);return Math.ceil(e/8)}class ZW{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Wt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Gt(r.value),r=n.next();this.zt()}jt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Jt(r.value),r=n.next();this.Ht()}Yt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const i=n.codePointAt(0);this.Gt(240|i>>>18),this.Gt(128|63&i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i)}}this.zt()}Zt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Jt(r);else if(r<2048)this.Jt(960|r>>>6),this.Jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Jt(480|r>>>12),this.Jt(128|63&r>>>6),this.Jt(128|63&r);else{const i=n.codePointAt(0);this.Jt(240|i>>>18),this.Jt(128|63&i>>>12),this.Jt(128|63&i>>>6),this.Jt(128|63&i)}}this.Ht()}Xt(e){const n=this.en(e),r=vN(n);this.tn(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}nn(e){const n=this.en(e),r=vN(n);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}rn(){this.sn(pc),this.sn(255)}_n(){this.an(pc),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const n=(function(o){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)})(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Gt(e){const n=255&e;n===0?(this.sn(0),this.sn(255)):n===pc?(this.sn(pc),this.sn(0)):this.sn(n)}Jt(e){const n=255&e;n===0?(this.an(0),this.an(255)):n===pc?(this.an(pc),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Ht(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class ej{constructor(e){this.cn=e}Bt(e){this.cn.Wt(e)}xt(e){this.cn.Yt(e)}Mt(e){this.cn.Xt(e)}vt(){this.cn.rn()}}class tj{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class Wd{constructor(){this.cn=new ZW,this.ln=new ej(this.cn),this.hn=new tj(this.cn)}seed(e){this.cn.seed(e)}Pn(e){return e===0?this.ln:this.hn}un(){return this.cn.un()}reset(){this.cn.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e,n,r,i){this.Tn=e,this.In=n,this.En=r,this.dn=i}An(){const e=this.dn.length,n=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.dn,0),n!==e?r.set([0],this.dn.length):++r[r.length-1],new Ul(this.Tn,this.In,this.En,r)}Rn(e,n,r){return{indexId:this.Tn,uid:e,arrayValue:hy(this.En),directionalValue:hy(this.dn),orderedDocumentKey:hy(n),documentKey:r.path.toArray()}}Vn(e,n,r){const i=this.Rn(e,n,r);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}}function ps(t,e){let n=t.Tn-e.Tn;return n!==0?n:(n=_N(t.En,e.En),n!==0?n:(n=_N(t.dn,e.dn),n!==0?n:_e.comparator(t.In,e.In)))}function _N(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function hy(t){return ZV()?(function(n){let r="";for(let i=0;i<n.length;i++)r+=String.fromCharCode(n[i]);return r})(t):t}function EN(t){return typeof t!="string"?t:(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(t)}class TN{constructor(e){this.mn=new vt(((n,r)=>Bt.comparator(n.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.fn=e.orderBy,this.gn=[];for(const n of e.filters){const r=n;r.isInequality()?this.mn=this.mn.add(r):this.gn.push(r)}}get pn(){return this.mn.size>1}yn(e){if(Re(e.collectionGroup===this.collectionId,49279),this.pn)return!1;const n=Nb(e);if(n!==void 0&&!this.wn(n))return!1;const r=Pl(e);let i=new Set,o=0,s=0;for(;o<r.length&&this.wn(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.mn.size>0){const u=this.mn.getIterator().getNext();if(!i.has(u.field.canonicalString())){const c=r[o];if(!this.Sn(u,c)||!this.bn(this.fn[s++],c))return!1}++o}for(;o<r.length;++o){const u=r[o];if(s>=this.fn.length||!this.bn(this.fn[s++],u))return!1}return!0}Dn(){if(this.pn)return null;let e=new vt(Bt.comparator);const n=[];for(const r of this.gn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new oy(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new oy(r.field,0))}for(const r of this.fn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new oy(r.field,r.dir==="asc"?0:1)));return new Ny(Ny.UNKNOWN_ID,this.collectionId,n,qh.empty())}wn(e){for(const n of this.gn)if(this.Sn(n,e))return!0;return!1}Sn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}bn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M4(t){var n,r;if(Re(t instanceof tt||t instanceof yt,20012),t instanceof tt){if(t instanceof ZF){const i=((r=(n=t.value.arrayValue)==null?void 0:n.values)==null?void 0:r.map((o=>tt.create(t.field,"==",o))))||[];return yt.create(i,"or")}return t}const e=t.filters.map((i=>M4(i)));return yt.create(e,t.op)}function nj(t){if(t.getFilters().length===0)return[];const e=Jb(M4(t));return Re(N4(e),7391),Wb(e)||jb(e)?[e]:e.getFilters()}function Wb(t){return t instanceof tt}function jb(t){return t instanceof yt&&YA(t)}function N4(t){return Wb(t)||jb(t)||(function(n){if(n instanceof yt&&Fb(n)){for(const r of n.getFilters())if(!Wb(r)&&!jb(r))return!1;return!0}return!1})(t)}function Jb(t){if(Re(t instanceof tt||t instanceof yt,34018),t instanceof tt)return t;if(t.filters.length===1)return Jb(t.filters[0]);const e=t.filters.map((r=>Jb(r)));let n=yt.create(e,t.op);return n=zy(n),N4(n)?n:(Re(n instanceof yt,64498),Re(of(n),40251),Re(n.filters.length>1,57927),n.filters.reduce(((r,i)=>tI(r,i))))}function tI(t,e){let n;return Re(t instanceof tt||t instanceof yt,38388),Re(e instanceof tt||e instanceof yt,25473),n=t instanceof tt?e instanceof tt?(function(i,o){return yt.create([i,o],"and")})(t,e):SN(t,e):e instanceof tt?SN(e,t):(function(i,o){if(Re(i.filters.length>0&&o.filters.length>0,48005),of(i)&&of(o))return JF(i,o.getFilters());const s=Fb(i)?i:o,u=Fb(i)?o:i,c=s.filters.map((d=>tI(d,u)));return yt.create(c,"or")})(t,e),zy(n)}function SN(t,e){if(of(e))return JF(e,t.getFilters());{const n=e.filters.map((r=>tI(t,r)));return yt.create(n,"or")}}function zy(t){if(Re(t instanceof tt||t instanceof yt,11850),t instanceof tt)return t;const e=t.getFilters();if(e.length===1)return zy(e[0]);if(WF(t))return t;const n=e.map((i=>zy(i))),r=[];return n.forEach((i=>{i instanceof tt?r.push(i):i instanceof yt&&(i.op===t.op?r.push(...i.filters):r.push(i))})),r.length===1?r[0]:yt.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rj{constructor(){this.Cn=new nI}addToCollectionParentIndex(e,n){return this.Cn.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve(Yr.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve(Yr.min())}updateCollectionGroup(e,n,r){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class nI{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new vt(ct.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new vt(ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bN="IndexedDbIndexManager",Dg=new Uint8Array(0);class ij{constructor(e,n){this.databaseId=n,this.vn=new nI,this.Fn=new Ia((r=>iu(r)),((r,i)=>Ap(r,i))),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.vn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener((()=>{this.vn.add(n)}));const o={collectionId:r,parent:rr(i)};return wN(e).put(o)}return J.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[EF(n),""],!1,!0);return wN(e).J(i).next((o=>{for(const s of o){if(s.collectionId!==n)break;r.push(Ao(s.parent))}return r}))}addFieldIndex(e,n){const r=jd(e),i=(function(u){return{indexId:u.indexId,collectionGroup:u.collectionGroup,fields:u.fields.map((c=>[c.fieldPath.canonicalString(),c.kind]))}})(n);delete i.indexId;const o=r.add(i);if(n.indexState){const s=gc(e);return o.next((u=>{s.put(mN(u,this.uid,n.indexState.sequenceNumber,n.indexState.offset))}))}return o.next()}deleteFieldIndex(e,n){const r=jd(e),i=gc(e),o=mc(e);return r.delete(n.indexId).next((()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))).next((()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const n=jd(e),r=mc(e),i=gc(e);return n.Z().next((()=>r.Z())).next((()=>i.Z()))}createTargetIndexes(e,n){return J.forEach(this.Mn(n),(r=>this.getIndexType(e,r).next((i=>{if(i===0||i===1){const o=new TN(r).Dn();if(o!=null)return this.addFieldIndex(e,o)}}))))}getDocumentsMatchingTarget(e,n){const r=mc(e);let i=!0;const o=new Map;return J.forEach(this.Mn(n),(s=>this.xn(e,s).next((u=>{i&&(i=!!u),o.set(s,u)})))).next((()=>{if(i){let s=Ye();const u=[];return J.forEach(o,((c,d)=>{pe(bN,`Using index ${(function(L){return`id=${L.indexId}|cg=${L.collectionGroup}|f=${L.fields.map((H=>`${H.fieldPath}:${H.kind}`)).join(",")}`})(c)} to execute ${iu(n)}`);const h=(function(L,H){const z=Nb(H);if(z===void 0)return null;for(const G of Uy(L,z.fieldPath))switch(G.op){case"array-contains-any":return G.value.arrayValue.values||[];case"array-contains":return[G.value]}return null})(d,c),m=(function(L,H){const z=new Map;for(const G of Pl(H))for(const P of Uy(L,G.fieldPath))switch(P.op){case"==":case"in":z.set(G.fieldPath.canonicalString(),P.value);break;case"not-in":case"!=":return z.set(G.fieldPath.canonicalString(),P.value),Array.from(z.values())}return null})(d,c),_=(function(L,H){const z=[];let G=!0;for(const P of Pl(H)){const D=P.kind===0?tN(L,P.fieldPath,L.startAt):nN(L,P.fieldPath,L.startAt);z.push(D.value),G&&(G=D.inclusive)}return new rf(z,G)})(d,c),S=(function(L,H){const z=[];let G=!0;for(const P of Pl(H)){const D=P.kind===0?nN(L,P.fieldPath,L.endAt):tN(L,P.fieldPath,L.endAt);z.push(D.value),G&&(G=D.inclusive)}return new rf(z,G)})(d,c),w=this.On(c,d,_),A=this.On(c,d,S),C=this.Nn(c,d,m),M=this.Bn(c.indexId,h,w,_.inclusive,A,S.inclusive,C);return J.forEach(M,(U=>r.Y(U,n.limit).next((L=>{L.forEach((H=>{const z=_e.fromSegments(H.documentKey);s.has(z)||(s=s.add(z),u.push(z))}))}))))})).next((()=>u))}return J.resolve(null)}))}Mn(e){let n=this.Fn.get(e);return n||(e.filters.length===0?n=[e]:n=nj(yt.create(e.filters,"and")).map((r=>Bb(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Fn.set(e,n),n)}Bn(e,n,r,i,o,s,u){const c=(n!=null?n.length:1)*Math.max(r.length,o.length),d=c/(n!=null?n.length:1),h=[];for(let m=0;m<c;++m){const _=n?this.Ln(n[m/d]):Dg,S=this.kn(e,_,r[m%d],i),w=this.qn(e,_,o[m%d],s),A=u.map((C=>this.kn(e,_,C,!0)));h.push(...this.createRange(S,w,A))}return h}kn(e,n,r,i){const o=new Ul(e,_e.empty(),n,r);return i?o:o.An()}qn(e,n,r,i){const o=new Ul(e,_e.empty(),n,r);return i?o.An():o}xn(e,n){const r=new TN(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next((o=>{let s=null;for(const u of o)r.yn(u)&&(!s||u.fields.length>s.fields.length)&&(s=u);return s}))}getIndexType(e,n){let r=2;const i=this.Mn(n);return J.forEach(i,(o=>this.xn(e,o).next((s=>{s?r!==0&&s.fields.length<(function(c){let d=new vt(Bt.comparator),h=!1;for(const m of c.filters)for(const _ of m.getFlattenedFilters())_.field.isKeyField()||(_.op==="array-contains"||_.op==="array-contains-any"?h=!0:d=d.add(_.field));for(const m of c.orderBy)m.field.isKeyField()||(d=d.add(m.field));return d.size+(h?1:0)})(o)&&(r=1):r=0})))).next((()=>(function(s){return s.limit!==null})(n)&&i.length>1&&r===2?1:r))}Qn(e,n){const r=new Wd;for(const i of Pl(e)){const o=n.data.field(i.fieldPath);if(o==null)return null;const s=r.Pn(i.kind);Vl.Kt.Dt(o,s)}return r.un()}Ln(e){const n=new Wd;return Vl.Kt.Dt(e,n.Pn(0)),n.un()}$n(e,n){const r=new Wd;return Vl.Kt.Dt(Yh(this.databaseId,n),r.Pn((function(o){const s=Pl(o);return s.length===0?0:s[s.length-1].kind})(e))),r.un()}Nn(e,n,r){if(r===null)return[];let i=[];i.push(new Wd);let o=0;for(const s of Pl(e)){const u=r[o++];for(const c of i)if(this.Un(n,s.fieldPath)&&Wh(u))i=this.Kn(i,s,u);else{const d=c.Pn(s.kind);Vl.Kt.Dt(u,d)}}return this.Wn(i)}On(e,n,r){return this.Nn(e,n,r.position)}Wn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].un();return n}Kn(e,n,r){const i=[...e],o=[];for(const s of r.arrayValue.values||[])for(const u of i){const c=new Wd;c.seed(u.un()),Vl.Kt.Dt(s,c.Pn(n.kind)),o.push(c)}return o}Un(e,n){return!!e.filters.find((r=>r instanceof tt&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,n){const r=jd(e),i=gc(e);return(n?r.J(Ob,IDBKeyRange.bound(n,n)):r.J()).next((o=>{const s=[];return J.forEach(o,(u=>i.get([u.indexId,this.uid]).next((c=>{s.push((function(h,m){const _=m?new qh(m.sequenceNumber,new Yr(au(m.readTime),new _e(Ao(m.documentKey)),m.largestBatchId)):qh.empty(),S=h.fields.map((([w,A])=>new oy(Bt.fromServerFormat(w),A)));return new Ny(h.indexId,h.collectionGroup,S,_)})(u,c))})))).next((()=>s))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((n=>n.length===0?null:(n.sort(((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return o!==0?o:Le(r.collectionGroup,i.collectionGroup)})),n[0].collectionGroup)))}updateCollectionGroup(e,n,r){const i=jd(e),o=gc(e);return this.Gn(e).next((s=>i.J(Ob,IDBKeyRange.bound(n,n)).next((u=>J.forEach(u,(c=>o.put(mN(c.indexId,this.uid,s,r))))))))}updateIndexEntries(e,n){const r=new Map;return J.forEach(n,((i,o)=>{const s=r.get(i.collectionGroup);return(s?J.resolve(s):this.getFieldIndexes(e,i.collectionGroup)).next((u=>(r.set(i.collectionGroup,u),J.forEach(u,(c=>this.zn(e,i,c).next((d=>{const h=this.jn(o,c);return d.isEqual(h)?J.resolve():this.Jn(e,o,c,d,h)})))))))}))}Hn(e,n,r,i){return mc(e).put(i.Rn(this.uid,this.$n(r,n.key),n.key))}Yn(e,n,r,i){return mc(e).delete(i.Vn(this.uid,this.$n(r,n.key),n.key))}zn(e,n,r){const i=mc(e);let o=new vt(ps);return i.ee({index:MF,range:IDBKeyRange.only([r.indexId,this.uid,hy(this.$n(r,n))])},((s,u)=>{o=o.add(new Ul(r.indexId,n,EN(u.arrayValue),EN(u.directionalValue)))})).next((()=>o))}jn(e,n){let r=new vt(ps);const i=this.Qn(n,e);if(i==null)return r;const o=Nb(n);if(o!=null){const s=e.data.field(o.fieldPath);if(Wh(s))for(const u of s.arrayValue.values||[])r=r.add(new Ul(n.indexId,e.key,this.Ln(u),i))}else r=r.add(new Ul(n.indexId,e.key,Dg,i));return r}Jn(e,n,r,i,o){pe(bN,"Updating index entries for document '%s'",n.key);const s=[];return(function(c,d,h,m,_){const S=c.getIterator(),w=d.getIterator();let A=hc(S),C=hc(w);for(;A||C;){let M=!1,U=!1;if(A&&C){const L=h(A,C);L<0?U=!0:L>0&&(M=!0)}else A!=null?U=!0:M=!0;M?(m(C),C=hc(w)):U?(_(A),A=hc(S)):(A=hc(S),C=hc(w))}})(i,o,ps,(u=>{s.push(this.Hn(e,n,r,u))}),(u=>{s.push(this.Yn(e,n,r,u))})),J.waitFor(s)}Gn(e){let n=1;return gc(e).ee({index:xF,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,i,o)=>{o.done(),n=i.sequenceNumber+1})).next((()=>n))}createRange(e,n,r){r=r.sort(((s,u)=>ps(s,u))).filter(((s,u,c)=>!u||ps(s,c[u-1])!==0));const i=[];i.push(e);for(const s of r){const u=ps(s,e),c=ps(s,n);if(u===0)i[0]=e.An();else if(u>0&&c<0)i.push(s),i.push(s.An());else if(c>0)break}i.push(n);const o=[];for(let s=0;s<i.length;s+=2){if(this.Zn(i[s],i[s+1]))return[];const u=i[s].Vn(this.uid,Dg,_e.empty()),c=i[s+1].Vn(this.uid,Dg,_e.empty());o.push(IDBKeyRange.bound(u,c))}return o}Zn(e,n){return ps(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(AN)}getMinOffset(e,n){return J.mapArray(this.Mn(n),(r=>this.xn(e,r).next((i=>i||Ae(44426))))).next(AN)}}function wN(t){return Pn(t,Hh)}function mc(t){return Pn(t,Ih)}function jd(t){return Pn(t,BA)}function gc(t){return Pn(t,Ah)}function AN(t){Re(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;UA(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Yr(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},D4=41943040;class tr{static withCacheSize(e){return new tr(e,tr.DEFAULT_COLLECTION_PERCENTILE,tr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O4(t,e,n){const r=t.store(Vi),i=t.store(Xc),o=[],s=IDBKeyRange.only(n.batchId);let u=0;const c=r.ee({range:s},((h,m,_)=>(u++,_.delete())));o.push(c.next((()=>{Re(u===1,47070,{batchId:n.batchId})})));const d=[];for(const h of n.mutations){const m=CF(e,h.key.path,n.batchId);o.push(i.delete(m)),d.push(h.key)}return J.waitFor(o).next((()=>d))}function Gy(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Ae(14731);e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tr.DEFAULT_COLLECTION_PERCENTILE=10,tr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tr.DEFAULT=new tr(D4,tr.DEFAULT_COLLECTION_PERCENTILE,tr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tr.DISABLED=new tr(-1,0,0);class m_{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Xn={}}static wt(e,n,r,i){Re(e.uid!=="",64387);const o=e.isAuthenticated()?e.uid:"";return new m_(o,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ms(e).ee({index:ql,range:r},((i,o,s)=>{n=!1,s.done()})).next((()=>n))}addMutationBatch(e,n,r,i){const o=Ic(e),s=ms(e);return s.add({}).next((u=>{Re(typeof u=="number",49019);const c=new JA(u,n,r,i),d=(function(S,w,A){const C=A.baseMutations.map((U=>qy(S.yt,U))),M=A.mutations.map((U=>qy(S.yt,U)));return{userId:w,batchId:A.batchId,localWriteTimeMs:A.localWriteTime.toMillis(),baseMutations:C,mutations:M}})(this.serializer,this.userId,c),h=[];let m=new vt(((_,S)=>Le(_.canonicalString(),S.canonicalString())));for(const _ of i){const S=CF(this.userId,_.key.path,u);m=m.add(_.key.path.popLast()),h.push(s.put(d)),h.push(o.put(S,NY))}return m.forEach((_=>{h.push(this.indexManager.addToCollectionParentIndex(e,_))})),e.addOnCommittedListener((()=>{this.Xn[u]=c.keys()})),J.waitFor(h).next((()=>c))}))}lookupMutationBatch(e,n){return ms(e).get(n).next((r=>r?(Re(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),Ll(this.serializer,r)):null))}er(e,n){return this.Xn[n]?J.resolve(this.Xn[n]):this.lookupMutationBatch(e,n).next((r=>{if(r){const i=r.keys();return this.Xn[n]=i,i}return null}))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return ms(e).ee({index:ql,range:i},((s,u,c)=>{u.userId===this.userId&&(Re(u.batchId>=r,47524,{tr:r}),o=Ll(this.serializer,u)),c.done()})).next((()=>o))}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=$l;return ms(e).ee({index:ql,range:n,reverse:!0},((i,o,s)=>{r=o.batchId,s.done()})).next((()=>r))}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,$l],[this.userId,Number.POSITIVE_INFINITY]);return ms(e).J(ql,n).next((r=>r.map((i=>Ll(this.serializer,i)))))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=ay(this.userId,n.path),i=IDBKeyRange.lowerBound(r),o=[];return Ic(e).ee({range:i},((s,u,c)=>{const[d,h,m]=s,_=Ao(h);if(d===this.userId&&n.path.isEqual(_))return ms(e).get(m).next((S=>{if(!S)throw Ae(61480,{nr:s,batchId:m});Re(S.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:S.userId,batchId:m}),o.push(Ll(this.serializer,S))}));c.done()})).next((()=>o))}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new vt(Le);const i=[];return n.forEach((o=>{const s=ay(this.userId,o.path),u=IDBKeyRange.lowerBound(s),c=Ic(e).ee({range:u},((d,h,m)=>{const[_,S,w]=d,A=Ao(S);_===this.userId&&o.path.isEqual(A)?r=r.add(w):m.done()}));i.push(c)})),J.waitFor(i).next((()=>this.rr(e,r)))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,o=ay(this.userId,r),s=IDBKeyRange.lowerBound(o);let u=new vt(Le);return Ic(e).ee({range:s},((c,d,h)=>{const[m,_,S]=c,w=Ao(_);m===this.userId&&r.isPrefixOf(w)?w.length===i&&(u=u.add(S)):h.done()})).next((()=>this.rr(e,u)))}rr(e,n){const r=[],i=[];return n.forEach((o=>{i.push(ms(e).get(o).next((s=>{if(s===null)throw Ae(35274,{batchId:o});Re(s.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:s.userId,batchId:o}),r.push(Ll(this.serializer,s))})))})),J.waitFor(i).next((()=>r))}removeMutationBatch(e,n){return O4(e.le,this.userId,n).next((r=>(e.addOnCommittedListener((()=>{this.ir(n.batchId)})),J.forEach(r,(i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))))}ir(e){delete this.Xn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((n=>{if(!n)return J.resolve();const r=IDBKeyRange.lowerBound((function(s){return[s]})(this.userId)),i=[];return Ic(e).ee({range:r},((o,s,u)=>{if(o[0]===this.userId){const c=Ao(o[1]);i.push(c)}else u.done()})).next((()=>{Re(i.length===0,56720,{sr:i.map((o=>o.canonicalString()))})}))}))}containsKey(e,n){return k4(e,this.userId,n)}_r(e){return L4(e).get(this.userId).next((n=>n||{userId:this.userId,lastAcknowledgedBatchId:$l,lastStreamToken:""}))}}function k4(t,e,n){const r=ay(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let s=!1;return Ic(t).ee({range:o,X:!0},((u,c,d)=>{const[h,m,_]=u;h===e&&m===i&&(s=!0),d.done()})).next((()=>s))}function ms(t){return Pn(t,Vi)}function Ic(t){return Pn(t,Xc)}function L4(t){return Pn(t,zh)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new su(0)}static cr(){return new su(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.lr(e).next((n=>{const r=new su(n.highestTargetId);return n.highestTargetId=r.next(),this.hr(e,n).next((()=>n.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.lr(e).next((n=>Me.fromTimestamp(new gt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.lr(e).next((n=>n.highestListenSequenceNumber))}setTargetsMetadata(e,n,r){return this.lr(e).next((i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.hr(e,i))))}addTargetData(e,n){return this.Pr(e,n).next((()=>this.lr(e).next((r=>(r.targetCount+=1,this.Tr(n,r),this.hr(e,r))))))}updateTargetData(e,n){return this.Pr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next((()=>yc(e).delete(n.targetId))).next((()=>this.lr(e))).next((r=>(Re(r.targetCount>0,8065),r.targetCount-=1,this.hr(e,r))))}removeTargets(e,n,r){let i=0;const o=[];return yc(e).ee(((s,u)=>{const c=ph(u);c.sequenceNumber<=n&&r.get(c.targetId)===null&&(i++,o.push(this.removeTargetData(e,c)))})).next((()=>J.waitFor(o))).next((()=>i))}forEachTarget(e,n){return yc(e).ee(((r,i)=>{const o=ph(i);n(o)}))}lr(e){return CN(e).get(ky).next((n=>(Re(n!==null,2888),n)))}hr(e,n){return CN(e).put(ky,n)}Pr(e,n){return yc(e).put(P4(this.serializer,n))}Tr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.lr(e).next((n=>n.targetCount))}getTargetData(e,n){const r=iu(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return yc(e).ee({range:i,index:PF},((s,u,c)=>{const d=ph(u);Ap(n,d.target)&&(o=d,c.done())})).next((()=>o))}addMatchingKeys(e,n,r){const i=[],o=_s(e);return n.forEach((s=>{const u=rr(s.path);i.push(o.put({targetId:r,path:u})),i.push(this.referenceDelegate.addReference(e,r,s))})),J.waitFor(i)}removeMatchingKeys(e,n,r){const i=_s(e);return J.forEach(n,(o=>{const s=rr(o.path);return J.waitFor([i.delete([r,s]),this.referenceDelegate.removeReference(e,r,o)])}))}removeMatchingKeysForTargetId(e,n){const r=_s(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=_s(e);let o=Ye();return i.ee({range:r,X:!0},((s,u,c)=>{const d=Ao(s[1]),h=new _e(d);o=o.add(h)})).next((()=>o))}containsKey(e,n){const r=rr(n.path),i=IDBKeyRange.bound([r],[EF(r)],!1,!0);let o=0;return _s(e).ee({index:qA,X:!0,range:i},(([s,u],c,d)=>{s!==0&&(o++,d.done())})).next((()=>o>0))}At(e,n){return yc(e).get(n).next((r=>r?ph(r):null))}}function yc(t){return Pn(t,Qc)}function CN(t){return Pn(t,Kl)}function _s(t){return Pn(t,Zc)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN="LruGarbageCollector",aj=1048576;function PN([t,e],[n,r]){const i=Le(t,n);return i===0?Le(e,r):i}class sj{constructor(e){this.Ir=e,this.buffer=new vt(PN),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();PN(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class V4{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){pe(RN,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Gs(n)?pe(RN,"Ignoring IndexedDB error during garbage collection: ",n):await gu(n)}await this.Vr(3e5)}))}}class lj{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(e,n){if(n===0)return J.resolve(pi.ce);const r=new sj(n);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(pe("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(IN)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),IN):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,o,s,u,c,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((m=>(m>this.params.maximumSequenceNumbersToCollect?(pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,s=Date.now(),this.nthSequenceNumber(e,i)))).next((m=>(r=m,u=Date.now(),this.removeTargets(e,r,n)))).next((m=>(o=m,c=Date.now(),this.removeOrphanedDocuments(e,r)))).next((m=>(d=Date.now(),Sc()<=Qe.DEBUG&&pe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(u-s)+`ms
	Removed ${o} targets in `+(c-u)+`ms
	Removed ${m} documents in `+(d-c)+`ms
Total Duration: ${d-h}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:m}))))}}function U4(t,e){return new lj(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj{constructor(e,n){this.db=e,this.garbageCollector=U4(this,n)}gr(e){const n=this.wr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}pr(e,n){return this.Sr(e,((r,i)=>n(i)))}addReference(e,n,r){return Og(e,r)}removeReference(e,n,r){return Og(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Og(e,n)}br(e,n){return(function(i,o){let s=!1;return L4(i).te((u=>k4(i,u,o).next((c=>(c&&(s=!0),J.resolve(!c)))))).next((()=>s))})(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this.Sr(e,((s,u)=>{if(u<=n){const c=this.br(e,s).next((d=>{if(!d)return o++,r.getEntry(e,s).next((()=>(r.removeEntry(s,Me.min()),_s(e).delete((function(m){return[0,rr(m.path)]})(s)))))}));i.push(c)}})).next((()=>J.waitFor(i))).next((()=>r.apply(e))).next((()=>o))}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Og(e,n)}Sr(e,n){const r=_s(e);let i,o=pi.ce;return r.ee({index:qA},(([s,u],{path:c,sequenceNumber:d})=>{s===0?(o!==pi.ce&&n(new _e(Ao(i)),o),o=d,i=c):o=pi.ce})).next((()=>{o!==pi.ce&&n(new _e(Ao(i)),o)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Og(t,e){return _s(t).put((function(r,i){return{targetId:0,path:rr(r.path),sequenceNumber:i}})(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F4{constructor(){this.changes=new Ia((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?J.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Cl(e).put(r)}removeEntry(e,n,r){return Cl(e).delete((function(o,s){const u=o.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],By(s),u[u.length-1]]})(n,r))}updateMetadata(e,n){return this.getMetadata(e).next((r=>(r.byteSize+=n,this.Dr(e,r))))}getEntry(e,n){let r=Wt.newInvalidDocument(n);return Cl(e).ee({index:sy,range:IDBKeyRange.only(Jd(n))},((i,o)=>{r=this.Cr(n,o)})).next((()=>r))}vr(e,n){let r={size:0,document:Wt.newInvalidDocument(n)};return Cl(e).ee({index:sy,range:IDBKeyRange.only(Jd(n))},((i,o)=>{r={document:this.Cr(n,o),size:Gy(o)}})).next((()=>r))}getEntries(e,n){let r=zr();return this.Fr(e,n,((i,o)=>{const s=this.Cr(i,o);r=r.insert(i,s)})).next((()=>r))}Mr(e,n){let r=zr(),i=new Ut(_e.comparator);return this.Fr(e,n,((o,s)=>{const u=this.Cr(o,s);r=r.insert(o,u),i=i.insert(o,Gy(s))})).next((()=>({documents:r,Or:i})))}Fr(e,n,r){if(n.isEmpty())return J.resolve();let i=new vt(NN);n.forEach((c=>i=i.add(c)));const o=IDBKeyRange.bound(Jd(i.first()),Jd(i.last())),s=i.getIterator();let u=s.getNext();return Cl(e).ee({index:sy,range:o},((c,d,h)=>{const m=_e.fromSegments([...d.prefixPath,d.collectionGroup,d.documentId]);for(;u&&NN(u,m)<0;)r(u,null),u=s.getNext();u&&u.isEqual(m)&&(r(u,d),u=s.hasNext()?s.getNext():null),u?h.j(Jd(u)):h.done()})).next((()=>{for(;u;)r(u,null),u=s.hasNext()?s.getNext():null}))}getDocumentsMatchingQuery(e,n,r,i,o){const s=n.path,u=[s.popLast().toArray(),s.lastSegment(),By(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],c=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Cl(e).J(IDBKeyRange.bound(u,c,!0)).next((d=>{o==null||o.incrementDocumentReadCount(d.length);let h=zr();for(const m of d){const _=this.Cr(_e.fromSegments(m.prefixPath.concat(m.collectionGroup,m.documentId)),m);_.isFoundDocument()&&(Ip(n,_)||i.has(_.key))&&(h=h.insert(_.key,_))}return h}))}getAllFromCollectionGroup(e,n,r,i){let o=zr();const s=MN(n,r),u=MN(n,Yr.max());return Cl(e).ee({index:RF,range:IDBKeyRange.bound(s,u,!0)},((c,d,h)=>{const m=this.Cr(_e.fromSegments(d.prefixPath.concat(d.collectionGroup,d.documentId)),d);o=o.insert(m.key,m),o.size===i&&h.done()})).next((()=>o))}newChangeBuffer(e){return new fj(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((n=>n.byteSize))}getMetadata(e){return xN(e).get(Db).next((n=>(Re(!!n,20021),n)))}Dr(e,n){return xN(e).put(Db,n)}Cr(e,n){if(n){const r=jW(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Me.min())))return r}return Wt.newInvalidDocument(e)}}function q4(t){return new cj(t)}class fj extends F4{constructor(e,n){super(),this.Nr=e,this.trackRemovals=n,this.Br=new Ia((r=>r.toString()),((r,i)=>r.isEqual(i)))}applyChanges(e){const n=[];let r=0,i=new vt(((o,s)=>Le(o.canonicalString(),s.canonicalString())));return this.changes.forEach(((o,s)=>{const u=this.Br.get(o);if(n.push(this.Nr.removeEntry(e,o,u.readTime)),s.isValidDocument()){const c=hN(this.Nr.serializer,s);i=i.add(o.path.popLast());const d=Gy(c);r+=d-u.size,n.push(this.Nr.addEntry(e,o,c))}else if(r-=u.size,this.trackRemovals){const c=hN(this.Nr.serializer,s.convertToNoDocument(Me.min()));n.push(this.Nr.addEntry(e,o,c))}})),i.forEach((o=>{n.push(this.Nr.indexManager.addToCollectionParentIndex(e,o))})),n.push(this.Nr.updateMetadata(e,r)),J.waitFor(n)}getFromCache(e,n){return this.Nr.vr(e,n).next((r=>(this.Br.set(n,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,n){return this.Nr.Mr(e,n).next((({documents:r,Or:i})=>(i.forEach(((o,s)=>{this.Br.set(o,{size:s,readTime:r.get(o).readTime})})),r)))}}function xN(t){return Pn(t,Gh)}function Cl(t){return Pn(t,Oy)}function Jd(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function MN(t,e){const n=e.documentKey.path.toArray();return[t,By(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function NN(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=Le(n[o],r[o]),i)return i;return i=Le(n.length,r.length),i||(i=Le(n[n.length-2],r[r.length-2]),i||Le(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dj{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&xh(r.mutation,i,mi.empty(),gt.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,Ye()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=Ye()){const i=Io();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((o=>{let s=dh();return o.forEach(((u,c)=>{s=s.insert(u,c.overlayedDocument)})),s}))))}getOverlayedDocuments(e,n){const r=Io();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,Ye())))}populateOverlays(e,n,r){const i=[];return r.forEach((o=>{n.has(o)||i.push(o)})),this.documentOverlayCache.getOverlays(e,i).next((o=>{o.forEach(((s,u)=>{n.set(s,u)}))}))}computeViews(e,n,r,i){let o=zr();const s=Ph(),u=(function(){return Ph()})();return n.forEach(((c,d)=>{const h=r.get(d.key);i.has(d.key)&&(h===void 0||h.mutation instanceof Hs)?o=o.insert(d.key,d):h!==void 0?(s.set(d.key,h.mutation.getFieldMask()),xh(h.mutation,d,h.mutation.getFieldMask(),gt.now())):s.set(d.key,mi.empty())})),this.recalculateAndSaveOverlays(e,o).next((c=>(c.forEach(((d,h)=>s.set(d,h))),n.forEach(((d,h)=>u.set(d,new dj(h,s.get(d)??null)))),u)))}recalculateAndSaveOverlays(e,n){const r=Ph();let i=new Ut(((s,u)=>s-u)),o=Ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((s=>{for(const u of s)u.keys().forEach((c=>{const d=n.get(c);if(d===null)return;let h=r.get(c)||mi.empty();h=u.applyToLocalView(d,h),r.set(c,h);const m=(i.get(u.batchId)||Ye()).add(c);i=i.insert(u.batchId,m)}))})).next((()=>{const s=[],u=i.getReverseIterator();for(;u.hasNext();){const c=u.getNext(),d=c.key,h=c.value,m=o4();h.forEach((_=>{if(!o.has(_)){const S=f4(n.get(_),r.get(_));S!==null&&m.set(_,S),o=o.add(_)}})),s.push(this.documentOverlayCache.saveOverlays(e,d,m))}return J.waitFor(s)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(s){return _e.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):e4(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):J.resolve(Io());let u=Fh,c=o;return s.next((d=>J.forEach(d,((h,m)=>(u<m.largestBatchId&&(u=m.largestBatchId),o.get(h)?J.resolve():this.remoteDocumentCache.getEntry(e,h).next((_=>{c=c.insert(h,_)}))))).next((()=>this.populateOverlays(e,d,o))).next((()=>this.computeViews(e,c,d,Ye()))).next((h=>({batchId:u,changes:i4(h)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next((r=>{let i=dh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=dh();return this.indexManager.getCollectionParents(e,o).next((u=>J.forEach(u,(c=>{const d=(function(m,_){return new If(_,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(n,c.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next((h=>{h.forEach(((m,_)=>{s=s.insert(m,_)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i)))).next((s=>{o.forEach(((c,d)=>{const h=d.getKey();s.get(h)===null&&(s=s.insert(h,Wt.newInvalidDocument(h)))}));let u=dh();return s.forEach(((c,d)=>{const h=o.get(c);h!==void 0&&xh(h.mutation,d,mi.empty(),gt.now()),Ip(n,d)&&(u=u.insert(c,d))})),u}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hj{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return J.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:cr(i.createTime)}})(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(i){return{name:i.name,query:x4(i.bundledQuery),readTime:cr(i.readTime)}})(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pj{constructor(){this.overlays=new Ut(_e.comparator),this.qr=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Io();return J.forEach(n,(i=>this.getOverlay(e,i).next((o=>{o!==null&&r.set(i,o)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,o)=>{this.St(e,n,o)})),J.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(r)),J.resolve()}getOverlaysForCollection(e,n,r){const i=Io(),o=n.length+1,s=new _e(n.child("")),u=this.overlays.getIteratorFrom(s);for(;u.hasNext();){const c=u.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===o&&c.largestBatchId>r&&i.set(c.getKey(),c)}return J.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Ut(((d,h)=>d-h));const s=this.overlays.getIterator();for(;s.hasNext();){const d=s.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=o.get(d.largestBatchId);h===null&&(h=Io(),o=o.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const u=Io(),c=o.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((d,h)=>u.set(d,h))),!(u.size()>=i)););return J.resolve(u)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new QA(n,r));let o=this.qr.get(n);o===void 0&&(o=Ye(),this.qr.set(n,o)),this.qr.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mj{constructor(){this.sessionToken=bn.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(){this.Qr=new vt(Ln.$r),this.Ur=new vt(Ln.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Ln(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Gr(new Ln(e,n))}zr(e,n){e.forEach((r=>this.removeReference(r,n)))}jr(e){const n=new _e(new ct([])),r=new Ln(n,e),i=new Ln(n,e+1),o=[];return this.Ur.forEachInRange([r,i],(s=>{this.Gr(s),o.push(s.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new _e(new ct([])),r=new Ln(n,e),i=new Ln(n,e+1);let o=Ye();return this.Ur.forEachInRange([r,i],(s=>{o=o.add(s.key)})),o}containsKey(e){const n=new Ln(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ln{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return _e.comparator(e.key,n.key)||Le(e.Yr,n.Yr)}static Kr(e,n){return Le(e.Yr,n.Yr)||_e.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new vt(Ln.$r)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new JA(o,n,r,i);this.mutationQueue.push(s);for(const u of i)this.Zr=this.Zr.add(new Ln(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return J.resolve(s)}lookupMutationBatch(e,n){return J.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),o=i<0?0:i;return J.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?$l:this.tr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ln(n,0),i=new Ln(n,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,i],(s=>{const u=this.Xr(s.Yr);o.push(u)})),J.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new vt(Le);return n.forEach((i=>{const o=new Ln(i,0),s=new Ln(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,s],(u=>{r=r.add(u.Yr)}))})),J.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;_e.isDocumentKey(o)||(o=o.child(""));const s=new Ln(new _e(o),0);let u=new vt(Le);return this.Zr.forEachWhile((c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(u=u.add(c.Yr)),!0)}),s),J.resolve(this.ti(u))}ti(e){const n=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){Re(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return J.forEach(n.mutations,(i=>{const o=new Ln(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,n){const r=new Ln(n,0),i=this.Zr.firstAfterOrEqual(r);return J.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yj{constructor(e){this.ri=e,this.docs=(function(){return new Ut(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return J.resolve(r?r.document.mutableCopy():Wt.newInvalidDocument(n))}getEntries(e,n){let r=zr();return n.forEach((i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Wt.newInvalidDocument(i))})),J.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=zr();const s=n.path,u=new _e(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:d,value:{document:h}}=c.getNext();if(!s.isPrefixOf(d.path))break;d.path.length>s.length+1||UA(bF(h),r)<=0||(i.has(h.key)||Ip(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return J.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Ae(9500)}ii(e,n){return J.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new vj(this)}getSize(e){return J.resolve(this.size)}}class vj extends F4{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),J.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _j{constructor(e){this.persistence=e,this.si=new Ia((n=>iu(n)),Ap),this.lastRemoteSnapshotVersion=Me.min(),this.highestTargetId=0,this.oi=0,this._i=new rI,this.targetCount=0,this.ai=su.ur()}forEachTarget(e,n){return this.si.forEach(((r,i)=>n(i))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),J.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new su(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.Pr(n),J.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.si.forEach(((s,u)=>{u.sequenceNumber<=n&&r.get(u.targetId)===null&&(this.si.delete(s),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),J.waitFor(o).next((()=>i))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return J.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),J.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach((s=>{o.push(i.markPotentiallyOrphaned(e,s))})),J.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),J.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return J.resolve(r)}containsKey(e,n){return J.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(e,n){this.ui={},this.overlays={},this.ci=new pi(0),this.li=!1,this.li=!0,this.hi=new mj,this.referenceDelegate=e(this),this.Pi=new _j(this),this.indexManager=new rj,this.remoteDocumentCache=(function(i){return new yj(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new R4(n),this.Ii=new hj(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new pj,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new gj(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){pe("MemoryPersistence","Starting transaction:",e);const i=new Ej(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((o=>this.referenceDelegate.di(i).next((()=>o)))).toPromise().then((o=>(i.raiseOnCommittedEvent(),o)))}Ai(e,n){return J.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,n))))}}class Ej extends AF{constructor(e){super(),this.currentSequenceNumber=e}}class g_{constructor(e){this.persistence=e,this.Ri=new rI,this.Vi=null}static mi(e){return new g_(e)}get fi(){if(this.Vi)return this.Vi;throw Ae(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),J.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),J.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((o=>this.fi.add(o.toString())))})).next((()=>r.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,(r=>{const i=_e.fromPath(r);return this.gi(e,i).next((o=>{o||n.removeEntry(i,Me.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return J.or([()=>J.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Hy{constructor(e,n){this.persistence=e,this.pi=new Ia((r=>rr(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=U4(this,n)}static mi(e,n){return new Hy(e,n)}Ei(){}di(e){return J.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>n.next((i=>r+i))))}wr(e){let n=0;return this.pr(e,(r=>{n++})).next((()=>n))}pr(e,n){return J.forEach(this.pi,((r,i)=>this.br(e,r,i).next((o=>o?J.resolve():n(i)))))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,(s=>this.br(e,s,n).next((u=>{u||(r++,o.removeEntry(s,Me.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),J.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),J.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),J.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=uy(e.data.value)),n}br(e,n,r){return J.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return J.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{constructor(e){this.serializer=e}k(e,n,r,i){const o=new n_("createOrUpgrade",n);r<1&&i>=1&&((function(c){c.createObjectStore(wp)})(e),(function(c){c.createObjectStore(zh,{keyPath:MY}),c.createObjectStore(Vi,{keyPath:GM,autoIncrement:!0}).createIndex(ql,HM,{unique:!0}),c.createObjectStore(Xc)})(e),DN(e),(function(c){c.createObjectStore(xl)})(e));let s=J.resolve();return r<3&&i>=3&&(r!==0&&((function(c){c.deleteObjectStore(Zc),c.deleteObjectStore(Qc),c.deleteObjectStore(Kl)})(e),DN(e)),s=s.next((()=>(function(c){const d=c.store(Kl),h={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Me.min().toTimestamp(),targetCount:0};return d.put(ky,h)})(o)))),r<4&&i>=4&&(r!==0&&(s=s.next((()=>(function(c,d){return d.store(Vi).J().next((m=>{c.deleteObjectStore(Vi),c.createObjectStore(Vi,{keyPath:GM,autoIncrement:!0}).createIndex(ql,HM,{unique:!0});const _=d.store(Vi),S=m.map((w=>_.put(w)));return J.waitFor(S)}))})(e,o)))),s=s.next((()=>{(function(c){c.createObjectStore(ef,{keyPath:qY})})(e)}))),r<5&&i>=5&&(s=s.next((()=>this.yi(o)))),r<6&&i>=6&&(s=s.next((()=>((function(c){c.createObjectStore(Gh)})(e),this.wi(o))))),r<7&&i>=7&&(s=s.next((()=>this.Si(o)))),r<8&&i>=8&&(s=s.next((()=>this.bi(e,o)))),r<9&&i>=9&&(s=s.next((()=>{(function(c){c.objectStoreNames.contains("remoteDocumentChanges")&&c.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&i>=10&&(s=s.next((()=>this.Di(o)))),r<11&&i>=11&&(s=s.next((()=>{(function(c){c.createObjectStore(i_,{keyPath:BY})})(e),(function(c){c.createObjectStore(o_,{keyPath:zY})})(e)}))),r<12&&i>=12&&(s=s.next((()=>{(function(c){const d=c.createObjectStore(a_,{keyPath:jY});d.createIndex(kb,JY,{unique:!1}),d.createIndex(NF,XY,{unique:!1})})(e)}))),r<13&&i>=13&&(s=s.next((()=>(function(c){const d=c.createObjectStore(Oy,{keyPath:DY});d.createIndex(sy,OY),d.createIndex(RF,kY)})(e))).next((()=>this.Ci(e,o))).next((()=>e.deleteObjectStore(xl)))),r<14&&i>=14&&(s=s.next((()=>this.Fi(e,o)))),r<15&&i>=15&&(s=s.next((()=>(function(c){c.createObjectStore(BA,{keyPath:GY,autoIncrement:!0}).createIndex(Ob,HY,{unique:!1}),c.createObjectStore(Ah,{keyPath:$Y}).createIndex(xF,KY,{unique:!1}),c.createObjectStore(Ih,{keyPath:YY}).createIndex(MF,WY,{unique:!1})})(e)))),r<16&&i>=16&&(s=s.next((()=>{n.objectStore(Ah).clear()})).next((()=>{n.objectStore(Ih).clear()}))),r<17&&i>=17&&(s=s.next((()=>{(function(c){c.createObjectStore(zA,{keyPath:QY})})(e)}))),r<18&&i>=18&&ZV()&&(s=s.next((()=>{n.objectStore(Ah).clear()})).next((()=>{n.objectStore(Ih).clear()}))),s}wi(e){let n=0;return e.store(xl).ee(((r,i)=>{n+=Gy(i)})).next((()=>{const r={byteSize:n};return e.store(Gh).put(Db,r)}))}yi(e){const n=e.store(zh),r=e.store(Vi);return n.J().next((i=>J.forEach(i,(o=>{const s=IDBKeyRange.bound([o.userId,$l],[o.userId,o.lastAcknowledgedBatchId]);return r.J(ql,s).next((u=>J.forEach(u,(c=>{Re(c.userId===o.userId,18650,"Cannot process batch from unexpected user",{batchId:c.batchId});const d=Ll(this.serializer,c);return O4(e,o.userId,d).next((()=>{}))}))))}))))}Si(e){const n=e.store(Zc),r=e.store(xl);return e.store(Kl).get(ky).next((i=>{const o=[];return r.ee(((s,u)=>{const c=new ct(s),d=(function(m){return[0,rr(m)]})(c);o.push(n.get(d).next((h=>h?J.resolve():(m=>n.put({targetId:0,path:rr(m),sequenceNumber:i.highestListenSequenceNumber}))(c))))})).next((()=>J.waitFor(o)))}))}bi(e,n){e.createObjectStore(Hh,{keyPath:FY});const r=n.store(Hh),i=new nI,o=s=>{if(i.add(s)){const u=s.lastSegment(),c=s.popLast();return r.put({collectionId:u,parent:rr(c)})}};return n.store(xl).ee({X:!0},((s,u)=>{const c=new ct(s);return o(c.popLast())})).next((()=>n.store(Xc).ee({X:!0},(([s,u,c],d)=>{const h=Ao(u);return o(h.popLast())}))))}Di(e){const n=e.store(Qc);return n.ee(((r,i)=>{const o=ph(i),s=P4(this.serializer,o);return n.put(s)}))}Ci(e,n){const r=n.store(xl),i=[];return r.ee(((o,s)=>{const u=n.store(Oy),c=(function(m){return m.document?new _e(ct.fromString(m.document.name).popFirst(5)):m.noDocument?_e.fromSegments(m.noDocument.path):m.unknownDocument?_e.fromSegments(m.unknownDocument.path):Ae(36783)})(s).path.toArray(),d={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};i.push(u.put(d))})).next((()=>J.waitFor(i)))}Fi(e,n){const r=n.store(Vi),i=q4(this.serializer),o=new iI(g_.mi,this.serializer.yt);return r.J().next((s=>{const u=new Map;return s.forEach((c=>{let d=u.get(c.userId)??Ye();Ll(this.serializer,c).keys().forEach((h=>d=d.add(h))),u.set(c.userId,d)})),J.forEach(u,((c,d)=>{const h=new Jn(d),m=p_.wt(this.serializer,h),_=o.getIndexManager(h),S=m_.wt(h,this.serializer,_,o.referenceDelegate);return new B4(i,S,m,_).recalculateAndSaveOverlaysForDocumentKeys(new Lb(n,pi.ce),c).next()}))}))}}function DN(t){t.createObjectStore(Zc,{keyPath:VY}).createIndex(qA,UY,{unique:!0}),t.createObjectStore(Qc,{keyPath:"targetId"}).createIndex(PF,LY,{unique:!0}),t.createObjectStore(Kl)}const gs="IndexedDbPersistence",DT=18e5,OT=5e3,kT="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Sj="main";class oI{constructor(e,n,r,i,o,s,u,c,d,h,m=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Mi=o,this.window=s,this.document=u,this.xi=d,this.Oi=h,this.Ni=m,this.ci=null,this.li=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Bi=null,this.inForeground=!1,this.Li=null,this.ki=null,this.qi=Number.NEGATIVE_INFINITY,this.Qi=_=>Promise.resolve(),!oI.v())throw new ye(se.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new uj(this,i),this.$i=n+Sj,this.serializer=new R4(c),this.Ui=new Is(this.$i,this.Ni,new Tj(this.serializer)),this.hi=new XW,this.Pi=new oj(this.referenceDelegate,this.serializer),this.remoteDocumentCache=q4(this.serializer),this.Ii=new JW,this.window&&this.window.localStorage?this.Ki=this.window.localStorage:(this.Ki=null,h===!1&&sr(gs,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ye(se.FAILED_PRECONDITION,kT);return this.Gi(),this.zi(),this.ji(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Pi.getHighestSequenceNumber(e)))})).then((e=>{this.ci=new pi(e,this.xi)})).then((()=>{this.li=!0})).catch((e=>(this.Ui&&this.Ui.close(),Promise.reject(e))))}Ji(e){return this.Qi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ui.$((async n=>{n.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Mi.enqueueAndForget((async()=>{this.started&&await this.Wi()})))}Wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>kg(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Hi(e).next((n=>{n||(this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))))}))})).next((()=>this.Yi(e))).next((n=>this.isPrimary&&!n?this.Zi(e).next((()=>!1)):!!n&&this.Xi(e).next((()=>!0)))))).catch((e=>{if(Gs(e))return pe(gs,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return pe(gs,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Mi.enqueueRetryable((()=>this.Qi(e))),this.isPrimary=e}))}Hi(e){return Xd(e).get(dc).next((n=>J.resolve(this.es(n))))}ts(e){return kg(e).delete(this.clientId)}async ns(){if(this.isPrimary&&!this.rs(this.qi,DT)){this.qi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(n=>{const r=Pn(n,ef);return r.J().next((i=>{const o=this.ss(i,DT),s=i.filter((u=>o.indexOf(u)===-1));return J.forEach(s,(u=>r.delete(u.clientId))).next((()=>s))}))})).catch((()=>[]));if(this.Ki)for(const n of e)this.Ki.removeItem(this._s(n.clientId))}}ji(){this.ki=this.Mi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Wi().then((()=>this.ns())).then((()=>this.ji()))))}es(e){return!!e&&e.ownerId===this.clientId}Yi(e){return this.Oi?J.resolve(!0):Xd(e).get(dc).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,OT)&&!this.us(n.ownerId)){if(this.es(n)&&this.networkEnabled)return!0;if(!this.es(n)){if(!n.allowTabSynchronization)throw new ye(se.FAILED_PRECONDITION,kT);return!1}}return!(!this.networkEnabled||!this.inForeground)||kg(e).J().next((r=>this.ss(r,OT).find((i=>{if(this.clientId!==i.clientId){const o=!this.networkEnabled&&i.networkEnabled,s=!this.inForeground&&i.inForeground,u=this.networkEnabled===i.networkEnabled;if(o||s&&u)return!0}return!1}))===void 0))})).next((n=>(this.isPrimary!==n&&pe(gs,`Client ${n?"is":"is not"} eligible for a primary lease.`),n)))}async shutdown(){this.li=!1,this.cs(),this.ki&&(this.ki.cancel(),this.ki=null),this.ls(),this.hs(),await this.Ui.runTransaction("shutdown","readwrite",[wp,ef],(e=>{const n=new Lb(e,pi.ce);return this.Zi(n).next((()=>this.ts(n)))})),this.Ui.close(),this.Ps()}ss(e,n){return e.filter((r=>this.rs(r.updateTimeMs,n)&&!this.us(r.clientId)))}Ts(){return this.runTransaction("getActiveClients","readonly",(e=>kg(e).J().next((n=>this.ss(n,DT).map((r=>r.clientId))))))}get started(){return this.li}getGlobalsCache(){return this.hi}getMutationQueue(e,n){return m_.wt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new ij(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return p_.wt(this.serializer,e)}getBundleCache(){return this.Ii}runTransaction(e,n,r){pe(gs,"Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",o=(function(c){return c===18?tW:c===17?LF:c===16?eW:c===15?GA:c===14?kF:c===13?OF:c===12?ZY:c===11?DF:void Ae(60245)})(this.Ni);let s;return this.Ui.runTransaction(e,i,o,(u=>(s=new Lb(u,this.ci?this.ci.next():pi.ce),n==="readwrite-primary"?this.Hi(s).next((c=>!!c||this.Yi(s))).next((c=>{if(!c)throw sr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Mi.enqueueRetryable((()=>this.Qi(!1))),new ye(se.FAILED_PRECONDITION,wF);return r(s)})).next((c=>this.Xi(s).next((()=>c)))):this.Is(s).next((()=>r(s)))))).then((u=>(s.raiseOnCommittedEvent(),u)))}Is(e){return Xd(e).get(dc).next((n=>{if(n!==null&&this.rs(n.leaseTimestampMs,OT)&&!this.us(n.ownerId)&&!this.es(n)&&!(this.Oi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new ye(se.FAILED_PRECONDITION,kT)}))}Xi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Xd(e).put(dc,n)}static v(){return Is.v()}Zi(e){const n=Xd(e);return n.get(dc).next((r=>this.es(r)?(pe(gs,"Releasing primary lease."),n.delete(dc)):J.resolve()))}rs(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(sr(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Gi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Li=()=>{this.Mi.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.Wi())))},this.document.addEventListener("visibilitychange",this.Li),this.inForeground=this.document.visibilityState==="visible")}ls(){this.Li&&(this.document.removeEventListener("visibilitychange",this.Li),this.Li=null)}zi(){var e;typeof((e=this.window)==null?void 0:e.addEventListener)=="function"&&(this.Bi=()=>{this.cs();const n=/(?:Version|Mobile)\/1[456]/;QV()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.Mi.enterRestrictedMode(!0),this.Mi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Bi))}hs(){this.Bi&&(this.window.removeEventListener("pagehide",this.Bi),this.Bi=null)}us(e){var n;try{const r=((n=this.Ki)==null?void 0:n.getItem(this._s(e)))!==null;return pe(gs,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return sr(gs,"Failed to get zombied client id.",r),!1}}cs(){if(this.Ki)try{this.Ki.setItem(this._s(this.clientId),String(Date.now()))}catch(e){sr("Failed to set zombie client id.",e)}}Ps(){if(this.Ki)try{this.Ki.removeItem(this._s(this.clientId))}catch{}}_s(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Xd(t){return Pn(t,wp)}function kg(t){return Pn(t,ef)}function bj(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Ye(),i=Ye();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new aI(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wj{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return QV()?8:IF(zt())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.ys(e,n).next((s=>{o.result=s})).next((()=>{if(!o.result)return this.ws(e,n,i,r).next((s=>{o.result=s}))})).next((()=>{if(o.result)return;const s=new wj;return this.Ss(e,n,s).next((u=>{if(o.result=u,this.Vs)return this.bs(e,n,s,u.size)}))})).next((()=>o.result))}bs(e,n,r,i){return r.documentReadCount<this.fs?(Sc()<=Qe.DEBUG&&pe("QueryEngine","SDK will not create cache indexes for query:",bc(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(Sc()<=Qe.DEBUG&&pe("QueryEngine","Query:",bc(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(Sc()<=Qe.DEBUG&&pe("QueryEngine","The SDK decides to create cache indexes for query:",bc(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yi(n))):J.resolve())}ys(e,n){if(rN(n))return J.resolve(null);let r=yi(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=Gb(n,null,"F"),r=yi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const s=Ye(...o);return this.ps.getDocuments(e,s).next((u=>this.indexManager.getMinOffset(e,r).next((c=>{const d=this.Ds(n,u);return this.Cs(n,d,s,c.readTime)?this.ys(e,Gb(n,null,"F")):this.vs(e,d,n,c)}))))})))))}ws(e,n,r,i){return rN(n)||i.isEqual(Me.min())?J.resolve(null):this.ps.getDocuments(e,r).next((o=>{const s=this.Ds(n,o);return this.Cs(n,s,r,i)?J.resolve(null):(Sc()<=Qe.DEBUG&&pe("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),bc(n)),this.vs(e,s,n,wY(i,Fh)).next((u=>u)))}))}Ds(e,n){let r=new vt(n4(e));return n.forEach(((i,o)=>{Ip(e,o)&&(r=r.add(o))})),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,n,r){return Sc()<=Qe.DEBUG&&pe("QueryEngine","Using full collection scan to execute query:",bc(n)),this.ps.getDocumentsMatchingQuery(e,n,Yr.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((o=>(n.forEach((s=>{o=o.insert(s.key,s)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sI="LocalStore",Aj=3e8;class Ij{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Ut(Le),this.xs=new Ia((o=>iu(o)),Ap),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new B4(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function G4(t,e,n,r){return new Ij(t,e,n,r)}async function H4(t,e){const n=Ue(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((o=>(i=o,n.Bs(e),n.mutationQueue.getAllMutationBatches(r)))).next((o=>{const s=[],u=[];let c=Ye();for(const d of i){s.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}for(const d of o){u.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next((d=>({Ls:d,removedBatchIds:s,addedBatchIds:u})))}))}))}function Cj(t,e){const n=Ue(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),o=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,c,d,h){const m=d.batch,_=m.keys();let S=J.resolve();return _.forEach((w=>{S=S.next((()=>h.getEntry(c,w))).next((A=>{const C=d.docVersions.get(w);Re(C!==null,48541),A.version.compareTo(C)<0&&(m.applyToRemoteDocument(A,d),A.isValidDocument()&&(A.setReadTime(d.commitVersion),h.addEntry(A)))}))})),S.next((()=>u.mutationQueue.removeMutationBatch(c,m)))})(n,r,e,o).next((()=>o.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(u){let c=Ye();for(let d=0;d<u.mutationResults.length;++d)u.mutationResults[d].transformResults.length>0&&(c=c.add(u.batch.mutations[d].key));return c})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function $4(t){const e=Ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function Rj(t,e){const n=Ue(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const s=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const u=[];e.targetChanges.forEach(((h,m)=>{const _=i.get(m);if(!_)return;u.push(n.Pi.removeMatchingKeys(o,h.removedDocuments,m).next((()=>n.Pi.addMatchingKeys(o,h.addedDocuments,m))));let S=_.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(m)!==null?S=S.withResumeToken(bn.EMPTY_BYTE_STRING,Me.min()).withLastLimboFreeSnapshotVersion(Me.min()):h.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(h.resumeToken,r)),i=i.insert(m,S),(function(A,C,M){return A.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=Aj?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0})(_,S,h)&&u.push(n.Pi.updateTargetData(o,S))}));let c=zr(),d=Ye();if(e.documentUpdates.forEach((h=>{e.resolvedLimboDocuments.has(h)&&u.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))})),u.push(Pj(o,s,e.documentUpdates).next((h=>{c=h.ks,d=h.qs}))),!r.isEqual(Me.min())){const h=n.Pi.getLastRemoteSnapshotVersion(o).next((m=>n.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r)));u.push(h)}return J.waitFor(u).next((()=>s.apply(o))).next((()=>n.localDocuments.getLocalViewOfDocuments(o,c,d))).next((()=>c))})).then((o=>(n.Ms=i,o)))}function Pj(t,e,n){let r=Ye(),i=Ye();return n.forEach((o=>r=r.add(o))),e.getEntries(t,r).next((o=>{let s=zr();return n.forEach(((u,c)=>{const d=o.get(u);c.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(u)),c.isNoDocument()&&c.version.isEqual(Me.min())?(e.removeEntry(u,c.readTime),s=s.insert(u,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),s=s.insert(u,c)):pe(sI,"Ignoring outdated watch update for ",u,". Current version:",d.version," Watch version:",c.version)})),{ks:s,qs:i}}))}function xj(t,e){const n=Ue(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=$l),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function Mj(t,e){const n=Ue(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.Pi.getTargetData(r,e).next((o=>o?(i=o,J.resolve(i)):n.Pi.allocateTargetId(r).next((s=>(i=new ia(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r}))}async function Xb(t,e,n){const r=Ue(t),i=r.Ms.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Gs(s))throw s;pe(sI,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function ON(t,e,n){const r=Ue(t);let i=Me.min(),o=Ye();return r.persistence.runTransaction("Execute query","readwrite",(s=>(function(c,d,h){const m=Ue(c),_=m.xs.get(h);return _!==void 0?J.resolve(m.Ms.get(_)):m.Pi.getTargetData(d,h)})(r,s,yi(e)).next((u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(s,u.targetId).next((c=>{o=c}))})).next((()=>r.Fs.getDocumentsMatchingQuery(s,e,n?i:Me.min(),n?o:Ye()))).next((u=>(Nj(r,gW(e),u),{documents:u,Qs:o})))))}function Nj(t,e,n){let r=t.Os.get(e)||Me.min();n.forEach(((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),t.Os.set(e,r)}class kN{constructor(){this.activeTargetIds=SW()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class K4{constructor(){this.Mo=new kN,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new kN,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dj{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN="ConnectivityMonitor";class VN{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){pe(LN,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){pe(LN,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lg=null;function Qb(){return Lg===null?Lg=(function(){return 268435456+Math.round(2147483648*Math.random())})():Lg++,"0x"+Lg.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT="RestConnection",Oj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class kj{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Ly?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,o){const s=Qb(),u=this.zo(e,n.toUriEncodedString());pe(LT,`Sending RPC '${e}' ${s}:`,u,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,i,o);const{host:d}=new URL(u),h=Ef(d);return this.Jo(e,u,c,r,h).then((m=>(pe(LT,`Received RPC '${e}' ${s}: `,m),m)),(m=>{throw nu(LT,`RPC '${e}' ${s} failed with error: `,m,"url: ",u,"request:",r),m}))}Ho(e,n,r,i,o,s){return this.Go(e,n,r,i,o)}jo(e,n,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Af})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((i,o)=>e[o]=i)),r&&r.headers.forEach(((i,o)=>e[o]=i))}zo(e,n){const r=Oj[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lj{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const er="WebChannelConnection";class Vj extends kj{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,o){const s=Qb();return new Promise(((u,c)=>{const d=new hF;d.setWithCredentials(!0),d.listenOnce(pF.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case iy.NO_ERROR:const m=d.getResponseJson();pe(er,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(m)),u(m);break;case iy.TIMEOUT:pe(er,`RPC '${e}' ${s} timed out`),c(new ye(se.DEADLINE_EXCEEDED,"Request time out"));break;case iy.HTTP_ERROR:const _=d.getStatus();if(pe(er,`RPC '${e}' ${s} failed with status:`,_,"response text:",d.getResponseText()),_>0){let S=d.getResponseJson();Array.isArray(S)&&(S=S[0]);const w=S==null?void 0:S.error;if(w&&w.status&&w.message){const A=(function(M){const U=M.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(U)>=0?U:se.UNKNOWN})(w.status);c(new ye(A,w.message))}else c(new ye(se.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new ye(se.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{l_:e,streamId:s,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{pe(er,`RPC '${e}' ${s} completed.`)}}));const h=JSON.stringify(i);pe(er,`RPC '${e}' ${s} sending request:`,i),d.send(n,"POST",h,r,15)}))}T_(e,n,r){const i=Qb(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=yF(),u=gF(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const h=o.join("");pe(er,`Creating RPC '${e}' stream ${i}: ${h}`,c);const m=s.createWebChannel(h,c);this.I_(m);let _=!1,S=!1;const w=new Lj({Yo:C=>{S?pe(er,`Not sending because RPC '${e}' stream ${i} is closed:`,C):(_||(pe(er,`Opening RPC '${e}' stream ${i} transport.`),m.open(),_=!0),pe(er,`RPC '${e}' stream ${i} sending:`,C),m.send(C))},Zo:()=>m.close()}),A=(C,M,U)=>{C.listen(M,(L=>{try{U(L)}catch(H){setTimeout((()=>{throw H}),0)}}))};return A(m,fh.EventType.OPEN,(()=>{S||(pe(er,`RPC '${e}' stream ${i} transport opened.`),w.o_())})),A(m,fh.EventType.CLOSE,(()=>{S||(S=!0,pe(er,`RPC '${e}' stream ${i} transport closed`),w.a_(),this.E_(m))})),A(m,fh.EventType.ERROR,(C=>{S||(S=!0,nu(er,`RPC '${e}' stream ${i} transport errored. Name:`,C.name,"Message:",C.message),w.a_(new ye(se.UNAVAILABLE,"The operation could not be completed")))})),A(m,fh.EventType.MESSAGE,(C=>{var M;if(!S){const U=C.data[0];Re(!!U,16349);const L=U,H=(L==null?void 0:L.error)||((M=L[0])==null?void 0:M.error);if(H){pe(er,`RPC '${e}' stream ${i} received error:`,H);const z=H.status;let G=(function(x){const F=vn[x];if(F!==void 0)return p4(F)})(z),P=H.message;G===void 0&&(G=se.INTERNAL,P="Unknown error status: "+z+" with message "+H.message),S=!0,w.a_(new ye(G,P)),m.close()}else pe(er,`RPC '${e}' stream ${i} received:`,U),w.u_(U)}})),A(u,mF.STAT_EVENT,(C=>{C.stat===xb.PROXY?pe(er,`RPC '${e}' stream ${i} detected buffering proxy`):C.stat===xb.NOPROXY&&pe(er,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{w.__()}),0),w}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uj(){return typeof window<"u"?window:null}function py(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y_(t){return new FW(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y4{constructor(e,n,r=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&pe("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN="PersistentStream";class W4{constructor(e,n,r,i,o,s,u,c){this.Mi=e,this.S_=r,this.b_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=u,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Y4(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===se.RESOURCE_EXHAUSTED?(sr(n.toString()),sr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===n&&this.G_(r,i)}),(r=>{e((()=>{const i=new ye(se.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return pe(UN,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(pe(UN,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Fj extends W4{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=zW(this.serializer,e),r=(function(o){if(!("targetChange"in o))return Me.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?Me.min():s.readTime?cr(s.readTime):Me.min()})(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=Kb(this.serializer),n.addTarget=(function(o,s){let u;const c=s.target;if(u=Vy(c)?{documents:S4(o,c)}:{query:b4(o,c).ft},u.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){u.resumeToken=y4(o,s.resumeToken);const d=Hb(o,s.expectedCount);d!==null&&(u.expectedCount=d)}else if(s.snapshotVersion.compareTo(Me.min())>0){u.readTime=lf(o,s.snapshotVersion.toTimestamp());const d=Hb(o,s.expectedCount);d!==null&&(u.expectedCount=d)}return u})(this.serializer,e);const r=HW(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=Kb(this.serializer),n.removeTarget=e,this.q_(n)}}class qj extends W4{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Re(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Re(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Re(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=GW(e.writeResults,e.commitTime),r=cr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Kb(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>qy(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bj{}class zj extends Bj{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ye(se.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,s])=>this.connection.Go(e,$b(n,r),i,o,s))).catch((o=>{throw o.name==="FirebaseError"?(o.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ye(se.UNKNOWN,o.toString())}))}Ho(e,n,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,u])=>this.connection.Ho(e,$b(n,r),i,s,u,o))).catch((s=>{throw s.name==="FirebaseError"?(s.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ye(se.UNKNOWN,s.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Gj{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(sr(n),this.aa=!1):pe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lu="RemoteStore";class Hj{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((s=>{r.enqueueAndForget((async()=>{vu(this)&&(pe(lu,"Restarting streams for network reachability change."),await(async function(c){const d=Ue(c);d.Ea.add(4),await Rp(d),d.Ra.set("Unknown"),d.Ea.delete(4),await v_(d)})(this))}))})),this.Ra=new Gj(r,i)}}async function v_(t){if(vu(t))for(const e of t.da)await e(!0)}async function Rp(t){for(const e of t.da)await e(!1)}function j4(t,e){const n=Ue(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),fI(n)?cI(n):Rf(n).O_()&&uI(n,e))}function lI(t,e){const n=Ue(t),r=Rf(n);n.Ia.delete(e),r.O_()&&J4(n,e),n.Ia.size===0&&(r.O_()?r.L_():vu(n)&&n.Ra.set("Unknown"))}function uI(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Me.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Rf(t).Y_(e)}function J4(t,e){t.Va.Ue(e),Rf(t).Z_(e)}function cI(t){t.Va=new kW({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Rf(t).start(),t.Ra.ua()}function fI(t){return vu(t)&&!Rf(t).x_()&&t.Ia.size>0}function vu(t){return Ue(t).Ea.size===0}function X4(t){t.Va=void 0}async function $j(t){t.Ra.set("Online")}async function Kj(t){t.Ia.forEach(((e,n)=>{uI(t,e)}))}async function Yj(t,e){X4(t),fI(t)?(t.Ra.ha(e),cI(t)):t.Ra.set("Unknown")}async function Wj(t,e,n){if(t.Ra.set("Online"),e instanceof g4&&e.state===2&&e.cause)try{await(async function(i,o){const s=o.cause;for(const u of o.targetIds)i.Ia.has(u)&&(await i.remoteSyncer.rejectListen(u,s),i.Ia.delete(u),i.Va.removeTarget(u))})(t,e)}catch(r){pe(lu,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await $y(t,r)}else if(e instanceof dy?t.Va.Ze(e):e instanceof m4?t.Va.st(e):t.Va.tt(e),!n.isEqual(Me.min()))try{const r=await $4(t.localStore);n.compareTo(r)>=0&&await(function(o,s){const u=o.Va.Tt(s);return u.targetChanges.forEach(((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const h=o.Ia.get(d);h&&o.Ia.set(d,h.withResumeToken(c.resumeToken,s))}})),u.targetMismatches.forEach(((c,d)=>{const h=o.Ia.get(c);if(!h)return;o.Ia.set(c,h.withResumeToken(bn.EMPTY_BYTE_STRING,h.snapshotVersion)),J4(o,c);const m=new ia(h.target,c,d,h.sequenceNumber);uI(o,m)})),o.remoteSyncer.applyRemoteEvent(u)})(t,n)}catch(r){pe(lu,"Failed to raise snapshot:",r),await $y(t,r)}}async function $y(t,e,n){if(!Gs(e))throw e;t.Ea.add(1),await Rp(t),t.Ra.set("Offline"),n||(n=()=>$4(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{pe(lu,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await v_(t)}))}function Q4(t,e){return e().catch((n=>$y(t,n,e)))}async function Pp(t){const e=Ue(t),n=Os(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:$l;for(;jj(e);)try{const i=await xj(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,Jj(e,i)}catch(i){await $y(e,i)}Z4(e)&&eq(e)}function jj(t){return vu(t)&&t.Ta.length<10}function Jj(t,e){t.Ta.push(e);const n=Os(t);n.O_()&&n.X_&&n.ea(e.mutations)}function Z4(t){return vu(t)&&!Os(t).x_()&&t.Ta.length>0}function eq(t){Os(t).start()}async function Xj(t){Os(t).ra()}async function Qj(t){const e=Os(t);for(const n of t.Ta)e.ea(n.mutations)}async function Zj(t,e,n){const r=t.Ta.shift(),i=XA.from(r,e,n);await Q4(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Pp(t)}async function eJ(t,e){e&&Os(t).X_&&await(async function(r,i){if((function(s){return NW(s)&&s!==se.ABORTED})(i.code)){const o=r.Ta.shift();Os(r).B_(),await Q4(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i))),await Pp(r)}})(t,e),Z4(t)&&eq(t)}async function FN(t,e){const n=Ue(t);n.asyncQueue.verifyOperationInProgress(),pe(lu,"RemoteStore received new credentials");const r=vu(n);n.Ea.add(3),await Rp(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await v_(n)}async function tJ(t,e){const n=Ue(t);e?(n.Ea.delete(2),await v_(n)):e||(n.Ea.add(2),await Rp(n),n.Ra.set("Unknown"))}function Rf(t){return t.ma||(t.ma=(function(n,r,i){const o=Ue(n);return o.sa(),new Fj(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Xo:$j.bind(null,t),t_:Kj.bind(null,t),r_:Yj.bind(null,t),H_:Wj.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),fI(t)?cI(t):t.Ra.set("Unknown")):(await t.ma.stop(),X4(t))}))),t.ma}function Os(t){return t.fa||(t.fa=(function(n,r,i){const o=Ue(n);return o.sa(),new qj(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Xj.bind(null,t),r_:eJ.bind(null,t),ta:Qj.bind(null,t),na:Zj.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await Pp(t)):(await t.fa.stop(),t.Ta.length>0&&(pe(lu,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new la,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((s=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,u=new dI(e,n,s,i,o);return u.start(r),u}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ye(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hI(t,e){if(sr("AsyncQueue",`${e}: ${t}`),Gs(t))return new ye(se.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{static emptySet(e){return new Lc(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||_e.comparator(n.key,r.key):(n,r)=>_e.comparator(n.key,r.key),this.keyedMap=dh(),this.sortedSet=new Ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Lc)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Lc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(){this.ga=new Ut(_e.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):Ae(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,r)=>{e.push(r)})),e}}class uf{constructor(e,n,r,i,o,s,u,c,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=u,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach((u=>{s.push({type:0,doc:u})})),new uf(e,n,Lc.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&u_(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nJ{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class rJ{constructor(){this.queries=BN(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Ue(n),o=i.queries;i.queries=BN(),o.forEach(((s,u)=>{for(const c of u.Sa)c.onError(r)}))})(this,new ye(se.ABORTED,"Firestore shutting down"))}}function BN(){return new Ia((t=>t4(t)),u_)}async function iJ(t,e){const n=Ue(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.ba()&&e.Da()&&(r=2):(o=new nJ,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await n.onListen(i,!0);break;case 1:o.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const u=hI(s,`Initialization of query '${bc(e.query)}' failed`);return void e.onError(u)}n.queries.set(i,o),o.Sa.push(e),e.va(n.onlineState),o.wa&&e.Fa(o.wa)&&pI(n)}async function oJ(t,e){const n=Ue(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.Sa.indexOf(e);s>=0&&(o.Sa.splice(s,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function aJ(t,e){const n=Ue(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const u of s.Sa)u.Fa(i)&&(r=!0);s.wa=i}}r&&pI(n)}function sJ(t,e,n){const r=Ue(t),i=r.queries.get(e);if(i)for(const o of i.Sa)o.onError(n);r.queries.delete(e)}function pI(t){t.Ca.forEach((e=>{e.next()}))}var Zb,zN;(zN=Zb||(Zb={})).Ma="default",zN.Cache="cache";class lJ{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new uf(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=uf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Zb.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tq{constructor(e){this.key=e}}class nq{constructor(e){this.key=e}}class uJ{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ye(),this.mutatedKeys=Ye(),this.eu=n4(e),this.tu=new Lc(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new qN,i=n?n.tu:this.tu;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,u=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((h,m)=>{const _=i.get(h),S=Ip(this.query,m)?m:null,w=!!_&&this.mutatedKeys.has(_.key),A=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let C=!1;_&&S?_.data.isEqual(S.data)?w!==A&&(r.track({type:3,doc:S}),C=!0):this.su(_,S)||(r.track({type:2,doc:S}),C=!0,(c&&this.eu(S,c)>0||d&&this.eu(S,d)<0)&&(u=!0)):!_&&S?(r.track({type:0,doc:S}),C=!0):_&&!S&&(r.track({type:1,doc:_}),C=!0,(c||d)&&(u=!0)),C&&(S?(s=s.add(S),o=A?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))})),this.query.limit!==null)for(;s.size>this.query.limit;){const h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{tu:s,iu:r,Cs:u,mutatedKeys:o}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort(((h,m)=>(function(S,w){const A=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{Rt:C})}};return A(S)-A(w)})(h.type,m.type)||this.eu(h.doc,m.doc))),this.ou(r),i=i??!1;const u=n&&!i?this._u():[],c=this.Xa.size===0&&this.current&&!i?1:0,d=c!==this.Za;return this.Za=c,s.length!==0||d?{snapshot:new uf(this.query,e.tu,o,s,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new qN,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Ye(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return e.forEach((r=>{this.Xa.has(r)||n.push(new nq(r))})),this.Xa.forEach((r=>{e.has(r)||n.push(new tq(r))})),n}cu(e){this.Ya=e.Qs,this.Xa=Ye();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return uf.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const mI="SyncEngine";class cJ{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class fJ{constructor(e){this.key=e,this.hu=!1}}class dJ{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new Ia((u=>t4(u)),u_),this.Iu=new Map,this.Eu=new Set,this.du=new Ut(_e.comparator),this.Au=new Map,this.Ru=new rI,this.Vu={},this.mu=new Map,this.fu=su.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function hJ(t,e,n=!0){const r=lq(t);let i;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await rq(r,e,n,!0),i}async function pJ(t,e){const n=lq(t);await rq(n,e,!0,!1)}async function rq(t,e,n,r){const i=await Mj(t.localStore,yi(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let u;return r&&(u=await mJ(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&j4(t.remoteStore,i),u}async function mJ(t,e,n,r,i){t.pu=(m,_,S)=>(async function(A,C,M,U){let L=C.view.ru(M);L.Cs&&(L=await ON(A.localStore,C.query,!1).then((({documents:P})=>C.view.ru(P,L))));const H=U&&U.targetChanges.get(C.targetId),z=U&&U.targetMismatches.get(C.targetId)!=null,G=C.view.applyChanges(L,A.isPrimaryClient,H,z);return HN(A,C.targetId,G.au),G.snapshot})(t,m,_,S);const o=await ON(t.localStore,e,!0),s=new uJ(e,o.Qs),u=s.ru(o.documents),c=Cp.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=s.applyChanges(u,t.isPrimaryClient,c);HN(t,n,d.au);const h=new cJ(e,n,s);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function gJ(t,e,n){const r=Ue(t),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter((s=>!u_(s,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Xb(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&lI(r.remoteStore,i.targetId),ew(r,i.targetId)})).catch(gu)):(ew(r,i.targetId),await Xb(r.localStore,i.targetId,!0))}async function yJ(t,e){const n=Ue(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),lI(n.remoteStore,r.targetId))}async function vJ(t,e,n){const r=uq(t);try{const i=await(function(s,u){const c=Ue(s),d=gt.now(),h=u.reduce(((S,w)=>S.add(w.key)),Ye());let m,_;return c.persistence.runTransaction("Locally write mutations","readwrite",(S=>{let w=zr(),A=Ye();return c.Ns.getEntries(S,h).next((C=>{w=C,w.forEach(((M,U)=>{U.isValidDocument()||(A=A.add(M))}))})).next((()=>c.localDocuments.getOverlayedDocuments(S,w))).next((C=>{m=C;const M=[];for(const U of u){const L=xW(U,m.get(U.key).overlayedDocument);L!=null&&M.push(new Hs(U.key,L,KF(L.value.mapValue),Sr.exists(!0)))}return c.mutationQueue.addMutationBatch(S,d,M,u)})).next((C=>{_=C;const M=C.applyToLocalDocumentSet(m,A);return c.documentOverlayCache.saveOverlays(S,C.batchId,M)}))})).then((()=>({batchId:_.batchId,changes:i4(m)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,u,c){let d=s.Vu[s.currentUser.toKey()];d||(d=new Ut(Le)),d=d.insert(u,c),s.Vu[s.currentUser.toKey()]=d})(r,i.batchId,n),await xp(r,i.changes),await Pp(r.remoteStore)}catch(i){const o=hI(i,"Failed to persist write");n.reject(o)}}async function iq(t,e){const n=Ue(t);try{const r=await Rj(n.localStore,e);e.targetChanges.forEach(((i,o)=>{const s=n.Au.get(o);s&&(Re(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?Re(s.hu,14607):i.removedDocuments.size>0&&(Re(s.hu,42227),s.hu=!1))})),await xp(n,r,e)}catch(r){await gu(r)}}function GN(t,e,n){const r=Ue(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach(((o,s)=>{const u=s.view.va(e);u.snapshot&&i.push(u.snapshot)})),(function(s,u){const c=Ue(s);c.onlineState=u;let d=!1;c.queries.forEach(((h,m)=>{for(const _ of m.Sa)_.va(u)&&(d=!0)})),d&&pI(c)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function _J(t,e,n){const r=Ue(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),o=i&&i.key;if(o){let s=new Ut(_e.comparator);s=s.insert(o,Wt.newNoDocument(o,Me.min()));const u=Ye().add(o),c=new h_(Me.min(),new Map,new Ut(Le),s,u);await iq(r,c),r.du=r.du.remove(o),r.Au.delete(e),gI(r)}else await Xb(r.localStore,e,!1).then((()=>ew(r,e,n))).catch(gu)}async function EJ(t,e){const n=Ue(t),r=e.batch.batchId;try{const i=await Cj(n.localStore,e);aq(n,r,null),oq(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await xp(n,i)}catch(i){await gu(i)}}async function TJ(t,e,n){const r=Ue(t);try{const i=await(function(s,u){const c=Ue(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let h;return c.mutationQueue.lookupMutationBatch(d,u).next((m=>(Re(m!==null,37113),h=m.keys(),c.mutationQueue.removeMutationBatch(d,m)))).next((()=>c.mutationQueue.performConsistencyCheck(d))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(d,h,u))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h))).next((()=>c.localDocuments.getDocuments(d,h)))}))})(r.localStore,e);aq(r,e,n),oq(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await xp(r,i)}catch(i){await gu(i)}}function oq(t,e){(t.mu.get(e)||[]).forEach((n=>{n.resolve()})),t.mu.delete(e)}function aq(t,e,n){const r=Ue(t);let i=r.Vu[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function ew(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((r=>{t.Ru.containsKey(r)||sq(t,r)}))}function sq(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(lI(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),gI(t))}function HN(t,e,n){for(const r of n)r instanceof tq?(t.Ru.addReference(r.key,e),SJ(t,r)):r instanceof nq?(pe(mI,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||sq(t,r.key)):Ae(19791,{wu:r})}function SJ(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(pe(mI,"New document in limbo: "+n),t.Eu.add(r),gI(t))}function gI(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new _e(ct.fromString(e)),r=t.fu.next();t.Au.set(r,new fJ(n)),t.du=t.du.insert(n,r),j4(t.remoteStore,new ia(yi(WA(n.path)),r,"TargetPurposeLimboResolution",pi.ce))}}async function xp(t,e,n){const r=Ue(t),i=[],o=[],s=[];r.Tu.isEmpty()||(r.Tu.forEach(((u,c)=>{s.push(r.pu(c,e,n).then((d=>{var h;if((d||n)&&r.isPrimaryClient){const m=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(d){i.push(d);const m=aI.As(c.targetId,d);o.push(m)}})))})),await Promise.all(s),r.Pu.H_(i),await(async function(c,d){const h=Ue(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",(m=>J.forEach(d,(_=>J.forEach(_.Es,(S=>h.persistence.referenceDelegate.addReference(m,_.targetId,S))).next((()=>J.forEach(_.ds,(S=>h.persistence.referenceDelegate.removeReference(m,_.targetId,S)))))))))}catch(m){if(!Gs(m))throw m;pe(sI,"Failed to update sequence numbers: "+m)}for(const m of d){const _=m.targetId;if(!m.fromCache){const S=h.Ms.get(_),w=S.snapshotVersion,A=S.withLastLimboFreeSnapshotVersion(w);h.Ms=h.Ms.insert(_,A)}}})(r.localStore,o))}async function bJ(t,e){const n=Ue(t);if(!n.currentUser.isEqual(e)){pe(mI,"User change. New user:",e.toKey());const r=await H4(n.localStore,e);n.currentUser=e,(function(o,s){o.mu.forEach((u=>{u.forEach((c=>{c.reject(new ye(se.CANCELLED,s))}))})),o.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await xp(n,r.Ls)}}function wJ(t,e){const n=Ue(t),r=n.Au.get(e);if(r&&r.hu)return Ye().add(r.key);{let i=Ye();const o=n.Iu.get(e);if(!o)return i;for(const s of o){const u=n.Tu.get(s);i=i.unionWith(u.view.nu)}return i}}function lq(t){const e=Ue(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=iq.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=wJ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_J.bind(null,e),e.Pu.H_=aJ.bind(null,e.eventManager),e.Pu.yu=sJ.bind(null,e.eventManager),e}function uq(t){const e=Ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=EJ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=TJ.bind(null,e),e}class Qh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=y_(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return G4(this.persistence,new z4,e.initialUser,this.serializer)}Cu(e){return new iI(g_.mi,this.serializer)}Du(e){return new K4}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Qh.provider={build:()=>new Qh};class AJ extends Qh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Re(this.persistence.referenceDelegate instanceof Hy,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new V4(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?tr.withCacheSize(this.cacheSizeBytes):tr.DEFAULT;return new iI((r=>Hy.mi(r,n)),this.serializer)}}class IJ extends Qh{constructor(e,n,r){super(),this.xu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await uq(this.xu.syncEngine),await Pp(this.xu.remoteStore),await this.persistence.Ji((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return G4(this.persistence,new z4,e.initialUser,this.serializer)}Fu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new V4(r,e.asyncQueue,n)}Mu(e,n){const r=new RY(n,this.persistence);return new CY(e.asyncQueue,r)}Cu(e){const n=bj(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?tr.withCacheSize(this.cacheSizeBytes):tr.DEFAULT;return new oI(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,Uj(),py(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new K4}}class Ky{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>GN(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=bJ.bind(null,this.syncEngine),await tJ(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new rJ})()}createDatastore(e){const n=y_(e.databaseInfo.databaseId),r=(function(o){return new Vj(o)})(e.databaseInfo);return(function(o,s,u,c){return new zj(o,s,u,c)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,o,s,u){return new Hj(r,i,o,s,u)})(this.localStore,this.datastore,e.asyncQueue,(n=>GN(this.syncEngine,n,0)),(function(){return VN.v()?new VN:new Dj})())}createSyncEngine(e,n){return(function(i,o,s,u,c,d,h){const m=new dJ(i,o,s,u,c,d);return h&&(m.gu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const o=Ue(i);pe(lu,"RemoteStore shutting down."),o.Ea.add(5),await Rp(o),o.Aa.shutdown(),o.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Ky.provider={build:()=>new Ky};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CJ{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):sr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks="FirestoreClient";class RJ{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Jn.UNAUTHENTICATED,this.clientId=VA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async s=>{pe(ks,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,(s=>(pe(ks,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new la;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=hI(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function VT(t,e){t.asyncQueue.verifyOperationInProgress(),pe(ks,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await H4(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function $N(t,e){t.asyncQueue.verifyOperationInProgress();const n=await PJ(t);pe(ks,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>FN(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>FN(e.remoteStore,i))),t._onlineComponents=e}async function PJ(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){pe(ks,"Using user provided OfflineComponentProvider");try{await VT(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(i){return i.name==="FirebaseError"?i.code===se.FAILED_PRECONDITION||i.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(n))throw n;nu("Error using user provided cache. Falling back to memory cache: "+n),await VT(t,new Qh)}}else pe(ks,"Using default OfflineComponentProvider"),await VT(t,new AJ(void 0));return t._offlineComponents}async function cq(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(pe(ks,"Using user provided OnlineComponentProvider"),await $N(t,t._uninitializedComponentsProvider._online)):(pe(ks,"Using default OnlineComponentProvider"),await $N(t,new Ky))),t._onlineComponents}function xJ(t){return cq(t).then((e=>e.syncEngine))}async function MJ(t){const e=await cq(t),n=e.eventManager;return n.onListen=hJ.bind(null,e.syncEngine),n.onUnlisten=gJ.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=pJ.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=yJ.bind(null,e.syncEngine),n}function NJ(t,e,n={}){const r=new la;return t.asyncQueue.enqueueAndForget((async()=>(function(o,s,u,c,d){const h=new CJ({next:_=>{h.Nu(),s.enqueueAndForget((()=>oJ(o,m))),_.fromCache&&c.source==="server"?d.reject(new ye(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(_)},error:_=>d.reject(_)}),m=new lJ(u,h,{includeMetadataChanges:!0,qa:!0});return iJ(o,m)})(await MJ(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fq(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dq="firestore.googleapis.com",YN=!0;class WN{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ye(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=dq,this.ssl=YN}else this.host=e.host,this.ssl=e.ssl??YN;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=D4;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<aj)throw new ye(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}bY("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fq(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ye(se.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ye(se.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ye(se.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class __{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new WN({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ye(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ye(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new WN(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new hY;switch(r.type){case"firstParty":return new yY(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ye(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=KN.get(n);r&&(pe("ComponentProvider","Removing Datastore"),KN.delete(n),r.terminate())})(this),Promise.resolve()}}function DJ(t,e,n,r={}){var d;t=Jc(t,__);const i=Ef(e),o=t._getSettings(),s={...o,emulatorOptions:t._getEmulatorOptions()},u=`${e}:${n}`;i&&(YV(`https://${u}`),WV("Firestore",!0)),o.host!==dq&&o.host!==u&&nu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...o,host:u,ssl:i,emulatorOptions:r};if(!Hc(c,s)&&(t._setSettings(c),r.mockUserToken)){let h,m;if(typeof r.mockUserToken=="string")h=r.mockUserToken,m=Jn.MOCK_USER;else{h=DH(r.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new ye(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Jn(_)}t._authCredentials=new pY(new _F(h,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new _u(this.firestore,e,this._query)}}class Un{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Cs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Un(this.firestore,e,this._key)}toJSON(){return{type:Un._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(bp(n,Un._jsonSchema))return new Un(e,r||null,new _e(ct.fromString(n.referencePath)))}}Un._jsonSchemaVersion="firestore/documentReference/1.0",Un._jsonSchema={type:En("string",Un._jsonSchemaVersion),referencePath:En("string")};class Cs extends _u{constructor(e,n,r){super(e,n,WA(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Un(this.firestore,null,new _e(e))}withConverter(e){return new Cs(this.firestore,e,this._path)}}function hq(t,e,...n){if(t=We(t),TF("collection","path",e),t instanceof __){const r=ct.fromString(e,...n);return UM(r),new Cs(t,null,r)}{if(!(t instanceof Un||t instanceof Cs))throw new ye(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ct.fromString(e,...n));return UM(r),new Cs(t.firestore,null,r)}}function pq(t,e,...n){if(t=We(t),arguments.length===1&&(e=VA.newId()),TF("doc","path",e),t instanceof __){const r=ct.fromString(e,...n);return VM(r),new Un(t,null,new _e(r))}{if(!(t instanceof Un||t instanceof Cs))throw new ye(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ct.fromString(e,...n));return VM(r),new Un(t.firestore,t instanceof Cs?t.converter:null,new _e(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jN="AsyncQueue";class JN{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Y4(this,"async_queue_retry"),this._c=()=>{const r=py();r&&pe(jN,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=py();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=py();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new la;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Gs(e))throw e;pe(jN,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,sr("INTERNAL UNHANDLED ERROR: ",XN(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=dI.createAndSchedule(this,e,n,r,(o=>this.hc(o)));return this.tc.push(i),i}uc(){this.nc&&Ae(47125,{Pc:XN(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function XN(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Mp extends __{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new JN,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new JN(e),this._firestoreClient=void 0,await e}}}function OJ(t,e){const n=typeof t=="object"?t:lU(),r=typeof t=="string"?t:Ly,i=dA(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=xH("firestore");o&&DJ(i,...o)}return i}function mq(t){if(t._terminated)throw new ye(se.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||gq(t),t._firestoreClient}function gq(t){var r,i,o;const e=t._freezeSettings(),n=(function(u,c,d,h){return new rW(u,c,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,fq(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new RJ(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&(function(u){const c=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(c),_online:c}})(t._componentsProvider))}function kJ(t,e){nu("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return LJ(t,Ky.provider,{build:r=>new IJ(r,n.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}function LJ(t,e,n){if((t=Jc(t,Mp))._firestoreClient||t._terminated)throw new ye(se.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new ye(se.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},gq(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new hi(bn.fromBase64String(e))}catch(n){throw new ye(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new hi(bn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:hi._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(bp(e,hi._jsonSchema))return hi.fromBase64String(e.bytes)}}hi._jsonSchemaVersion="firestore/bytes/1.0",hi._jsonSchema={type:En("string",hi._jsonSchemaVersion),bytes:En("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ye(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yq{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ye(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ye(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Le(this._lat,e._lat)||Le(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ro._jsonSchemaVersion}}static fromJSON(e){if(bp(e,Ro._jsonSchema))return new Ro(e.latitude,e.longitude)}}Ro._jsonSchemaVersion="firestore/geoPoint/1.0",Ro._jsonSchema={type:En("string",Ro._jsonSchemaVersion),latitude:En("number"),longitude:En("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Po._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(bp(e,Po._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Po(e.vectorValues);throw new ye(se.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Po._jsonSchemaVersion="firestore/vectorValue/1.0",Po._jsonSchema={type:En("string",Po._jsonSchemaVersion),vectorValues:En("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VJ=/^__.*__$/;class UJ{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Hs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Cf(e,this.data,n,this.fieldTransforms)}}function vq(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{Ac:t})}}class vI{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new vI({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Yy(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(vq(this.Ac)&&VJ.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class FJ{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||y_(e)}Cc(e,n,r,i=!1){return new vI({Ac:e,methodName:n,Dc:r,path:Bt.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _q(t){const e=t._freezeSettings(),n=y_(t._databaseId);return new FJ(t._databaseId,!!e.ignoreUndefinedProperties,n)}function qJ(t,e,n,r,i,o={}){const s=t.Cc(o.merge||o.mergeFields?2:0,e,n,i);Sq("Data must be an object, but it was:",s,r);const u=Eq(r,s);let c,d;if(o.merge)c=new mi(s.fieldMask),d=s.fieldTransforms;else if(o.mergeFields){const h=[];for(const m of o.mergeFields){const _=zJ(e,m,n);if(!s.contains(_))throw new ye(se.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);HJ(h,_)||h.push(_)}c=new mi(h),d=s.fieldTransforms.filter((m=>c.covers(m.field)))}else c=null,d=s.fieldTransforms;return new UJ(new Tr(u),c,d)}function BJ(t,e,n,r=!1){return _I(n,t.Cc(r?4:3,e))}function _I(t,e){if(Tq(t=We(t)))return Sq("Unsupported field value:",e,t),Eq(t,e);if(t instanceof yq)return(function(r,i){if(!vq(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const o=[];let s=0;for(const u of r){let c=_I(u,i.wc(s));c==null&&(c={nullValue:"NULL_VALUE"}),o.push(c),s++}return{arrayValue:{values:o}}})(t,e)}return(function(r,i){if((r=We(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return bW(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=gt.fromDate(r);return{timestampValue:lf(i.serializer,o)}}if(r instanceof gt){const o=new gt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:lf(i.serializer,o)}}if(r instanceof Ro)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof hi)return{bytesValue:y4(i.serializer,r._byteString)};if(r instanceof Un){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Sc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:eI(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Po)return(function(s,u){return{mapValue:{fields:{[$A]:{stringValue:KA},[tf]:{arrayValue:{values:s.toArray().map((d=>{if(typeof d!="number")throw u.Sc("VectorValues must only contain numeric values.");return jA(u.serializer,d)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${t_(r)}`)})(t,e)}function Eq(t,e){const n={};return VF(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):yu(t,((r,i)=>{const o=_I(i,e.mc(r));o!=null&&(n[r]=o)})),{mapValue:{fields:n}}}function Tq(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof gt||t instanceof Ro||t instanceof hi||t instanceof Un||t instanceof yq||t instanceof Po)}function Sq(t,e,n){if(!Tq(n)||!SF(n)){const r=t_(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function zJ(t,e,n){if((e=We(e))instanceof yI)return e._internalPath;if(typeof e=="string")return bq(t,e);throw Yy("Field path arguments must be of type string or ",t,!1,void 0,n)}const GJ=new RegExp("[~\\*/\\[\\]]");function bq(t,e,n){if(e.search(GJ)>=0)throw Yy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new yI(...e.split("."))._internalPath}catch{throw Yy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Yy(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let u=`Function ${e}() called with invalid data`;n&&(u+=" (via `toFirestore()`)"),u+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new ye(se.INVALID_ARGUMENT,u+t+c)}function HJ(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wq{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Un(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $J(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(E_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class $J extends wq{data(){return super.data()}}function E_(t,e){return typeof e=="string"?bq(t,e):e instanceof yI?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KJ(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ye(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class EI{}class Aq extends EI{}function YJ(t,e,...n){let r=[];e instanceof EI&&r.push(e),r=r.concat(n),(function(o){const s=o.filter((c=>c instanceof TI)).length,u=o.filter((c=>c instanceof T_)).length;if(s>1||s>0&&u>0)throw new ye(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class T_ extends Aq{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new T_(e,n,r)}_apply(e){const n=this._parse(e);return Iq(e._query,n),new _u(e.firestore,e.converter,zb(e._query,n))}_parse(e){const n=_q(e.firestore);return(function(o,s,u,c,d,h,m){let _;if(d.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new ye(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){eD(m,h);const w=[];for(const A of m)w.push(ZN(c,o,A));_={arrayValue:{values:w}}}else _=ZN(c,o,m)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||eD(m,h),_=BJ(u,s,m,h==="in"||h==="not-in");return tt.create(d,h,_)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function WJ(t,e,n){const r=e,i=E_("where",t);return T_._create(i,r,n)}class TI extends EI{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new TI(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:yt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,o){let s=i;const u=o.getFlattenedFilters();for(const c of u)Iq(s,c),s=zb(s,c)})(e._query,n),new _u(e.firestore,e.converter,zb(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class SI extends Aq{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new SI(e,n)}_apply(e){const n=(function(i,o,s){if(i.startAt!==null)throw new ye(se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ye(se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new jh(o,s)})(e._query,this._field,this._direction);return new _u(e.firestore,e.converter,(function(i,o){const s=i.explicitOrderBy.concat([o]);return new If(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function QN(t,e="asc"){const n=e,r=E_("orderBy",t);return SI._create(r,n)}function ZN(t,e,n){if(typeof(n=We(n))=="string"){if(n==="")throw new ye(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!e4(e)&&n.indexOf("/")!==-1)throw new ye(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ct.fromString(n));if(!_e.isDocumentKey(r))throw new ye(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Yh(t,new _e(r))}if(n instanceof Un)return Yh(t,n._key);throw new ye(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${t_(n)}.`)}function eD(t,e){if(!Array.isArray(t)||t.length===0)throw new ye(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Iq(t,e){const n=(function(i,o){for(const s of i)for(const u of s.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ye(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ye(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class jJ{convertValue(e,n="none"){switch(Ns(e)){case 0:return null;case 1:return e.booleanValue;case 2:return kt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(pa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return yu(e,((i,o)=>{r[i]=this.convertValue(o,n)})),r}convertVectorValue(e){var r,i,o;const n=(o=(i=(r=e.fields)==null?void 0:r[tf].arrayValue)==null?void 0:i.values)==null?void 0:o.map((s=>kt(s.doubleValue)));return new Po(n)}convertGeoPoint(e){return new Ro(kt(e.latitude),kt(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=s_(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp($h(e));default:return null}}convertTimestamp(e){const n=ha(e);return new gt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ct.fromString(e);Re(C4(r),9688,{name:e});const i=new ru(r.get(1),r.get(3)),o=new _e(r.popFirst(5));return i.isEqual(n)||sr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JJ(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Vg{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Vc extends wq{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new my(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(E_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(se.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Vc._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Vc._jsonSchemaVersion="firestore/documentSnapshot/1.0",Vc._jsonSchema={type:En("string",Vc._jsonSchemaVersion),bundleSource:En("string","DocumentSnapshot"),bundleName:En("string"),bundle:En("string")};class my extends Vc{data(e={}){return super.data(e)}}class Uc{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Vg(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new my(this._firestore,this._userDataWriter,r.key,r,new Vg(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ye(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map((u=>{const c=new my(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Vg(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((u=>o||u.type!==3)).map((u=>{const c=new my(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Vg(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,h=-1;return u.type!==0&&(d=s.indexOf(u.doc.key),s=s.delete(u.doc.key)),u.type!==1&&(s=s.add(u.doc),h=s.indexOf(u.doc.key)),{type:XJ(u.type),doc:c,oldIndex:d,newIndex:h}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ye(se.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Uc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=VA.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach((o=>{o._document!==null&&(n.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function XJ(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:t})}}Uc._jsonSchemaVersion="firestore/querySnapshot/1.0",Uc._jsonSchema={type:En("string",Uc._jsonSchemaVersion),bundleSource:En("string","QuerySnapshot"),bundleName:En("string"),bundle:En("string")};class QJ extends jJ{constructor(e){super(),this.firestore=e}convertBytes(e){return new hi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Un(this.firestore,null,n)}}function ZJ(t){t=Jc(t,_u);const e=Jc(t.firestore,Mp),n=mq(e),r=new QJ(e);return KJ(t._query),NJ(n,t._query).then((i=>new Uc(e,r,t,i)))}function eX(t){return Cq(Jc(t.firestore,Mp),[new d_(t._key,Sr.none())])}function tX(t,e){const n=Jc(t.firestore,Mp),r=pq(t),i=JJ(t.converter,e);return Cq(n,[qJ(_q(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Sr.exists(!1))]).then((()=>r))}function Cq(t,e){return(function(r,i){const o=new la;return r.asyncQueue.enqueueAndForget((async()=>vJ(await xJ(r),i,o))),o.promise})(mq(t),e)}(function(e,n=!0){(function(i){Af=i})(Bs),Ms(new ca("firestore",((r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),u=new Mp(new mY(r.getProvider("auth-internal")),new vY(s,r.getProvider("app-check-internal")),(function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new ye(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ru(d.options.projectId,h)})(s,i),s);return o={useFetchStreams:n,...o},u._setSettings(o),u}),"PUBLIC").setMultipleInstances(!0)),Hi(DM,OM,e),Hi(DM,OM,"esm2020")})();const nX={apiKey:"AIzaSyCVTTfur5Mwx1NeEjPBG72AcTtmzQ9sKEo",authDomain:"ngwe-mat-su.firebaseapp.com",projectId:"ngwe-mat-su",storageBucket:"ngwe-mat-su.firebasestorage.app",messagingSenderId:"797196313318",appId:"1:797196313318:web:c7dcadbb17ec78d297d127",measurementId:"G-13Y9LSFNPM"},rX=pu.initializeApp(nX),bI=pu.auth(),S_=OJ(rX),iX=new pu.auth.GoogleAuthProvider;try{kJ(S_).catch(t=>{t.code=="failed-precondition"?console.warn("Multiple tabs open, persistence can only be enabled in one tab at a a time."):t.code=="unimplemented"&&console.warn("The current browser does not support all of the features required to enable persistence")})}catch{}const oX=async()=>{try{await bI.signInWithPopup(iX)}catch(t){throw console.error("Error signing in",t),t}},aX=async()=>{await bI.signOut()},wI="transactions",sX=async t=>{try{return{id:(await tX(hq(S_,wI),t)).id,...t}}catch(e){throw console.error("Error adding transaction:",e),e}},lX=async t=>{try{const e=YJ(hq(S_,wI),WJ("userId","==",t),QN("date","desc"),QN("createdAt","desc")),n=await ZJ(e),r=[];return n.forEach(i=>{r.push({id:i.id,...i.data()})}),r}catch(e){throw console.error("Error fetching transactions:",e),e}},uX=async t=>{try{await eX(pq(S_,wI,t))}catch(e){throw console.error("Error deleting transaction:",e),e}},Wy={expense:[{id:"food",label:{en:"Food & Dining",mm:""},icon:"Utensils"},{id:"transport",label:{en:"Transport",mm:""},icon:"Bus"},{id:"shopping",label:{en:"Shopping",mm:""},icon:"ShoppingBag"},{id:"bills",label:{en:"Bills & Utilities",mm:"/"},icon:"Zap"},{id:"health",label:{en:"Health",mm:""},icon:"HeartPulse"},{id:"others",label:{en:"Others",mm:""},icon:"MoreHorizontal"}],income:[{id:"salary",label:{en:"Salary",mm:""},icon:"Banknote"},{id:"business",label:{en:"Business",mm:""},icon:"Briefcase"},{id:"gift",label:{en:"Gift",mm:""},icon:"Gift"},{id:"others",label:{en:"Others",mm:""},icon:"MoreHorizontal"}]},ta={en:{greetingMorning:"Good Morning",greetingAfternoon:"Good Afternoon",greetingEvening:"Good Evening",totalBalance:"Total Balance",income:"Income",expense:"Expense",recentTransactions:"Recent Transactions",seeAll:"See All",addTransaction:"Add Transaction",dashboard:"Dashboard",list:"Transactions",settings:"Settings",language:"Language",darkMode:"Dark Mode",signOut:"Sign Out",loginGoogle:"Sign in with Google",processing:"Processing AI...",listening:"Listening...",save:"Save",cancel:"Cancel",description:"Description",amount:"Amount",date:"Date",note:"Note (Optional)",budgetHealth:"Budget Health",exportCsv:"Export CSV",confirmDelete:"Delete this transaction?",all:"All"},mm:{greetingMorning:"",greetingAfternoon:"",greetingEvening:"",totalBalance:"",income:"",expense:"",recentTransactions:" ",seeAll:"",addTransaction:"",dashboard:"",list:"",settings:"",language:"",darkMode:"",signOut:"",loginGoogle:"Google  ",processing:"AI ...",listening:"...",save:"",cancel:"",description:"",amount:"",date:"",note:" ()",budgetHealth:" ",exportCsv:"CSV ",confirmDelete:" ?",all:""}},cX=()=>{const t=async()=>{try{await oX()}catch(e){console.error("Login failed",e),alert("Failed to sign in. Please try again.")}};return j.jsxs("div",{className:"relative h-screen w-full flex flex-col bg-emerald-900 overflow-hidden font-sans",children:[j.jsxs("div",{className:"h-[65%] w-full bg-gradient-to-br from-emerald-600 to-emerald-900 flex items-center justify-center relative",children:[j.jsx("div",{className:"absolute top-1/4 left-1/4 w-72 h-72 bg-emerald-400/20 rounded-full blur-[80px] pointer-events-none"}),j.jsx("div",{className:"absolute bottom-1/3 right-1/4 w-64 h-64 bg-teal-300/10 rounded-full blur-[60px] pointer-events-none"}),j.jsx("div",{className:"relative z-10 animate-fade-in-up",children:j.jsxs("div",{className:"w-32 h-32 rounded-[2rem] bg-white/10 backdrop-blur-xl border border-white/20 shadow-[0_0_50px_rgba(16,185,129,0.3)] p-5 flex items-center justify-center relative overflow-hidden group",children:[j.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent opacity-50 group-hover:opacity-75 transition-opacity"}),j.jsx("img",{src:"./app_logo.jpg",alt:"Ngwe Mat Su Logo",className:"w-full h-full object-cover rounded-xl shadow-lg drop-shadow-md relative z-10"})]})})]}),j.jsxs("div",{className:"h-[35%] w-full bg-white rounded-t-[3rem] shadow-[0_-20px_60px_rgba(0,0,0,0.3)] flex flex-col items-center pt-12 px-8 relative z-20 animate-slide-up",children:[j.jsxs("div",{className:"text-center w-full",children:[j.jsx("h2",{className:"text-emerald-600 font-semibold text-lg tracking-wide mb-1",children:"Mingalarpar"}),j.jsx("h1",{className:"text-3xl font-bold text-slate-900 tracking-tight",children:"Ngwe Mat Su"}),j.jsx("p",{className:"text-slate-400 text-sm mt-2 font-medium",children:"Smart Voice Expense Tracker"})]}),j.jsx("div",{className:"mt-auto mb-8 w-full max-w-sm",children:j.jsxs("button",{onClick:t,className:"w-full bg-slate-900 hover:bg-slate-800 active:scale-95 text-white font-bold text-lg h-14 rounded-full shadow-2xl shadow-slate-900/30 transition-all flex items-center justify-center gap-3",children:[j.jsx("img",{src:"https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg",alt:"Google",className:"w-6 h-6"}),j.jsx("span",{children:"Sign in with Google"})]})})]})]})};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fX=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),dX=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),tD=t=>{const e=dX(t);return e.charAt(0).toUpperCase()+e.slice(1)},Rq=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),hX=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var pX={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mX=N.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:s,...u},c)=>N.createElement("svg",{ref:c,...pX,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Rq("lucide",i),...!o&&!hX(u)&&{"aria-hidden":"true"},...u},[...s.map(([d,h])=>N.createElement(d,h)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=(t,e)=>{const n=N.forwardRef(({className:r,...i},o)=>N.createElement(mX,{ref:o,iconNode:e,className:Rq(`lucide-${fX(tD(t))}`,`lucide-${t}`,r),...i}));return n.displayName=tD(t),n};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gX=[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]],yX=Xt("arrow-down-left",gX);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vX=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],_X=Xt("arrow-up-right",vX);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EX=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],TX=Xt("calendar",EX);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SX=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],bX=Xt("check",SX);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],AX=Xt("circle-alert",wX);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IX=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],CX=Xt("download",IX);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RX=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],PX=Xt("funnel",RX);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xX=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],MX=Xt("globe",xX);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NX=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],DX=Xt("house",NX);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OX=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],kX=Xt("list",OX);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LX=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],VX=Xt("loader-circle",LX);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UX=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],FX=Xt("log-out",UX);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qX=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],BX=Xt("mic",qX);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zX=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],GX=Xt("moon",zX);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HX=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],$X=Xt("plus",HX);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KX=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],YX=Xt("settings",KX);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WX=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],jX=Xt("sun",WX);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JX=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],XX=Xt("trash-2",JX);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QX=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],ZX=Xt("trending-down",QX);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eQ=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],tQ=Xt("trending-up",eQ);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nQ=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],nD=Xt("wallet",nQ);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rQ=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],iQ=Xt("x",rQ),oQ=({children:t,activeTab:e,setActiveTab:n,onOpenAdd:r,lang:i})=>{const o=ta[i];return j.jsxs("div",{className:"max-w-md mx-auto min-h-screen bg-gray-50 dark:bg-gray-900 relative shadow-2xl overflow-hidden flex flex-col",children:[j.jsx("main",{className:"flex-1 p-4 overflow-y-auto scrollbar-hide",children:t}),j.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-white dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 pb-safe pt-2 px-6",children:j.jsxs("div",{className:"flex justify-between items-center h-16",children:[j.jsxs("button",{onClick:()=>n("dashboard"),className:`flex flex-col items-center gap-1 w-16 transition-colors ${e==="dashboard"?"text-primary":"text-gray-400"}`,children:[j.jsx(DX,{size:24,strokeWidth:e==="dashboard"?2.5:2}),j.jsx("span",{className:"text-[10px] font-medium",children:o.dashboard})]}),j.jsxs("button",{onClick:()=>n("list"),className:`flex flex-col items-center gap-1 w-16 transition-colors ${e==="list"?"text-primary":"text-gray-400"}`,children:[j.jsx(kX,{size:24,strokeWidth:e==="list"?2.5:2}),j.jsx("span",{className:"text-[10px] font-medium",children:o.list})]}),j.jsx("div",{className:"w-16"}),j.jsxs("button",{onClick:()=>n("settings"),className:`flex flex-col items-center gap-1 w-16 transition-colors ${e==="settings"?"text-primary":"text-gray-400"}`,children:[j.jsx(YX,{size:24,strokeWidth:e==="settings"?2.5:2}),j.jsx("span",{className:"text-[10px] font-medium",children:o.settings})]})]})}),j.jsx("div",{className:"absolute bottom-6 left-1/2 transform -translate-x-1/2",children:j.jsx("button",{onClick:r,className:"bg-primary hover:bg-primary-dark text-white rounded-full p-4 shadow-lg shadow-primary/40 transition-transform active:scale-95 hover:-translate-y-1",children:j.jsx($X,{size:32})})})]})};function Pq(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Pq(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function an(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Pq(t))&&(r&&(r+=" "),r+=e);return r}var aQ=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function AI(t){if(typeof t!="string")return!1;var e=aQ;return e.includes(t)}var sQ=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],lQ=new Set(sQ);function xq(t){return typeof t!="string"?!1:lQ.has(t)}function Mq(t){return typeof t=="string"&&t.startsWith("data-")}function cf(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(xq(n)||Mq(n))&&(e[n]=t[n]);return e}function tw(t){if(t==null)return null;if(N.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return cf(e)}return typeof t=="object"&&!Array.isArray(t)?cf(t):null}function Ei(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(xq(n)||Mq(n)||AI(n))&&(e[n]=t[n]);return e}var uQ=["children","width","height","viewBox","className","style","title","desc"];function nw(){return nw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nw.apply(null,arguments)}function cQ(t,e){if(t==null)return{};var n,r,i=fQ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function fQ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var II=N.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:o,className:s,style:u,title:c,desc:d}=t,h=cQ(t,uQ),m=o||{width:r,height:i,x:0,y:0},_=an("recharts-surface",s);return N.createElement("svg",nw({},Ei(h),{className:_,width:r,height:i,style:u,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:e}),N.createElement("title",null,c),N.createElement("desc",null,d),n)}),dQ=["children","className"];function rw(){return rw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rw.apply(null,arguments)}function hQ(t,e){if(t==null)return{};var n,r,i=pQ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function pQ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Ls=N.forwardRef((t,e)=>{var{children:n,className:r}=t,i=hQ(t,dQ),o=an("recharts-layer",r);return N.createElement("g",rw({className:o},Ei(i),{ref:e}),n)}),CI=HV(),Nq=N.createContext(null),mQ=()=>N.useContext(Nq);function It(t){return function(){return t}}const Dq=Math.cos,jy=Math.sin,Wi=Math.sqrt,Jy=Math.PI,b_=2*Jy,iw=Math.PI,ow=2*iw,Ml=1e-6,gQ=ow-Ml;function Oq(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function yQ(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Oq;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class vQ{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Oq:yQ(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+s}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let s=this._x1,u=this._y1,c=r-e,d=i-n,h=s-e,m=u-n,_=h*h+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(_>Ml)if(!(Math.abs(m*c-d*h)>Ml)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let S=r-s,w=i-u,A=c*c+d*d,C=S*S+w*w,M=Math.sqrt(A),U=Math.sqrt(_),L=o*Math.tan((iw-Math.acos((A+_-C)/(2*M*U)))/2),H=L/U,z=L/M;Math.abs(H-1)>Ml&&this._append`L${e+H*h},${n+H*m}`,this._append`A${o},${o},0,0,${+(m*S>h*w)},${this._x1=e+z*c},${this._y1=n+z*d}`}}arc(e,n,r,i,o,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),c=r*Math.sin(i),d=e+u,h=n+c,m=1^s,_=s?i-o:o-i;this._x1===null?this._append`M${d},${h}`:(Math.abs(this._x1-d)>Ml||Math.abs(this._y1-h)>Ml)&&this._append`L${d},${h}`,r&&(_<0&&(_=_%ow+ow),_>gQ?this._append`A${r},${r},0,1,${m},${e-u},${n-c}A${r},${r},0,1,${m},${this._x1=d},${this._y1=h}`:_>Ml&&this._append`A${r},${r},0,${+(_>=iw)},${m},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function RI(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new vQ(e)}function PI(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function kq(t){this._context=t}kq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function w_(t){return new kq(t)}function Lq(t){return t[0]}function Vq(t){return t[1]}function Uq(t,e){var n=It(!0),r=null,i=w_,o=null,s=RI(u);t=typeof t=="function"?t:t===void 0?Lq:It(t),e=typeof e=="function"?e:e===void 0?Vq:It(e);function u(c){var d,h=(c=PI(c)).length,m,_=!1,S;for(r==null&&(o=i(S=s())),d=0;d<=h;++d)!(d<h&&n(m=c[d],d,c))===_&&((_=!_)?o.lineStart():o.lineEnd()),_&&o.point(+t(m,d,c),+e(m,d,c));if(S)return o=null,S+""||null}return u.x=function(c){return arguments.length?(t=typeof c=="function"?c:It(+c),u):t},u.y=function(c){return arguments.length?(e=typeof c=="function"?c:It(+c),u):e},u.defined=function(c){return arguments.length?(n=typeof c=="function"?c:It(!!c),u):n},u.curve=function(c){return arguments.length?(i=c,r!=null&&(o=i(r)),u):i},u.context=function(c){return arguments.length?(c==null?r=o=null:o=i(r=c),u):r},u}function Ug(t,e,n){var r=null,i=It(!0),o=null,s=w_,u=null,c=RI(d);t=typeof t=="function"?t:t===void 0?Lq:It(+t),e=typeof e=="function"?e:It(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?Vq:It(+n);function d(m){var _,S,w,A=(m=PI(m)).length,C,M=!1,U,L=new Array(A),H=new Array(A);for(o==null&&(u=s(U=c())),_=0;_<=A;++_){if(!(_<A&&i(C=m[_],_,m))===M)if(M=!M)S=_,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),w=_-1;w>=S;--w)u.point(L[w],H[w]);u.lineEnd(),u.areaEnd()}M&&(L[_]=+t(C,_,m),H[_]=+e(C,_,m),u.point(r?+r(C,_,m):L[_],n?+n(C,_,m):H[_]))}if(U)return u=null,U+""||null}function h(){return Uq().defined(i).curve(s).context(o)}return d.x=function(m){return arguments.length?(t=typeof m=="function"?m:It(+m),r=null,d):t},d.x0=function(m){return arguments.length?(t=typeof m=="function"?m:It(+m),d):t},d.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:It(+m),d):r},d.y=function(m){return arguments.length?(e=typeof m=="function"?m:It(+m),n=null,d):e},d.y0=function(m){return arguments.length?(e=typeof m=="function"?m:It(+m),d):e},d.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:It(+m),d):n},d.lineX0=d.lineY0=function(){return h().x(t).y(e)},d.lineY1=function(){return h().x(t).y(n)},d.lineX1=function(){return h().x(r).y(e)},d.defined=function(m){return arguments.length?(i=typeof m=="function"?m:It(!!m),d):i},d.curve=function(m){return arguments.length?(s=m,o!=null&&(u=s(o)),d):s},d.context=function(m){return arguments.length?(m==null?o=u=null:u=s(o=m),d):o},d}class Fq{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function _Q(t){return new Fq(t,!0)}function EQ(t){return new Fq(t,!1)}const xI={draw(t,e){const n=Wi(e/Jy);t.moveTo(n,0),t.arc(0,0,n,0,b_)}},TQ={draw(t,e){const n=Wi(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},qq=Wi(1/3),SQ=qq*2,bQ={draw(t,e){const n=Wi(e/SQ),r=n*qq;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},wQ={draw(t,e){const n=Wi(e),r=-n/2;t.rect(r,r,n,n)}},AQ=.8908130915292852,Bq=jy(Jy/10)/jy(7*Jy/10),IQ=jy(b_/10)*Bq,CQ=-Dq(b_/10)*Bq,RQ={draw(t,e){const n=Wi(e*AQ),r=IQ*n,i=CQ*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const s=b_*o/5,u=Dq(s),c=jy(s);t.lineTo(c*n,-u*n),t.lineTo(u*r-c*i,c*r+u*i)}t.closePath()}},UT=Wi(3),PQ={draw(t,e){const n=-Wi(e/(UT*3));t.moveTo(0,n*2),t.lineTo(-UT*n,-n),t.lineTo(UT*n,-n),t.closePath()}},ui=-.5,ci=Wi(3)/2,aw=1/Wi(12),xQ=(aw/2+1)*3,MQ={draw(t,e){const n=Wi(e/xQ),r=n/2,i=n*aw,o=r,s=n*aw+n,u=-o,c=s;t.moveTo(r,i),t.lineTo(o,s),t.lineTo(u,c),t.lineTo(ui*r-ci*i,ci*r+ui*i),t.lineTo(ui*o-ci*s,ci*o+ui*s),t.lineTo(ui*u-ci*c,ci*u+ui*c),t.lineTo(ui*r+ci*i,ui*i-ci*r),t.lineTo(ui*o+ci*s,ui*s-ci*o),t.lineTo(ui*u+ci*c,ui*c-ci*u),t.closePath()}};function NQ(t,e){let n=null,r=RI(i);t=typeof t=="function"?t:It(t||xI),e=typeof e=="function"?e:It(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:It(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:It(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Xy(){}function Qy(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function zq(t){this._context=t}zq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Qy(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Qy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function DQ(t){return new zq(t)}function Gq(t){this._context=t}Gq.prototype={areaStart:Xy,areaEnd:Xy,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Qy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function OQ(t){return new Gq(t)}function Hq(t){this._context=t}Hq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Qy(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function kQ(t){return new Hq(t)}function $q(t){this._context=t}$q.prototype={areaStart:Xy,areaEnd:Xy,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function LQ(t){return new $q(t)}function rD(t){return t<0?-1:1}function iD(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),u=(o*i+s*r)/(r+i);return(rD(o)+rD(s))*Math.min(Math.abs(o),Math.abs(s),.5*Math.abs(u))||0}function oD(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function FT(t,e,n){var r=t._x0,i=t._y0,o=t._x1,s=t._y1,u=(o-r)/3;t._context.bezierCurveTo(r+u,i+u*e,o-u,s-u*n,o,s)}function Zy(t){this._context=t}Zy.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:FT(this,this._t0,oD(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,FT(this,oD(this,n=iD(this,t,e)),n);break;default:FT(this,this._t0,n=iD(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function Kq(t){this._context=new Yq(t)}(Kq.prototype=Object.create(Zy.prototype)).point=function(t,e){Zy.prototype.point.call(this,e,t)};function Yq(t){this._context=t}Yq.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function VQ(t){return new Zy(t)}function UQ(t){return new Kq(t)}function Wq(t){this._context=t}Wq.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=aD(t),i=aD(e),o=0,s=1;s<n;++o,++s)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function aD(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),s=new Array(n);for(i[0]=0,o[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function FQ(t){return new Wq(t)}function A_(t,e){this._context=t,this._t=e}A_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function qQ(t){return new A_(t,.5)}function BQ(t){return new A_(t,0)}function zQ(t){return new A_(t,1)}function ff(t,e){if((s=t.length)>1)for(var n=1,r,i,o=t[e[0]],s,u=o.length;n<s;++n)for(i=o,o=t[e[n]],r=0;r<u;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function sw(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function GQ(t,e){return t[e]}function HQ(t){const e=[];return e.key=t,e}function $Q(){var t=It([]),e=sw,n=ff,r=GQ;function i(o){var s=Array.from(t.apply(this,arguments),HQ),u,c=s.length,d=-1,h;for(const m of o)for(u=0,++d;u<c;++u)(s[u][d]=[0,+r(m,s[u].key,d,o)]).data=m;for(u=0,h=PI(e(s));u<c;++u)s[h[u]].index=u;return n(s,h),s}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:It(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:It(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?sw:typeof o=="function"?o:It(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??ff,i):n},i}function KQ(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,s;i<o;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}ff(t,e)}}function YQ(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var s=0,u=0;s<i;++s)u+=t[s][n][1]||0;r[n][1]+=r[n][0]=-u/2}ff(t,e)}}function WQ(t,e){if(!(!((s=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,s;r<o;++r){for(var u=0,c=0,d=0;u<s;++u){for(var h=t[e[u]],m=h[r][1]||0,_=h[r-1][1]||0,S=(m-_)/2,w=0;w<u;++w){var A=t[e[w]],C=A[r][1]||0,M=A[r-1][1]||0;S+=C-M}c+=m,d+=S*m}i[r-1][1]+=i[r-1][0]=n,c&&(n-=d/c)}i[r-1][1]+=i[r-1][0]=n,ff(t,e)}}var qT={},BT={},sD;function jQ(){return sD||(sD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(BT)),BT}var zT={},lD;function jq(){return lD||(lD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(zT)),zT}var GT={},uD;function MI(){return uD||(uD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(GT)),GT}var HT={},$T={},cD;function JQ(){return cD||(cD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})($T)),$T}var fD;function NI(){return fD||(fD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=JQ(),n=MI();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const o=[],s=i.length;if(s===0)return o;let u=0,c="",d="",h=!1;for(i.charCodeAt(0)===46&&(o.push(""),u++);u<s;){const m=i[u];d?m==="\\"&&u+1<s?(u++,c+=i[u]):m===d?d="":c+=m:h?m==='"'||m==="'"?d=m:m==="]"?(h=!1,o.push(c),c=""):c+=m:m==="["?(h=!0,c&&(o.push(c),c="")):m==="."?c&&(o.push(c),c=""):c+=m,u++}return c&&o.push(c),o}t.toPath=r})(HT)),HT}var dD;function DI(){return dD||(dD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jQ(),n=jq(),r=MI(),i=NI();function o(u,c,d){if(u==null)return d;switch(typeof c){case"string":{if(e.isUnsafeProperty(c))return d;const h=u[c];return h===void 0?n.isDeepKey(c)?o(u,i.toPath(c),d):d:h}case"number":case"symbol":{typeof c=="number"&&(c=r.toKey(c));const h=u[c];return h===void 0?d:h}default:{if(Array.isArray(c))return s(u,c,d);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),e.isUnsafeProperty(c))return d;const h=u[c];return h===void 0?d:h}}}function s(u,c,d){if(c.length===0)return d;let h=u;for(let m=0;m<c.length;m++){if(h==null||e.isUnsafeProperty(c[m]))return d;h=h[c[m]]}return h===void 0?d:h}t.get=o})(qT)),qT}var KT,hD;function XQ(){return hD||(hD=1,KT=DI().get),KT}var QQ=XQ();const Zh=Oo(QQ);var br=t=>t===0?0:t>0?1:-1,ma=t=>typeof t=="number"&&t!=+t,ga=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Ve=t=>(typeof t=="number"||t instanceof Number)&&!ma(t),ya=t=>Ve(t)||typeof t=="string",ZQ=0,ep=t=>{var e=++ZQ;return"".concat(t||"").concat(e)},$r=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ve(e)&&typeof e!="string")return r;var o;if(ga(e)){if(n==null)return r;var s=e.indexOf("%");o=n*parseFloat(e.slice(0,s))/100}else o=+e;return ma(o)&&(o=r),i&&n!=null&&o>n&&(o=n),o},Jq=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1};function Ui(t,e,n){return Ve(t)&&Ve(e)?t+n*(e-t):e}function eZ(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):Zh(r,e))===n)}var Wr=t=>t===null||typeof t>"u",Np=t=>Wr(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function tZ(t){return t!=null}function Dp(){}var nZ=["type","size","sizeType"];function lw(){return lw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lw.apply(null,arguments)}function pD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pD(Object(n),!0).forEach(function(r){rZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rZ(t,e,n){return(e=iZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function iZ(t){var e=oZ(t,"string");return typeof e=="symbol"?e:e+""}function oZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aZ(t,e){if(t==null)return{};var n,r,i=sZ(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function sZ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Xq={symbolCircle:xI,symbolCross:TQ,symbolDiamond:bQ,symbolSquare:wQ,symbolStar:RQ,symbolTriangle:PQ,symbolWye:MQ},lZ=Math.PI/180,uZ=t=>{var e="symbol".concat(Np(t));return Xq[e]||xI},cZ=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*lZ;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},fZ=(t,e)=>{Xq["symbol".concat(Np(t))]=e},OI=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=aZ(t,nZ),o=mD(mD({},i),{},{type:e,size:n,sizeType:r}),s="circle";typeof e=="string"&&(s=e);var u=()=>{var _=uZ(s),S=NQ().type(_).size(cZ(n,r,s)),w=S();if(w!==null)return w},{className:c,cx:d,cy:h}=o,m=Ei(o);return Ve(d)&&Ve(h)&&Ve(n)?N.createElement("path",lw({},m,{className:an("recharts-symbols",c),transform:"translate(".concat(d,", ").concat(h,")"),d:u()})):null};OI.registerSymbol=fZ;var Qq=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,dZ=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(N.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{AI(i)&&(r[i]=(o=>n[i](n,o)))}),r},hZ=(t,e,n)=>r=>(t(e,n,r),null),Zq=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var o=t[i];AI(i)&&typeof o=="function"&&(r||(r={}),r[i]=hZ(o,e,n))}),r};function gD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pZ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gD(Object(n),!0).forEach(function(r){mZ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mZ(t,e,n){return(e=gZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gZ(t){var e=yZ(t,"string");return typeof e=="symbol"?e:e+""}function yZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bi(t,e){var n=pZ({},t),r=e,i=Object.keys(e),o=i.reduce((s,u)=>(s[u]===void 0&&r[u]!==void 0&&(s[u]=r[u]),s),n);return o}function ev(){return ev=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ev.apply(null,arguments)}function yD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vZ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yD(Object(n),!0).forEach(function(r){_Z(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _Z(t,e,n){return(e=EZ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EZ(t){var e=TZ(t,"string");return typeof e=="symbol"?e:e+""}function TZ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var di=32,SZ={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function bZ(t){var{data:e,iconType:n,inactiveColor:r}=t,i=di/2,o=di/6,s=di/3,u=e.inactive?r:e.color,c=n??e.type;if(c==="none")return null;if(c==="plainline"){var d;return N.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:(d=e.payload)===null||d===void 0?void 0:d.strokeDasharray,x1:0,y1:i,x2:di,y2:i,className:"recharts-legend-icon"})}if(c==="line")return N.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(di,"M").concat(2*s,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(c==="rect")return N.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(di/8,"h").concat(di,"v").concat(di*3/4,"h").concat(-di,"z"),className:"recharts-legend-icon"});if(N.isValidElement(e.legendIcon)){var h=vZ({},e);return delete h.legendIcon,N.cloneElement(e.legendIcon,h)}return N.createElement(OI,{fill:u,cx:i,cy:i,size:di,sizeType:"diameter",type:c})}function wZ(t){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:o,iconType:s}=t,u={x:0,y:0,width:di,height:di},c={display:r==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((h,m)=>{var _=h.formatter||i,S=an({"recharts-legend-item":!0,["legend-item-".concat(m)]:!0,inactive:h.inactive});if(h.type==="none")return null;var w=h.inactive?o:h.color,A=_?_(h.value,h,m):h.value;return N.createElement("li",ev({className:S,style:c,key:"legend-item-".concat(m)},Zq(t,h,m)),N.createElement(II,{width:n,height:n,viewBox:u,style:d,"aria-label":"".concat(A," legend icon")},N.createElement(bZ,{data:h,iconType:s,inactiveColor:o})),N.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},A))})}var AZ=t=>{var e=bi(t,SZ),{payload:n,layout:r,align:i}=e;if(!n||!n.length)return null;var o={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return N.createElement("ul",{className:"recharts-default-legend",style:o},N.createElement(wZ,ev({},e,{payload:n})))},YT={},WT={},vD;function IZ(){return vD||(vD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let o=0;o<n.length;o++){const s=n[o],u=r(s);i.has(u)||i.set(u,s)}return Array.from(i.values())}t.uniqBy=e})(WT)),WT}var jT={},_D;function eB(){return _D||(_D=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(jT)),jT}var JT={},XT={},QT={},ED;function CZ(){return ED||(ED=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(QT)),QT}var TD;function kI(){return TD||(TD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=CZ();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(XT)),XT}var ZT={},SD;function RZ(){return SD||(SD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(ZT)),ZT}var bD;function PZ(){return bD||(bD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=kI(),n=RZ();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(JT)),JT}var eS={},tS={},wD;function xZ(){return wD||(wD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=DI();function n(r){return function(i){return e.get(i,r)}}t.property=n})(tS)),tS}var nS={},rS={},iS={},oS={},AD;function tB(){return AD||(AD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(oS)),oS}var aS={},ID;function nB(){return ID||(ID=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(aS)),aS}var sS={},CD;function rB(){return CD||(CD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(sS)),sS}var RD;function MZ(){return RD||(RD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tB(),n=nB(),r=rB();function i(h,m,_){return typeof _!="function"?i(h,m,()=>{}):o(h,m,function S(w,A,C,M,U,L){const H=_(w,A,C,M,U,L);return H!==void 0?!!H:o(w,A,S,L)},new Map)}function o(h,m,_,S){if(m===h)return!0;switch(typeof m){case"object":return s(h,m,_,S);case"function":return Object.keys(m).length>0?o(h,{...m},_,S):r.eq(h,m);default:return e.isObject(h)?typeof m=="string"?m==="":!0:r.eq(h,m)}}function s(h,m,_,S){if(m==null)return!0;if(Array.isArray(m))return c(h,m,_,S);if(m instanceof Map)return u(h,m,_,S);if(m instanceof Set)return d(h,m,_,S);const w=Object.keys(m);if(h==null)return w.length===0;if(w.length===0)return!0;if(S!=null&&S.has(m))return S.get(m)===h;S==null||S.set(m,h);try{for(let A=0;A<w.length;A++){const C=w[A];if(!n.isPrimitive(h)&&!(C in h)||m[C]===void 0&&h[C]!==void 0||m[C]===null&&h[C]!==null||!_(h[C],m[C],C,h,m,S))return!1}return!0}finally{S==null||S.delete(m)}}function u(h,m,_,S){if(m.size===0)return!0;if(!(h instanceof Map))return!1;for(const[w,A]of m.entries()){const C=h.get(w);if(_(C,A,w,h,m,S)===!1)return!1}return!0}function c(h,m,_,S){if(m.length===0)return!0;if(!Array.isArray(h))return!1;const w=new Set;for(let A=0;A<m.length;A++){const C=m[A];let M=!1;for(let U=0;U<h.length;U++){if(w.has(U))continue;const L=h[U];let H=!1;if(_(L,C,A,h,m,S)&&(H=!0),H){w.add(U),M=!0;break}}if(!M)return!1}return!0}function d(h,m,_,S){return m.size===0?!0:h instanceof Set?c([...h],[...m],_,S):!1}t.isMatchWith=i,t.isSetMatch=d})(iS)),iS}var PD;function iB(){return PD||(PD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=MZ();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(rS)),rS}var lS={},uS={},cS={},xD;function NZ(){return xD||(xD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(cS)),cS}var fS={},MD;function oB(){return MD||(MD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(fS)),fS}var dS={},ND;function aB(){return ND||(ND=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",o="[object Arguments]",s="[object Symbol]",u="[object Date]",c="[object Map]",d="[object Set]",h="[object Array]",m="[object Function]",_="[object ArrayBuffer]",S="[object Object]",w="[object Error]",A="[object DataView]",C="[object Uint8Array]",M="[object Uint8ClampedArray]",U="[object Uint16Array]",L="[object Uint32Array]",H="[object BigUint64Array]",z="[object Int8Array]",G="[object Int16Array]",P="[object Int32Array]",D="[object BigInt64Array]",x="[object Float32Array]",F="[object Float64Array]";t.argumentsTag=o,t.arrayBufferTag=_,t.arrayTag=h,t.bigInt64ArrayTag=D,t.bigUint64ArrayTag=H,t.booleanTag=i,t.dataViewTag=A,t.dateTag=u,t.errorTag=w,t.float32ArrayTag=x,t.float64ArrayTag=F,t.functionTag=m,t.int16ArrayTag=G,t.int32ArrayTag=P,t.int8ArrayTag=z,t.mapTag=c,t.numberTag=r,t.objectTag=S,t.regexpTag=e,t.setTag=d,t.stringTag=n,t.symbolTag=s,t.uint16ArrayTag=U,t.uint32ArrayTag=L,t.uint8ArrayTag=C,t.uint8ClampedArrayTag=M})(dS)),dS}var hS={},DD;function DZ(){return DD||(DD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(hS)),hS}var OD;function sB(){return OD||(OD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=NZ(),n=oB(),r=aB(),i=nB(),o=DZ();function s(h,m){return u(h,void 0,h,new Map,m)}function u(h,m,_,S=new Map,w=void 0){const A=w==null?void 0:w(h,m,_,S);if(A!==void 0)return A;if(i.isPrimitive(h))return h;if(S.has(h))return S.get(h);if(Array.isArray(h)){const C=new Array(h.length);S.set(h,C);for(let M=0;M<h.length;M++)C[M]=u(h[M],M,_,S,w);return Object.hasOwn(h,"index")&&(C.index=h.index),Object.hasOwn(h,"input")&&(C.input=h.input),C}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const C=new RegExp(h.source,h.flags);return C.lastIndex=h.lastIndex,C}if(h instanceof Map){const C=new Map;S.set(h,C);for(const[M,U]of h)C.set(M,u(U,M,_,S,w));return C}if(h instanceof Set){const C=new Set;S.set(h,C);for(const M of h)C.add(u(M,void 0,_,S,w));return C}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(o.isTypedArray(h)){const C=new(Object.getPrototypeOf(h)).constructor(h.length);S.set(h,C);for(let M=0;M<h.length;M++)C[M]=u(h[M],M,_,S,w);return C}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const C=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return S.set(h,C),c(C,h,_,S,w),C}if(typeof File<"u"&&h instanceof File){const C=new File([h],h.name,{type:h.type});return S.set(h,C),c(C,h,_,S,w),C}if(typeof Blob<"u"&&h instanceof Blob){const C=new Blob([h],{type:h.type});return S.set(h,C),c(C,h,_,S,w),C}if(h instanceof Error){const C=new h.constructor;return S.set(h,C),C.message=h.message,C.name=h.name,C.stack=h.stack,C.cause=h.cause,c(C,h,_,S,w),C}if(h instanceof Boolean){const C=new Boolean(h.valueOf());return S.set(h,C),c(C,h,_,S,w),C}if(h instanceof Number){const C=new Number(h.valueOf());return S.set(h,C),c(C,h,_,S,w),C}if(h instanceof String){const C=new String(h.valueOf());return S.set(h,C),c(C,h,_,S,w),C}if(typeof h=="object"&&d(h)){const C=Object.create(Object.getPrototypeOf(h));return S.set(h,C),c(C,h,_,S,w),C}return h}function c(h,m,_=h,S,w){const A=[...Object.keys(m),...e.getSymbols(m)];for(let C=0;C<A.length;C++){const M=A[C],U=Object.getOwnPropertyDescriptor(h,M);(U==null||U.writable)&&(h[M]=u(m[M],M,_,S,w))}}function d(h){switch(n.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=s,t.cloneDeepWithImpl=u,t.copyProperties=c})(uS)),uS}var kD;function OZ(){return kD||(kD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=sB();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(lS)),lS}var LD;function kZ(){return LD||(LD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=iB(),n=OZ();function r(i){return i=n.cloneDeep(i),o=>e.isMatch(o,i)}t.matches=r})(nS)),nS}var pS={},mS={},gS={},VD;function LZ(){return VD||(VD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=sB(),n=aB();function r(i,o){return e.cloneDeepWith(i,(s,u,c,d)=>{const h=o==null?void 0:o(s,u,c,d);if(h!==void 0)return h;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const m=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(m,i),m}case n.argumentsTag:{const m={};return e.copyProperties(m,i),m.length=i.length,m[Symbol.iterator]=i[Symbol.iterator],m}default:return}})}t.cloneDeepWith=r})(gS)),gS}var UD;function VZ(){return UD||(UD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=LZ();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(mS)),mS}var yS={},vS={},FD;function lB(){return FD||(FD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(vS)),vS}var _S={},qD;function UZ(){return qD||(qD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=oB();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(_S)),_S}var BD;function FZ(){return BD||(BD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jq(),n=lB(),r=UZ(),i=NI();function o(s,u){let c;if(Array.isArray(u)?c=u:typeof u=="string"&&e.isDeepKey(u)&&(s==null?void 0:s[u])==null?c=i.toPath(u):c=[u],c.length===0)return!1;let d=s;for(let h=0;h<c.length;h++){const m=c[h];if((d==null||!Object.hasOwn(d,m))&&!((Array.isArray(d)||r.isArguments(d))&&n.isIndex(m)&&m<d.length))return!1;d=d[m]}return!0}t.has=o})(yS)),yS}var zD;function qZ(){return zD||(zD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=iB(),n=MI(),r=VZ(),i=DI(),o=FZ();function s(u,c){switch(typeof u){case"object":{Object.is(u==null?void 0:u.valueOf(),-0)&&(u="-0");break}case"number":{u=n.toKey(u);break}}return c=r.cloneDeep(c),function(d){const h=i.get(d,u);return h===void 0?o.has(d,u):c===void 0?h===void 0:e.isMatch(h,c)}}t.matchesProperty=s})(pS)),pS}var GD;function BZ(){return GD||(GD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=eB(),n=xZ(),r=kZ(),i=qZ();function o(s){if(s==null)return e.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):r.matches(s);case"string":case"symbol":case"number":return n.property(s)}}t.iteratee=o})(eS)),eS}var HD;function zZ(){return HD||(HD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=IZ(),n=eB(),r=PZ(),i=BZ();function o(s,u=n.identity){return r.isArrayLikeObject(s)?e.uniqBy(Array.from(s),i.iteratee(u)):[]}t.uniqBy=o})(YT)),YT}var ES,$D;function GZ(){return $D||($D=1,ES=zZ().uniqBy),ES}var HZ=GZ();const KD=Oo(HZ);function uB(t,e,n){return e===!0?KD(t,n):typeof e=="function"?KD(t,e):t}var TS={exports:{}},SS={},bS={exports:{}},wS={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YD;function $Z(){if(YD)return wS;YD=1;var t=_f();function e(m,_){return m===_&&(m!==0||1/m===1/_)||m!==m&&_!==_}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,o=t.useLayoutEffect,s=t.useDebugValue;function u(m,_){var S=_(),w=r({inst:{value:S,getSnapshot:_}}),A=w[0].inst,C=w[1];return o(function(){A.value=S,A.getSnapshot=_,c(A)&&C({inst:A})},[m,S,_]),i(function(){return c(A)&&C({inst:A}),m(function(){c(A)&&C({inst:A})})},[m]),s(S),S}function c(m){var _=m.getSnapshot;m=m.value;try{var S=_();return!n(m,S)}catch{return!0}}function d(m,_){return _()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:u;return wS.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,wS}var WD;function KZ(){return WD||(WD=1,bS.exports=$Z()),bS.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jD;function YZ(){if(jD)return SS;jD=1;var t=_f(),e=KZ();function n(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,o=t.useRef,s=t.useEffect,u=t.useMemo,c=t.useDebugValue;return SS.useSyncExternalStoreWithSelector=function(d,h,m,_,S){var w=o(null);if(w.current===null){var A={hasValue:!1,value:null};w.current=A}else A=w.current;w=u(function(){function M(G){if(!U){if(U=!0,L=G,G=_(G),S!==void 0&&A.hasValue){var P=A.value;if(S(P,G))return H=P}return H=G}if(P=H,r(L,G))return P;var D=_(G);return S!==void 0&&S(P,D)?(L=G,P):(L=G,H=D)}var U=!1,L,H,z=m===void 0?null:m;return[function(){return M(h())},z===null?void 0:function(){return M(z())}]},[h,m,_,S]);var C=i(d,w[0],w[1]);return s(function(){A.hasValue=!0,A.value=C},[C]),c(C),C},SS}var JD;function WZ(){return JD||(JD=1,TS.exports=YZ()),TS.exports}var jZ=WZ(),LI=N.createContext(null),JZ=t=>t,sn=()=>{var t=N.useContext(LI);return t?t.store.dispatch:JZ},gy=()=>{},XZ=()=>gy,QZ=(t,e)=>t===e;function Be(t){var e=N.useContext(LI);return jZ.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:XZ,e?e.store.getState:gy,e?e.store.getState:gy,e?t:gy,QZ)}function ZZ(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function eee(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function tee(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var XD=t=>Array.isArray(t)?t:[t];function nee(t){const e=Array.isArray(t[0])?t[0]:t;return tee(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function ree(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var iee=class{constructor(t){this.value=t}deref(){return this.value}},oee=typeof WeakRef<"u"?WeakRef:iee,aee=0,QD=1;function Fg(){return{s:aee,v:void 0,o:null,p:null}}function cB(t,e={}){let n=Fg();const{resultEqualityCheck:r}=e;let i,o=0;function s(){var m;let u=n;const{length:c}=arguments;for(let _=0,S=c;_<S;_++){const w=arguments[_];if(typeof w=="function"||typeof w=="object"&&w!==null){let A=u.o;A===null&&(u.o=A=new WeakMap);const C=A.get(w);C===void 0?(u=Fg(),A.set(w,u)):u=C}else{let A=u.p;A===null&&(u.p=A=new Map);const C=A.get(w);C===void 0?(u=Fg(),A.set(w,u)):u=C}}const d=u;let h;if(u.s===QD)h=u.v;else if(h=t.apply(null,arguments),o++,r){const _=((m=i==null?void 0:i.deref)==null?void 0:m.call(i))??i;_!=null&&r(_,h)&&(h=_,o!==0&&o--),i=typeof h=="object"&&h!==null||typeof h=="function"?new oee(h):h}return d.s=QD,d.v=h,h}return s.clearCache=()=>{n=Fg(),s.resetResultsCount()},s.resultsCount=()=>o,s.resetResultsCount=()=>{o=0},s}function see(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let o=0,s=0,u,c={},d=i.pop();typeof d=="object"&&(c=d,d=i.pop()),ZZ(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const h={...n,...c},{memoize:m,memoizeOptions:_=[],argsMemoize:S=cB,argsMemoizeOptions:w=[]}=h,A=XD(_),C=XD(w),M=nee(i),U=m(function(){return o++,d.apply(null,arguments)},...A),L=S(function(){s++;const z=ree(M,arguments);return u=U.apply(null,z),u},...C);return Object.assign(L,{resultFunc:d,memoizedResultFunc:U,dependencies:M,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>u,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:m,argsMemoize:S})};return Object.assign(r,{withTypes:()=>r}),r}var ne=see(cB),lee=Object.assign((t,e=ne)=>{eee(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(o=>t[o]);return e(r,(...o)=>o.reduce((s,u,c)=>(s[n[c]]=u,s),{}))},{withTypes:()=>lee}),AS={},IS={},CS={},ZD;function uee(){return ZD||(ZD=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,o)=>{if(r!==i){const s=e(r),u=e(i);if(s===u&&s===0){if(r<i)return o==="desc"?1:-1;if(r>i)return o==="desc"?-1:1}return o==="desc"?u-s:s-u}return 0};t.compareValues=n})(CS)),CS}var RS={},PS={},eO;function fB(){return eO||(eO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(PS)),PS}var tO;function cee(){return tO||(tO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fB(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(o,s){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||e.isSymbol(o)?!0:typeof o=="string"&&(r.test(o)||!n.test(o))||s!=null&&Object.hasOwn(s,o)}t.isKey=i})(RS)),RS}var nO;function fee(){return nO||(nO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=uee(),n=cee(),r=NI();function i(o,s,u,c){if(o==null)return[];u=c?void 0:u,Array.isArray(o)||(o=Object.values(o)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(S=>String(S));const d=(S,w)=>{let A=S;for(let C=0;C<w.length&&A!=null;++C)A=A[w[C]];return A},h=(S,w)=>w==null||S==null?w:typeof S=="object"&&"key"in S?Object.hasOwn(w,S.key)?w[S.key]:d(w,S.path):typeof S=="function"?S(w):Array.isArray(S)?d(w,S):typeof w=="object"?w[S]:w,m=s.map(S=>(Array.isArray(S)&&S.length===1&&(S=S[0]),S==null||typeof S=="function"||Array.isArray(S)||n.isKey(S)?S:{key:S,path:r.toPath(S)}));return o.map(S=>({original:S,criteria:m.map(w=>h(w,S))})).slice().sort((S,w)=>{for(let A=0;A<m.length;A++){const C=e.compareValues(S.criteria[A],w.criteria[A],u[A]);if(C!==0)return C}return 0}).map(S=>S.original)}t.orderBy=i})(IS)),IS}var xS={},rO;function dee(){return rO||(rO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],o=Math.floor(r),s=(u,c)=>{for(let d=0;d<u.length;d++){const h=u[d];Array.isArray(h)&&c<o?s(h,c+1):i.push(h)}};return s(n,0),i}t.flatten=e})(xS)),xS}var MS={},iO;function dB(){return iO||(iO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=lB(),n=kI(),r=tB(),i=rB();function o(s,u,c){return r.isObject(c)&&(typeof u=="number"&&n.isArrayLike(c)&&e.isIndex(u)&&u<c.length||typeof u=="string"&&u in c)?i.eq(c[u],s):!1}t.isIterateeCall=o})(MS)),MS}var oO;function hee(){return oO||(oO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fee(),n=dee(),r=dB();function i(o,...s){const u=s.length;return u>1&&r.isIterateeCall(o,s[0],s[1])?s=[]:u>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),e.orderBy(o,n.flatten(s),["asc"])}t.sortBy=i})(AS)),AS}var NS,aO;function pee(){return aO||(aO=1,NS=hee().sortBy),NS}var mee=pee();const I_=Oo(mee);var hB=t=>t.legend.settings,gee=t=>t.legend.size,yee=t=>t.legend.payload,vee=ne([yee,hB],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?I_(r,n):r});function _ee(){return Be(vee)}var qg=1;function pB(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=N.useState({height:0,left:0,top:0,width:0}),r=N.useCallback(i=>{if(i!=null){var o=i.getBoundingClientRect(),s={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(s.height-e.height)>qg||Math.abs(s.left-e.left)>qg||Math.abs(s.top-e.top)>qg||Math.abs(s.width-e.width)>qg)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function jn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var Eee=typeof Symbol=="function"&&Symbol.observable||"@@observable",sO=Eee,DS=()=>Math.random().toString(36).substring(7).split("").join("."),Tee={INIT:`@@redux/INIT${DS()}`,REPLACE:`@@redux/REPLACE${DS()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${DS()}`},tv=Tee;function VI(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function mB(t,e,n){if(typeof t!="function")throw new Error(jn(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(jn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(jn(1));return n(mB)(t,e)}let r=t,i=e,o=new Map,s=o,u=0,c=!1;function d(){s===o&&(s=new Map,o.forEach((C,M)=>{s.set(M,C)}))}function h(){if(c)throw new Error(jn(3));return i}function m(C){if(typeof C!="function")throw new Error(jn(4));if(c)throw new Error(jn(5));let M=!0;d();const U=u++;return s.set(U,C),function(){if(M){if(c)throw new Error(jn(6));M=!1,d(),s.delete(U),o=null}}}function _(C){if(!VI(C))throw new Error(jn(7));if(typeof C.type>"u")throw new Error(jn(8));if(typeof C.type!="string")throw new Error(jn(17));if(c)throw new Error(jn(9));try{c=!0,i=r(i,C)}finally{c=!1}return(o=s).forEach(U=>{U()}),C}function S(C){if(typeof C!="function")throw new Error(jn(10));r=C,_({type:tv.REPLACE})}function w(){const C=m;return{subscribe(M){if(typeof M!="object"||M===null)throw new Error(jn(11));function U(){const H=M;H.next&&H.next(h())}return U(),{unsubscribe:C(U)}},[sO](){return this}}}return _({type:tv.INIT}),{dispatch:_,subscribe:m,getState:h,replaceReducer:S,[sO]:w}}function See(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:tv.INIT})>"u")throw new Error(jn(12));if(typeof n(void 0,{type:tv.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(jn(13))})}function gB(t){const e=Object.keys(t),n={};for(let o=0;o<e.length;o++){const s=e[o];typeof t[s]=="function"&&(n[s]=t[s])}const r=Object.keys(n);let i;try{See(n)}catch(o){i=o}return function(s={},u){if(i)throw i;let c=!1;const d={};for(let h=0;h<r.length;h++){const m=r[h],_=n[m],S=s[m],w=_(S,u);if(typeof w>"u")throw u&&u.type,new Error(jn(14));d[m]=w,c=c||w!==S}return c=c||r.length!==Object.keys(s).length,c?d:s}}function nv(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function bee(...t){return e=>(n,r)=>{const i=e(n,r);let o=()=>{throw new Error(jn(15))};const s={getState:i.getState,dispatch:(c,...d)=>o(c,...d)},u=t.map(c=>c(s));return o=nv(...u)(i.dispatch),{...i,dispatch:o}}}function yB(t){return VI(t)&&"type"in t&&typeof t.type=="string"}var vB=Symbol.for("immer-nothing"),lO=Symbol.for("immer-draftable"),fr=Symbol.for("immer-state");function Fi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Gr=Object,df=Gr.getPrototypeOf,rv="constructor",C_="prototype",uw="configurable",iv="enumerable",yy="writable",tp="value",va=t=>!!t&&!!t[fr];function Yi(t){var e;return t?_B(t)||R_(t)||!!t[lO]||!!((e=t[rv])!=null&&e[lO])||P_(t)||x_(t):!1}var wee=Gr[C_][rv].toString(),uO=new WeakMap;function _B(t){if(!t||!UI(t))return!1;const e=df(t);if(e===null||e===Gr[C_])return!0;const n=Gr.hasOwnProperty.call(e,rv)&&e[rv];if(n===Object)return!0;if(!Cc(n))return!1;let r=uO.get(n);return r===void 0&&(r=Function.toString.call(n),uO.set(n,r)),r===wee}function Op(t,e,n=!0){kp(t)===0?(n?Reflect.ownKeys(t):Gr.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function kp(t){const e=t[fr];return e?e.type_:R_(t)?1:P_(t)?2:x_(t)?3:0}var cO=(t,e,n=kp(t))=>n===2?t.has(e):Gr[C_].hasOwnProperty.call(t,e),cw=(t,e,n=kp(t))=>n===2?t.get(e):t[e],ov=(t,e,n,r=kp(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function Aee(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var R_=Array.isArray,P_=t=>t instanceof Map,x_=t=>t instanceof Set,UI=t=>typeof t=="object",Cc=t=>typeof t=="function",OS=t=>typeof t=="boolean",ea=t=>t.copy_||t.base_,FI=t=>t.modified_?t.copy_:t.base_;function fw(t,e){if(P_(t))return new Map(t);if(x_(t))return new Set(t);if(R_(t))return Array[C_].slice.call(t);const n=_B(t);if(e===!0||e==="class_only"&&!n){const r=Gr.getOwnPropertyDescriptors(t);delete r[fr];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const s=i[o],u=r[s];u[yy]===!1&&(u[yy]=!0,u[uw]=!0),(u.get||u.set)&&(r[s]={[uw]:!0,[yy]:!0,[iv]:u[iv],[tp]:t[s]})}return Gr.create(df(t),r)}else{const r=df(t);if(r!==null&&n)return{...t};const i=Gr.create(r);return Gr.assign(i,t)}}function qI(t,e=!1){return M_(t)||va(t)||!Yi(t)||(kp(t)>1&&Gr.defineProperties(t,{set:Bg,add:Bg,clear:Bg,delete:Bg}),Gr.freeze(t),e&&Op(t,(n,r)=>{qI(r,!0)},!1)),t}function Iee(){Fi(2)}var Bg={[tp]:Iee};function M_(t){return t===null||!UI(t)?!0:Gr.isFrozen(t)}var av="MapSet",dw="Patches",EB={};function hf(t){const e=EB[t];return e||Fi(0,t),e}var Cee=t=>!!EB[t],np,TB=()=>np,Ree=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:Cee(av)?hf(av):void 0});function fO(t,e){e&&(t.patchPlugin_=hf(dw),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function hw(t){pw(t),t.drafts_.forEach(Pee),t.drafts_=null}function pw(t){t===np&&(np=t.parent_)}var dO=t=>np=Ree(np,t);function Pee(t){const e=t[fr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function hO(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[fr].modified_&&(hw(e),Fi(4)),Yi(t)&&(t=pO(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[fr].base_,t,e)}else t=pO(e,n);return xee(e,t,!0),hw(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==vB?t:void 0}function pO(t,e){if(M_(e))return e;const n=e[fr];if(!n)return BI(e,t.handledSet_,t);if(!N_(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);wB(n,t)}return n.copy_}function xee(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&qI(e,n)}function SB(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var N_=(t,e)=>t.scope_===e,Mee=[];function bB(t,e,n,r){const i=ea(t),o=t.type_;if(r!==void 0&&cw(i,r,o)===e){ov(i,r,n,o);return}if(!t.draftLocations_){const u=t.draftLocations_=new Map;Op(i,(c,d)=>{if(va(d)){const h=u.get(d)||[];h.push(c),u.set(d,h)}})}const s=t.draftLocations_.get(e)??Mee;for(const u of s)ov(i,u,n,o)}function Nee(t,e,n){t.callbacks_.push(function(i){var u;const o=e;if(!o||!N_(o,i))return;(u=i.mapSetPlugin_)==null||u.fixSetContents(o);const s=FI(o);bB(t,o.draft_??o,s,n),wB(o,i)})}function wB(t,e){var r;if(t.modified_&&!t.finalized_&&(t.type_===3||(((r=t.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=e;if(i){const o=i.getPath(t);o&&i.generatePatches_(t,o,e)}SB(t)}}function Dee(t,e,n){const{scope_:r}=t;if(va(n)){const i=n[fr];N_(i,r)&&i.callbacks_.push(function(){vy(t);const s=FI(i);bB(t,n,s,e)})}else Yi(n)&&t.callbacks_.push(function(){const o=ea(t);cw(o,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&BI(cw(t.copy_,e,t.type_),r.handledSet_,r)})}function BI(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||va(t)||e.has(t)||!Yi(t)||M_(t)||(e.add(t),Op(t,(r,i)=>{if(va(i)){const o=i[fr];if(N_(o,n)){const s=FI(o);ov(t,r,s,t.type_),SB(o)}}else Yi(i)&&BI(i,e,n)})),t}function Oee(t,e){const n=R_(t),r={type_:n?1:0,scope_:e?e.scope_:TB(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,o=zI;n&&(i=[r],o=rp);const{revoke:s,proxy:u}=Proxy.revocable(i,o);return r.draft_=u,r.revoke_=s,[u,r]}var zI={get(t,e){if(e===fr)return t;const n=ea(t);if(!cO(n,e,t.type_))return kee(t,n,e);const r=n[e];if(t.finalized_||!Yi(r))return r;if(r===kS(t.base_,e)){vy(t);const i=t.type_===1?+e:e,o=gw(t.scope_,r,t,i);return t.copy_[i]=o}return r},has(t,e){return e in ea(t)},ownKeys(t){return Reflect.ownKeys(ea(t))},set(t,e,n){const r=AB(ea(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=kS(ea(t),e),o=i==null?void 0:i[fr];if(o&&o.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(Aee(n,i)&&(n!==void 0||cO(t.base_,e,t.type_)))return!0;vy(t),mw(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),Dee(t,e,n)),!0},deleteProperty(t,e){return vy(t),kS(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),mw(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=ea(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[yy]:!0,[uw]:t.type_!==1||e!=="length",[iv]:r[iv],[tp]:n[e]}},defineProperty(){Fi(11)},getPrototypeOf(t){return df(t.base_)},setPrototypeOf(){Fi(12)}},rp={};Op(zI,(t,e)=>{rp[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}});rp.deleteProperty=function(t,e){return rp.set.call(this,t,e,void 0)};rp.set=function(t,e,n){return zI.set.call(this,t[0],e,n,t[0])};function kS(t,e){const n=t[fr];return(n?ea(n):t)[e]}function kee(t,e,n){var i;const r=AB(e,n);return r?tp in r?r[tp]:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function AB(t,e){if(!(e in t))return;let n=df(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=df(n)}}function mw(t){t.modified_||(t.modified_=!0,t.parent_&&mw(t.parent_))}function vy(t){t.copy_||(t.assigned_=new Map,t.copy_=fw(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Lee=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Cc(n)&&!Cc(r)){const s=r;r=n;const u=this;return function(d=s,...h){return u.produce(d,m=>r.call(this,m,...h))}}Cc(r)||Fi(6),i!==void 0&&!Cc(i)&&Fi(7);let o;if(Yi(n)){const s=dO(this),u=gw(s,n,void 0);let c=!0;try{o=r(u),c=!1}finally{c?hw(s):pw(s)}return fO(s,i),hO(o,s)}else if(!n||!UI(n)){if(o=r(n),o===void 0&&(o=n),o===vB&&(o=void 0),this.autoFreeze_&&qI(o,!0),i){const s=[],u=[];hf(dw).generateReplacementPatches_(n,o,{patches_:s,inversePatches_:u}),i(s,u)}return o}else Fi(1,n)},this.produceWithPatches=(n,r)=>{if(Cc(n))return(u,...c)=>this.produceWithPatches(u,d=>n(d,...c));let i,o;return[this.produce(n,r,(u,c)=>{i=u,o=c}),i,o]},OS(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),OS(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),OS(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Yi(e)||Fi(8),va(e)&&(e=$i(e));const n=dO(this),r=gw(n,e,void 0);return r[fr].isManual_=!0,pw(n),r}finishDraft(e,n){const r=e&&e[fr];(!r||!r.isManual_)&&Fi(9);const{scope_:i}=r;return fO(i,n),hO(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const o=n[r];if(o.path.length===0&&o.op==="replace"){e=o.value;break}}r>-1&&(n=n.slice(r+1));const i=hf(dw).applyPatches_;return va(e)?i(e,n):this.produce(e,o=>i(o,n))}};function gw(t,e,n,r){const[i,o]=P_(e)?hf(av).proxyMap_(e,n):x_(e)?hf(av).proxySet_(e,n):Oee(e,n);return((n==null?void 0:n.scope_)??TB()).drafts_.push(i),o.callbacks_=(n==null?void 0:n.callbacks_)??[],o.key_=r,n&&r!==void 0?Nee(n,o,r):o.callbacks_.push(function(c){var h;(h=c.mapSetPlugin_)==null||h.fixSetContents(o);const{patchPlugin_:d}=c;o.modified_&&d&&d.generatePatches_(o,[],c)}),i}function $i(t){return va(t)||Fi(10,t),IB(t)}function IB(t){if(!Yi(t)||M_(t))return t;const e=t[fr];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=fw(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=fw(t,!0);return Op(n,(i,o)=>{ov(n,i,IB(o))},r),e&&(e.finalized_=!1),n}var Vee=new Lee,CB=Vee.produce;function RB(t){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,t):i(o)}var Uee=RB(),Fee=RB,qee=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?nv:nv.apply(null,arguments)};function Ti(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Kr(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>yB(r)&&r.type===t,n}var PB=class mh extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,mh.prototype)}static get[Symbol.species](){return mh}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new mh(...e[0].concat(this)):new mh(...e.concat(this))}};function mO(t){return Yi(t)?CB(t,()=>{}):t}function zg(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function Bee(t){return typeof t=="boolean"}var zee=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=e??{};let s=new PB;return n&&(Bee(n)?s.push(Uee):s.push(Fee(n.extraArgument))),s},xB="RTK_autoBatch",Ot=()=>t=>({payload:t,meta:{[xB]:!0}}),gO=t=>e=>{setTimeout(e,t)},MB=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,o=!1,s=!1;const u=new Set,c=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:gO(10):t.type==="callback"?t.queueNotification:gO(t.timeout),d=()=>{s=!1,o&&(o=!1,u.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const m=()=>i&&h(),_=r.subscribe(m);return u.add(h),()=>{_(),u.delete(h)}},dispatch(h){var m;try{return i=!((m=h==null?void 0:h.meta)!=null&&m[xB]),o=!i,o&&(s||(s=!0,c(d))),r.dispatch(h)}finally{i=!0}}})},Gee=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new PB(t);return r&&i.push(MB(typeof r=="object"?r:void 0)),i};function Hee(t){const e=zee(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:s=void 0}=t||{};let u;if(typeof n=="function")u=n;else if(VI(n))u=gB(n);else throw new Error(Kr(1));let c;typeof r=="function"?c=r(e):c=e();let d=nv;i&&(d=qee({trace:!1,...typeof i=="object"&&i}));const h=bee(...c),m=Gee(h);let _=typeof s=="function"?s(m):m();const S=d(..._);return mB(u,o,S)}function NB(t){const e={},n=[];let r;const i={addCase(o,s){const u=typeof o=="string"?o:o.type;if(!u)throw new Error(Kr(28));if(u in e)throw new Error(Kr(29));return e[u]=s,i},addAsyncThunk(o,s){return s.pending&&(e[o.pending.type]=s.pending),s.rejected&&(e[o.rejected.type]=s.rejected),s.fulfilled&&(e[o.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:o.settled,reducer:s.settled}),i},addMatcher(o,s){return n.push({matcher:o,reducer:s}),i},addDefaultCase(o){return r=o,i}};return t(i),[e,n,r]}function $ee(t){return typeof t=="function"}function Kee(t,e){let[n,r,i]=NB(e),o;if($ee(t))o=()=>mO(t());else{const u=mO(t);o=()=>u}function s(u=o(),c){let d=[n[c.type],...r.filter(({matcher:h})=>h(c)).map(({reducer:h})=>h)];return d.filter(h=>!!h).length===0&&(d=[i]),d.reduce((h,m)=>{if(m)if(va(h)){const S=m(h,c);return S===void 0?h:S}else{if(Yi(h))return CB(h,_=>m(_,c));{const _=m(h,c);if(_===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return _}}return h},u)}return s.getInitialState=o,s}var Yee="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Wee=(t=21)=>{let e="",n=t;for(;n--;)e+=Yee[Math.random()*64|0];return e},jee=Symbol.for("rtk-slice-createasyncthunk");function Jee(t,e){return`${t}/${e}`}function Xee({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[jee];return function(i){const{name:o,reducerPath:s=o}=i;if(!o)throw new Error(Kr(11));const u=(typeof i.reducers=="function"?i.reducers(Zee()):i.reducers)||{},c=Object.keys(u),d={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(H,z){const G=typeof H=="string"?H:H.type;if(!G)throw new Error(Kr(12));if(G in d.sliceCaseReducersByType)throw new Error(Kr(13));return d.sliceCaseReducersByType[G]=z,h},addMatcher(H,z){return d.sliceMatchers.push({matcher:H,reducer:z}),h},exposeAction(H,z){return d.actionCreators[H]=z,h},exposeCaseReducer(H,z){return d.sliceCaseReducersByName[H]=z,h}};c.forEach(H=>{const z=u[H],G={reducerName:H,type:Jee(o,H),createNotation:typeof i.reducers=="function"};tte(z)?rte(G,z,h,e):ete(G,z,h)});function m(){const[H={},z=[],G=void 0]=typeof i.extraReducers=="function"?NB(i.extraReducers):[i.extraReducers],P={...H,...d.sliceCaseReducersByType};return Kee(i.initialState,D=>{for(let x in P)D.addCase(x,P[x]);for(let x of d.sliceMatchers)D.addMatcher(x.matcher,x.reducer);for(let x of z)D.addMatcher(x.matcher,x.reducer);G&&D.addDefaultCase(G)})}const _=H=>H,S=new Map,w=new WeakMap;let A;function C(H,z){return A||(A=m()),A(H,z)}function M(){return A||(A=m()),A.getInitialState()}function U(H,z=!1){function G(D){let x=D[H];return typeof x>"u"&&z&&(x=zg(w,G,M)),x}function P(D=_){const x=zg(S,z,()=>new WeakMap);return zg(x,D,()=>{const F={};for(const[k,B]of Object.entries(i.selectors??{}))F[k]=Qee(B,D,()=>zg(w,D,M),z);return F})}return{reducerPath:H,getSelectors:P,get selectors(){return P(G)},selectSlice:G}}const L={name:o,reducer:C,actions:d.actionCreators,caseReducers:d.sliceCaseReducersByName,getInitialState:M,...U(s),injectInto(H,{reducerPath:z,...G}={}){const P=z??s;return H.inject({reducerPath:P,reducer:C},G),{...L,...U(P,!0)}}};return L}}function Qee(t,e,n,r){function i(o,...s){let u=e(o);return typeof u>"u"&&r&&(u=n()),t(u,...s)}return i.unwrapped=t,i}var Ar=Xee();function Zee(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function ete({type:t,reducerName:e,createNotation:n},r,i){let o,s;if("reducer"in r){if(n&&!nte(r))throw new Error(Kr(17));o=r.reducer,s=r.prepare}else o=r;i.addCase(t,o).exposeCaseReducer(e,o).exposeAction(e,s?Ti(t,s):Ti(t))}function tte(t){return t._reducerDefinitionType==="asyncThunk"}function nte(t){return t._reducerDefinitionType==="reducerWithPrepare"}function rte({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Kr(18));const{payloadCreator:o,fulfilled:s,pending:u,rejected:c,settled:d,options:h}=n,m=i(t,o,h);r.exposeAction(e,m),s&&r.addCase(m.fulfilled,s),u&&r.addCase(m.pending,u),c&&r.addCase(m.rejected,c),d&&r.addMatcher(m.settled,d),r.exposeCaseReducer(e,{fulfilled:s||Gg,pending:u||Gg,rejected:c||Gg,settled:d||Gg})}function Gg(){}var ite="task",DB="listener",OB="completed",GI="cancelled",ote=`task-${GI}`,ate=`task-${OB}`,yw=`${DB}-${GI}`,ste=`${DB}-${OB}`,D_=class{constructor(t){hT(this,"name","TaskAbortError");hT(this,"message");this.code=t,this.message=`${ite} ${GI} (reason: ${t})`}},HI=(t,e)=>{if(typeof t!="function")throw new TypeError(Kr(32))},sv=()=>{},kB=(t,e=sv)=>(t.catch(e),t),LB=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Wl=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},jl=t=>{if(t.aborted){const{reason:e}=t;throw new D_(e)}};function VB(t,e){let n=sv;return new Promise((r,i)=>{const o=()=>i(new D_(t.reason));if(t.aborted){o();return}n=LB(t,o),e.finally(()=>n()).then(r,i)}).finally(()=>{n=sv})}var lte=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof D_?"cancelled":"rejected",error:n}}finally{e==null||e()}},lv=t=>e=>kB(VB(t,e).then(n=>(jl(t),n))),UB=t=>{const e=lv(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:Fc}=Object,yO={},O_="listenerMiddleware",ute=(t,e)=>{const n=r=>LB(t,()=>Wl(r,t.reason));return(r,i)=>{HI(r);const o=new AbortController;n(o);const s=lte(async()=>{jl(t),jl(o.signal);const u=await r({pause:lv(o.signal),delay:UB(o.signal),signal:o.signal});return jl(o.signal),u},()=>Wl(o,ate));return i!=null&&i.autoJoin&&e.push(s.catch(sv)),{result:lv(t)(s),cancel(){Wl(o,ote)}}}},cte=(t,e)=>{const n=async(r,i)=>{jl(e);let o=()=>{};const u=[new Promise((c,d)=>{let h=t({predicate:r,effect:(m,_)=>{_.unsubscribe(),c([m,_.getState(),_.getOriginalState()])}});o=()=>{h(),d()}})];i!=null&&u.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await VB(e,Promise.race(u));return jl(e),c}finally{o()}};return(r,i)=>kB(n(r,i))},FB=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:o}=t;if(e)i=Ti(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Kr(21));return HI(o),{predicate:i,type:e,effect:o}},qB=Fc(t=>{const{type:e,predicate:n,effect:r}=FB(t);return{id:Wee(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Kr(22))}}},{withTypes:()=>qB}),vO=(t,e)=>{const{type:n,effect:r,predicate:i}=FB(e);return Array.from(t.values()).find(o=>(typeof n=="string"?o.type===n:o.predicate===i)&&o.effect===r)},vw=t=>{t.pending.forEach(e=>{Wl(e,yw)})},fte=(t,e)=>()=>{for(const n of e.keys())vw(n);t.clear()},_O=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},BB=Fc(Ti(`${O_}/add`),{withTypes:()=>BB}),dte=Ti(`${O_}/removeAll`),zB=Fc(Ti(`${O_}/remove`),{withTypes:()=>zB}),hte=(...t)=>{console.error(`${O_}/error`,...t)},Lp=(t={})=>{const e=new Map,n=new Map,r=S=>{const w=n.get(S)??0;n.set(S,w+1)},i=S=>{const w=n.get(S)??1;w===1?n.delete(S):n.set(S,w-1)},{extra:o,onError:s=hte}=t;HI(s);const u=S=>(S.unsubscribe=()=>e.delete(S.id),e.set(S.id,S),w=>{S.unsubscribe(),w!=null&&w.cancelActive&&vw(S)}),c=S=>{const w=vO(e,S)??qB(S);return u(w)};Fc(c,{withTypes:()=>c});const d=S=>{const w=vO(e,S);return w&&(w.unsubscribe(),S.cancelActive&&vw(w)),!!w};Fc(d,{withTypes:()=>d});const h=async(S,w,A,C)=>{const M=new AbortController,U=cte(c,M.signal),L=[];try{S.pending.add(M),r(S),await Promise.resolve(S.effect(w,Fc({},A,{getOriginalState:C,condition:(H,z)=>U(H,z).then(Boolean),take:U,delay:UB(M.signal),pause:lv(M.signal),extra:o,signal:M.signal,fork:ute(M.signal,L),unsubscribe:S.unsubscribe,subscribe:()=>{e.set(S.id,S)},cancelActiveListeners:()=>{S.pending.forEach((H,z,G)=>{H!==M&&(Wl(H,yw),G.delete(H))})},cancel:()=>{Wl(M,yw),S.pending.delete(M)},throwIfCancelled:()=>{jl(M.signal)}})))}catch(H){H instanceof D_||_O(s,H,{raisedBy:"effect"})}finally{await Promise.all(L),Wl(M,ste),i(S),S.pending.delete(M)}},m=fte(e,n);return{middleware:S=>w=>A=>{if(!yB(A))return w(A);if(BB.match(A))return c(A.payload);if(dte.match(A)){m();return}if(zB.match(A))return d(A.payload);let C=S.getState();const M=()=>{if(C===yO)throw new Error(Kr(23));return C};let U;try{if(U=w(A),e.size>0){const L=S.getState(),H=Array.from(e.values());for(const z of H){let G=!1;try{G=z.predicate(A,L,C)}catch(P){G=!1,_O(s,P,{raisedBy:"predicate"})}G&&h(z,A,S,M)}}}finally{C=yO}return U},startListening:c,stopListening:d,clearListeners:m}};function Kr(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var pte={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},GB=Ar({name:"chartLayout",initialState:pte,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,o;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(o=e.payload.left)!==null&&o!==void 0?o:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:mte,setLayout:gte,setChartSize:yte,setScale:vte}=GB.actions,_te=GB.reducer;function HB(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function EO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EO(Object(n),!0).forEach(function(r){Ete(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ete(t,e,n){return(e=Tte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tte(t){var e=Ste(t,"string");return typeof e=="symbol"?e:e+""}function Ste(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function on(t,e,n){return Wr(t)||Wr(e)?n:ya(e)?Zh(t,e,n):typeof e=="function"?e(t):n}var bte=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:o,verticalAlign:s,layout:u}=e;if((u==="vertical"||u==="horizontal"&&s==="middle")&&o!=="center"&&Ve(t[o]))return Pc(Pc({},t),{},{[o]:t[o]+(r||0)});if((u==="horizontal"||u==="vertical"&&o==="center")&&s!=="middle"&&Ve(t[s]))return Pc(Pc({},t),{},{[s]:t[s]+(i||0)})}return t},Eu=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",TO=1e-4,wte=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-TO,o=Math.max(r[0],r[1])+TO,s=t(e[0]),u=t(e[n-1]);(s<i||s>o||u<i||u>o)&&t.domain([e[0],e[n-1]])}},Ate=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,o=0,s=0;s<e;++s){var u=ma(t[s][n][1])?t[s][n][0]:t[s][n][1];u>=0?(t[s][n][0]=i,t[s][n][1]=i+u,i=t[s][n][1]):(t[s][n][0]=o,t[s][n][1]=o+u,o=t[s][n][1])}},Ite=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,o=0;o<e;++o){var s=ma(t[o][n][1])?t[o][n][0]:t[o][n][1];s>=0?(t[o][n][0]=i,t[o][n][1]=i+s,i=t[o][n][1]):(t[o][n][0]=0,t[o][n][1]=0)}},Cte={sign:Ate,expand:KQ,none:ff,silhouette:YQ,wiggle:WQ,positive:Ite},Rte=(t,e,n)=>{var r=Cte[n],i=$Q().keys(e).value((o,s)=>Number(on(o,s,0))).order(sw).offset(r);return i(t)},Pte=t=>{var e=t.flat(2).filter(Ve);return[Math.min(...e),Math.max(...e)]},xte=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],Mte=(t,e,n)=>{if(t!=null)return xte(Object.keys(t).reduce((r,i)=>{var o=t[i],{stackedData:s}=o,u=s.reduce((c,d)=>{var h=HB(d,e,n),m=Pte(h);return[Math.min(c[0],m[0]),Math.max(c[1],m[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},SO=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,bO=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,wO=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();return r}if(t&&e&&e.length>=2){for(var i=I_(e,h=>h.coordinate),o=1/0,s=1,u=i.length;s<u;s++){var c=i[s],d=i[s-1];o=Math.min((c.coordinate||0)-(d.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0};function AO(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:o}=t;return Pc(Pc({},e),{},{dataKey:n,payload:r,value:i,name:o})}function $B(t,e){if(t)return String(t);if(typeof e=="string")return e}var Nte=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},Dte=(t,e)=>e==="centric"?t.angle:t.radius,Ca=t=>t.layout.width,Ra=t=>t.layout.height,Ote=t=>t.layout.scale,KB=t=>t.layout.margin,k_=ne(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),L_=ne(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),YB="data-recharts-item-index",WB="data-recharts-item-data-key",Vp=60;function IO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IO(Object(n),!0).forEach(function(r){kte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kte(t,e,n){return(e=Lte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lte(t){var e=Vte(t,"string");return typeof e=="symbol"?e:e+""}function Vte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ute=t=>t.brush.height;function Fte(t){var e=L_(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Vp;return n+i}return n},0)}function qte(t){var e=L_(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:Vp;return n+i}return n},0)}function Bte(t){var e=k_(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function zte(t){var e=k_(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var Bn=ne([Ca,Ra,KB,Ute,Fte,qte,Bte,zte,hB,gee],(t,e,n,r,i,o,s,u,c,d)=>{var h={left:(n.left||0)+i,right:(n.right||0)+o},m={top:(n.top||0)+s,bottom:(n.bottom||0)+u},_=Hg(Hg({},m),h),S=_.bottom;_.bottom+=r,_=bte(_,c,d);var w=t-_.left-_.right,A=e-_.top-_.bottom;return Hg(Hg({brushBottom:S},_),{},{width:Math.max(w,0),height:Math.max(A,0)})}),Gte=ne(Bn,t=>({x:t.left,y:t.top,width:t.width,height:t.height}));ne(Ca,Ra,(t,e)=>({x:0,y:0,width:t,height:e}));var Hte=N.createContext(null),$s=()=>N.useContext(Hte)!=null,V_=t=>t.brush,U_=ne([V_,Bn,KB],(t,e,n)=>({height:t.height,x:Ve(t.x)?t.x:e.left,y:Ve(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:Ve(t.width)?t.width:e.width})),LS={},VS={},US={},CO;function $te(){return CO||(CO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:o}={}){let s,u=null;const c=o!=null&&o.includes("leading"),d=o==null||o.includes("trailing"),h=()=>{u!==null&&(n.apply(s,u),s=void 0,u=null)},m=()=>{d&&h(),A()};let _=null;const S=()=>{_!=null&&clearTimeout(_),_=setTimeout(()=>{_=null,m()},r)},w=()=>{_!==null&&(clearTimeout(_),_=null)},A=()=>{w(),s=void 0,u=null},C=()=>{h()},M=function(...U){if(i!=null&&i.aborted)return;s=this,u=U;const L=_==null;S(),c&&L&&h()};return M.schedule=S,M.cancel=A,M.flush=C,i==null||i.addEventListener("abort",A,{once:!0}),M}t.debounce=e})(US)),US}var RO;function Kte(){return RO||(RO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$te();function n(r,i=0,o={}){typeof o!="object"&&(o={});const{leading:s=!1,trailing:u=!0,maxWait:c}=o,d=Array(2);s&&(d[0]="leading"),u&&(d[1]="trailing");let h,m=null;const _=e.debounce(function(...A){h=r.apply(this,A),m=null},i,{edges:d}),S=function(...A){return c!=null&&(m===null&&(m=Date.now()),Date.now()-m>=c)?(h=r.apply(this,A),m=Date.now(),_.cancel(),_.schedule(),h):(_.apply(this,A),h)},w=()=>(_.flush(),h);return S.cancel=_.cancel,S.flush=w,S}t.debounce=n})(VS)),VS}var PO;function Yte(){return PO||(PO=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Kte();function n(r,i=0,o={}){const{leading:s=!0,trailing:u=!0}=o;return e.debounce(r,i,{leading:s,maxWait:i,trailing:u})}t.throttle=n})(LS)),LS}var FS,xO;function Wte(){return xO||(xO=1,FS=Yte().throttle),FS}var jte=Wte();const Jte=Oo(jte);var MO=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(n.replace(/%s/g,()=>i[s++]))}},jB=(t,e,n)=>{var{width:r="100%",height:i="100%",aspect:o,maxHeight:s}=n,u=ga(r)?t:Number(r),c=ga(i)?e:Number(i);return o&&o>0&&(u?c=u/o:c&&(u=c*o),s&&c!=null&&c>s&&(c=s)),{calculatedWidth:u,calculatedHeight:c}},Xte={width:0,height:0,overflow:"visible"},Qte={width:0,overflowX:"visible"},Zte={height:0,overflowY:"visible"},ene={},tne=t=>{var{width:e,height:n}=t,r=ga(e),i=ga(n);return r&&i?Xte:r?Qte:i?Zte:ene};function nne(t){var{width:e,height:n,aspect:r}=t,i=e,o=n;return i===void 0&&o===void 0?(i="100%",o="100%"):i===void 0?i=r&&r>0?void 0:"100%":o===void 0&&(o=r&&r>0?void 0:"100%"),{width:i,height:o}}function qn(t){return Number.isFinite(t)}function Vs(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function _w(){return _w=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_w.apply(null,arguments)}function NO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NO(Object(n),!0).forEach(function(r){rne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function rne(t,e,n){return(e=ine(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ine(t){var e=one(t,"string");return typeof e=="symbol"?e:e+""}function one(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var JB=N.createContext({width:-1,height:-1});function ane(t){return Vs(t.width)&&Vs(t.height)}function XB(t){var{children:e,width:n,height:r}=t,i=N.useMemo(()=>({width:n,height:r}),[n,r]);return ane(i)?N.createElement(JB.Provider,{value:i},e):null}var $I=()=>N.useContext(JB),sne=N.forwardRef((t,e)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:o,minWidth:s=0,minHeight:u,maxHeight:c,children:d,debounce:h=0,id:m,className:_,onResize:S,style:w={}}=t,A=N.useRef(null),C=N.useRef();C.current=S,N.useImperativeHandle(e,()=>A.current);var[M,U]=N.useState({containerWidth:r.width,containerHeight:r.height}),L=N.useCallback((D,x)=>{U(F=>{var k=Math.round(D),B=Math.round(x);return F.containerWidth===k&&F.containerHeight===B?F:{containerWidth:k,containerHeight:B}})},[]);N.useEffect(()=>{if(A.current==null||typeof ResizeObserver>"u")return Dp;var D=B=>{var q,{width:Se,height:De}=B[0].contentRect;L(Se,De),(q=C.current)===null||q===void 0||q.call(C,Se,De)};h>0&&(D=Jte(D,h,{trailing:!0,leading:!1}));var x=new ResizeObserver(D),{width:F,height:k}=A.current.getBoundingClientRect();return L(F,k),x.observe(A.current),()=>{x.disconnect()}},[L,h]);var{containerWidth:H,containerHeight:z}=M;MO(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:G,calculatedHeight:P}=jB(H,z,{width:i,height:o,aspect:n,maxHeight:c});return MO(G!=null&&G>0||P!=null&&P>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,G,P,i,o,s,u,n),N.createElement("div",{id:m?"".concat(m):void 0,className:an("recharts-responsive-container",_),style:DO(DO({},w),{},{width:i,height:o,minWidth:s,minHeight:u,maxHeight:c}),ref:A},N.createElement("div",{style:tne({width:i,height:o})},N.createElement(XB,{width:G,height:P},d)))}),lne=N.forwardRef((t,e)=>{var n=$I();if(Vs(n.width)&&Vs(n.height))return t.children;var{width:r,height:i}=nne({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:o,calculatedHeight:s}=jB(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return Ve(o)&&Ve(s)?N.createElement(XB,{width:o,height:s},t.children):N.createElement(sne,_w({},t,{width:r,height:i,ref:e}))});function QB(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var F_=()=>{var t,e=$s(),n=Be(Gte),r=Be(U_),i=(t=Be(V_))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},une={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},cne=()=>{var t;return(t=Be(Bn))!==null&&t!==void 0?t:une},ZB=()=>Be(Ca),e3=()=>Be(Ra),fne=()=>Be(t=>t.layout.margin),Ct=t=>t.layout.layoutType,KI=()=>Be(Ct),dne=()=>{var t=KI();return t!==void 0},q_=t=>{var e=sn(),n=$s(),{width:r,height:i}=t,o=$I(),s=r,u=i;return o&&(s=o.width>0?o.width:r,u=o.height>0?o.height:i),N.useEffect(()=>{!n&&Vs(s)&&Vs(u)&&e(yte({width:s,height:u}))},[e,n,s,u]),null},t3=Symbol.for("immer-nothing"),OO=Symbol.for("immer-draftable"),jr=Symbol.for("immer-state");function qi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var ip=Object.getPrototypeOf;function pf(t){return!!t&&!!t[jr]}function uu(t){var e;return t?n3(t)||Array.isArray(t)||!!t[OO]||!!((e=t.constructor)!=null&&e[OO])||Up(t)||z_(t):!1}var hne=Object.prototype.constructor.toString(),kO=new WeakMap;function n3(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=kO.get(n);return r===void 0&&(r=Function.toString.call(n),kO.set(n,r)),r===hne}function uv(t,e,n=!0){B_(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function B_(t){const e=t[jr];return e?e.type_:Array.isArray(t)?1:Up(t)?2:z_(t)?3:0}function Ew(t,e){return B_(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function r3(t,e,n){const r=B_(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function pne(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Up(t){return t instanceof Map}function z_(t){return t instanceof Set}function Nl(t){return t.copy_||t.base_}function Tw(t,e){if(Up(t))return new Map(t);if(z_(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=n3(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[jr];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const s=i[o],u=r[s];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[s]={configurable:!0,writable:!0,enumerable:u.enumerable,value:t[s]})}return Object.create(ip(t),r)}else{const r=ip(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function YI(t,e=!1){return G_(t)||pf(t)||!uu(t)||(B_(t)>1&&Object.defineProperties(t,{set:$g,add:$g,clear:$g,delete:$g}),Object.freeze(t),e&&Object.values(t).forEach(n=>YI(n,!0))),t}function mne(){qi(2)}var $g={value:mne};function G_(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var gne={};function cu(t){const e=gne[t];return e||qi(0,t),e}var op;function i3(){return op}function yne(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function LO(t,e){e&&(cu("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Sw(t){bw(t),t.drafts_.forEach(vne),t.drafts_=null}function bw(t){t===op&&(op=t.parent_)}function VO(t){return op=yne(op,t)}function vne(t){const e=t[jr];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function UO(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[jr].modified_&&(Sw(e),qi(4)),uu(t)&&(t=cv(e,t),e.parent_||fv(e,t)),e.patches_&&cu("Patches").generateReplacementPatches_(n[jr].base_,t,e.patches_,e.inversePatches_)):t=cv(e,n,[]),Sw(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==t3?t:void 0}function cv(t,e,n){if(G_(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[jr];if(!i)return uv(e,(o,s)=>FO(t,i,e,o,s,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return fv(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const o=i.copy_;let s=o,u=!1;i.type_===3&&(s=new Set(o),o.clear(),u=!0),uv(s,(c,d)=>FO(t,i,o,c,d,n,u),r),fv(t,o,!1),n&&t.patches_&&cu("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function FO(t,e,n,r,i,o,s){if(i==null||typeof i!="object"&&!s)return;const u=G_(i);if(!(u&&!s)){if(pf(i)){const c=o&&e&&e.type_!==3&&!Ew(e.assigned_,r)?o.concat(r):void 0,d=cv(t,i,c);if(r3(n,r,d),pf(d))t.canAutoFreeze_=!1;else return}else s&&n.add(i);if(uu(i)&&!u){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&u)return;cv(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(Up(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&fv(t,i)}}}function fv(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&YI(e,n)}function _ne(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:i3(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=WI;n&&(i=[r],o=ap);const{revoke:s,proxy:u}=Proxy.revocable(i,o);return r.draft_=u,r.revoke_=s,u}var WI={get(t,e){if(e===jr)return t;const n=Nl(t);if(!Ew(n,e))return Ene(t,n,e);const r=n[e];return t.finalized_||!uu(r)?r:r===qS(t.base_,e)?(BS(t),t.copy_[e]=Aw(r,t)):r},has(t,e){return e in Nl(t)},ownKeys(t){return Reflect.ownKeys(Nl(t))},set(t,e,n){const r=o3(Nl(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=qS(Nl(t),e),o=i==null?void 0:i[jr];if(o&&o.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(pne(n,i)&&(n!==void 0||Ew(t.base_,e)))return!0;BS(t),ww(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return qS(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,BS(t),ww(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Nl(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){qi(11)},getPrototypeOf(t){return ip(t.base_)},setPrototypeOf(){qi(12)}},ap={};uv(WI,(t,e)=>{ap[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});ap.deleteProperty=function(t,e){return ap.set.call(this,t,e,void 0)};ap.set=function(t,e,n){return WI.set.call(this,t[0],e,n,t[0])};function qS(t,e){const n=t[jr];return(n?Nl(n):t)[e]}function Ene(t,e,n){var i;const r=o3(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function o3(t,e){if(!(e in t))return;let n=ip(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=ip(n)}}function ww(t){t.modified_||(t.modified_=!0,t.parent_&&ww(t.parent_))}function BS(t){t.copy_||(t.copy_=Tw(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Tne=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const o=n;n=e;const s=this;return function(c=o,...d){return s.produce(c,h=>n.call(this,h,...d))}}typeof n!="function"&&qi(6),r!==void 0&&typeof r!="function"&&qi(7);let i;if(uu(e)){const o=VO(this),s=Aw(e,void 0);let u=!0;try{i=n(s),u=!1}finally{u?Sw(o):bw(o)}return LO(o,r),UO(i,o)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===t3&&(i=void 0),this.autoFreeze_&&YI(i,!0),r){const o=[],s=[];cu("Patches").generateReplacementPatches_(e,i,o,s),r(o,s)}return i}else qi(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(s,...u)=>this.produceWithPatches(s,c=>e(c,...u));let r,i;return[this.produce(e,n,(s,u)=>{r=s,i=u}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){uu(t)||qi(8),pf(t)&&(t=Sne(t));const e=VO(this),n=Aw(t,void 0);return n[jr].isManual_=!0,bw(e),n}finishDraft(t,e){const n=t&&t[jr];(!n||!n.isManual_)&&qi(9);const{scope_:r}=n;return LO(r,e),UO(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=cu("Patches").applyPatches_;return pf(t)?r(t,e):this.produce(t,i=>r(i,e))}};function Aw(t,e){const n=Up(t)?cu("MapSet").proxyMap_(t,e):z_(t)?cu("MapSet").proxySet_(t,e):_ne(t,e);return(e?e.scope_:i3()).drafts_.push(n),n}function Sne(t){return pf(t)||qi(10,t),a3(t)}function a3(t){if(!uu(t)||G_(t))return t;const e=t[jr];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Tw(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=Tw(t,!0);return uv(n,(i,o)=>{r3(n,i,a3(o))},r),e&&(e.finalized_=!1),n}var bne=new Tne;bne.produce;var wne={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},s3=Ar({name:"legend",initialState:wne,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:Ot()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=$i(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:Ot()},removeLegendPayload:{reducer(t,e){var n=$i(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:Ot()}}}),{setLegendSize:qO,setLegendSettings:Ane,addLegendPayload:Ine,replaceLegendPayload:Cne,removeLegendPayload:Rne}=s3.actions,Pne=s3.reducer,xne=["contextPayload"];function Iw(){return Iw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Iw.apply(null,arguments)}function BO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?BO(Object(n),!0).forEach(function(r){Mne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):BO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mne(t,e,n){return(e=Nne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nne(t){var e=Dne(t,"string");return typeof e=="symbol"?e:e+""}function Dne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function One(t,e){if(t==null)return{};var n,r,i=kne(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function kne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Lne(t){return t.value}function Vne(t){var{contextPayload:e}=t,n=One(t,xne),r=uB(e,t.payloadUniqBy,Lne),i=mf(mf({},n),{},{payload:r});return N.isValidElement(t.content)?N.cloneElement(t.content,i):typeof t.content=="function"?N.createElement(t.content,i):N.createElement(AZ,i)}function Une(t,e,n,r,i,o){var{layout:s,align:u,verticalAlign:c}=e,d,h;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(u==="center"&&s==="vertical"?d={left:((r||0)-o.width)/2}:d=u==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(c==="middle"?h={top:((i||0)-o.height)/2}:h=c==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),mf(mf({},d),h)}function Fne(t){var e=sn();return N.useEffect(()=>{e(Ane(t))},[e,t]),null}function qne(t){var e=sn();return N.useEffect(()=>(e(qO(t)),()=>{e(qO({width:0,height:0}))}),[e,t]),null}function Bne(t,e,n,r){return t==="vertical"&&Ve(e)?{height:e}:t==="horizontal"?{width:n||r}:null}var zne={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function l3(t){var e=bi(t,zne),n=_ee(),r=mQ(),i=fne(),{width:o,height:s,wrapperStyle:u,portal:c}=e,[d,h]=pB([n]),m=ZB(),_=e3();if(m==null||_==null)return null;var S=m-((i==null?void 0:i.left)||0)-((i==null?void 0:i.right)||0),w=Bne(e.layout,s,o,S),A=c?u:mf(mf({position:"absolute",width:(w==null?void 0:w.width)||o||"auto",height:(w==null?void 0:w.height)||s||"auto"},Une(u,e,i,m,_,d)),u),C=c??r;if(C==null||n==null)return null;var M=N.createElement("div",{className:"recharts-legend-wrapper",style:A,ref:h},N.createElement(Fne,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),!c&&N.createElement(qne,{width:d.width,height:d.height}),N.createElement(Vne,Iw({},e,w,{margin:i,chartWidth:m,chartHeight:_,contextPayload:n})));return CI.createPortal(M,C)}l3.displayName="Legend";function Cw(){return Cw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cw.apply(null,arguments)}function zO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zO(Object(n),!0).forEach(function(r){Gne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gne(t,e,n){return(e=Hne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hne(t){var e=$ne(t,"string");return typeof e=="symbol"?e:e+""}function $ne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kne(t){return Array.isArray(t)&&ya(t[0])&&ya(t[1])?t.join(" ~ "):t}var Yne=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:o,formatter:s,itemSorter:u,wrapperClassName:c,labelClassName:d,label:h,labelFormatter:m,accessibilityLayer:_=!1}=t,S=()=>{if(o&&o.length){var z={padding:0,margin:0},G=(u?I_(o,u):o).map((P,D)=>{if(P.type==="none")return null;var x=P.formatter||s||Kne,{value:F,name:k}=P,B=F,q=k;if(x){var Se=x(F,k,P,D,o);if(Array.isArray(Se))[B,q]=Se;else if(Se!=null)B=Se;else return null}var De=zS({display:"block",paddingTop:4,paddingBottom:4,color:P.color||"#000"},r);return N.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(D),style:De},ya(q)?N.createElement("span",{className:"recharts-tooltip-item-name"},q):null,ya(q)?N.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,N.createElement("span",{className:"recharts-tooltip-item-value"},B),N.createElement("span",{className:"recharts-tooltip-item-unit"},P.unit||""))});return N.createElement("ul",{className:"recharts-tooltip-item-list",style:z},G)}return null},w=zS({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),A=zS({margin:0},i),C=!Wr(h),M=C?h:"",U=an("recharts-default-tooltip",c),L=an("recharts-tooltip-label",d);C&&m&&o!==void 0&&o!==null&&(M=m(h,o));var H=_?{role:"status","aria-live":"assertive"}:{};return N.createElement("div",Cw({className:U,style:w},H),N.createElement("p",{className:L,style:A},N.isValidElement(M)?M:"".concat(M)),S())},Qd="recharts-tooltip-wrapper",Wne={visibility:"hidden"};function jne(t){var{coordinate:e,translateX:n,translateY:r}=t;return an(Qd,{["".concat(Qd,"-right")]:Ve(n)&&e&&Ve(e.x)&&n>=e.x,["".concat(Qd,"-left")]:Ve(n)&&e&&Ve(e.x)&&n<e.x,["".concat(Qd,"-bottom")]:Ve(r)&&e&&Ve(e.y)&&r>=e.y,["".concat(Qd,"-top")]:Ve(r)&&e&&Ve(e.y)&&r<e.y})}function GO(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:o,reverseDirection:s,tooltipDimension:u,viewBox:c,viewBoxDimension:d}=t;if(o&&Ve(o[r]))return o[r];var h=n[r]-u-(i>0?i:0),m=n[r]+i;if(e[r])return s[r]?h:m;var _=c[r];if(_==null)return 0;if(s[r]){var S=h,w=_;return S<w?Math.max(m,_):Math.max(h,_)}if(d==null)return 0;var A=m+u,C=_+d;return A>C?Math.max(h,_):Math.max(m,_)}function Jne(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Xne(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:o,tooltipBox:s,useTranslate3d:u,viewBox:c}=t,d,h,m;return s.height>0&&s.width>0&&n?(h=GO({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),m=GO({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),d=Jne({translateX:h,translateY:m,useTranslate3d:u})):d=Wne,{cssProperties:d,cssClasses:jne({translateX:h,translateY:m,coordinate:n})}}function HO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HO(Object(n),!0).forEach(function(r){Rw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rw(t,e,n){return(e=Qne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qne(t){var e=Zne(t,"string");return typeof e=="symbol"?e:e+""}function Zne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class ere extends N.PureComponent{constructor(){super(...arguments),Rw(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Rw(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:o,coordinate:s,hasPayload:u,isAnimationActive:c,offset:d,position:h,reverseDirection:m,useTranslate3d:_,viewBox:S,wrapperStyle:w,lastBoundingBox:A,innerRef:C,hasPortalFromProps:M}=this.props,{cssClasses:U,cssProperties:L}=Xne({allowEscapeViewBox:n,coordinate:s,offsetTopLeft:d,position:h,reverseDirection:m,tooltipBox:{height:A.height,width:A.width},useTranslate3d:_,viewBox:S}),H=M?{}:Kg(Kg({transition:c&&e?"transform ".concat(r,"ms ").concat(i):void 0},L),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&u?"visible":"hidden",position:"absolute",top:0,left:0}),z=Kg(Kg({},H),{},{visibility:!this.state.dismissed&&e&&u?"visible":"hidden"},w);return N.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:U,style:z,ref:C},o)}}var u3=()=>{var t;return(t=Be(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function Pw(){return Pw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pw.apply(null,arguments)}function $O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$O(Object(n),!0).forEach(function(r){tre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$O(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tre(t,e,n){return(e=nre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nre(t){var e=rre(t,"string");return typeof e=="symbol"?e:e+""}function rre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var YO={curveBasisClosed:OQ,curveBasisOpen:kQ,curveBasis:DQ,curveBumpX:_Q,curveBumpY:EQ,curveLinearClosed:LQ,curveLinear:w_,curveMonotoneX:VQ,curveMonotoneY:UQ,curveNatural:FQ,curveStep:qQ,curveStepAfter:zQ,curveStepBefore:BQ},dv=t=>qn(t.x)&&qn(t.y),WO=t=>t.base!=null&&dv(t.base)&&dv(t),Zd=t=>t.x,eh=t=>t.y,ire=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(Np(t));return(n==="curveMonotone"||n==="curveBump")&&e?YO["".concat(n).concat(e==="vertical"?"Y":"X")]:YO[n]||w_},ore=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:o=!1}=t,s=ire(e,i),u=o?n.filter(dv):n,c;if(Array.isArray(r)){var d=n.map((S,w)=>KO(KO({},S),{},{base:r[w]}));i==="vertical"?c=Ug().y(eh).x1(Zd).x0(S=>S.base.x):c=Ug().x(Zd).y1(eh).y0(S=>S.base.y);var h=c.defined(WO).curve(s),m=o?d.filter(WO):d;return h(m)}i==="vertical"&&Ve(r)?c=Ug().y(eh).x1(Zd).x0(r):Ve(r)?c=Ug().x(Zd).y1(eh).y0(r):c=Uq().x(Zd).y(eh);var _=c.defined(dv).curve(s);return _(u)},jI=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var o=n&&n.length?ore(t):r;return N.createElement("path",Pw({},cf(t),dZ(t),{className:an("recharts-curve",e),d:o===null?void 0:o,ref:i}))},are=["x","y","top","left","width","height","className"];function xw(){return xw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xw.apply(null,arguments)}function jO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sre(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jO(Object(n),!0).forEach(function(r){lre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lre(t,e,n){return(e=ure(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ure(t){var e=cre(t,"string");return typeof e=="symbol"?e:e+""}function cre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fre(t,e){if(t==null)return{};var n,r,i=dre(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function dre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var hre=(t,e,n,r,i,o)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(o,",").concat(e,"h").concat(n),pre=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:o=0,height:s=0,className:u}=t,c=fre(t,are),d=sre({x:e,y:n,top:r,left:i,width:o,height:s},c);return!Ve(e)||!Ve(n)||!Ve(o)||!Ve(s)||!Ve(r)||!Ve(i)?null:N.createElement("path",xw({},Ei(d),{className:an("recharts-cross",u),d:hre(e,n,o,s,r,i)}))};function mre(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function JO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JO(Object(n),!0).forEach(function(r){gre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gre(t,e,n){return(e=yre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yre(t){var e=vre(t,"string");return typeof e=="symbol"?e:e+""}function vre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _re=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),c3=(t,e,n)=>t.map(r=>"".concat(_re(r)," ").concat(e,"ms ").concat(n)).join(","),Ere=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),sp=(t,e)=>Object.keys(e).reduce((n,r)=>XO(XO({},n),{},{[r]:t(r,e[r])}),{});function QO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QO(Object(n),!0).forEach(function(r){Tre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tre(t,e,n){return(e=Sre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sre(t){var e=bre(t,"string");return typeof e=="symbol"?e:e+""}function bre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hv=(t,e,n)=>t+(e-t)*n,Mw=t=>{var{from:e,to:n}=t;return e!==n},f3=(t,e,n)=>{var r=sp((i,o)=>{if(Mw(o)){var[s,u]=t(o.from,o.to,o.velocity);return Cn(Cn({},o),{},{from:s,velocity:u})}return o},e);return n<1?sp((i,o)=>Mw(o)?Cn(Cn({},o),{},{velocity:hv(o.velocity,r[i].velocity,n),from:hv(o.from,r[i].from,n)}):o,e):f3(t,r,n-1)};function wre(t,e,n,r,i,o){var s,u=r.reduce((_,S)=>Cn(Cn({},_),{},{[S]:{from:t[S],velocity:0,to:e[S]}}),{}),c=()=>sp((_,S)=>S.from,u),d=()=>!Object.values(u).filter(Mw).length,h=null,m=_=>{s||(s=_);var S=_-s,w=S/n.dt;u=f3(n,u,w),i(Cn(Cn(Cn({},t),e),c())),s=_,d()||(h=o.setTimeout(m))};return()=>(h=o.setTimeout(m),()=>{var _;(_=h)===null||_===void 0||_()})}function Are(t,e,n,r,i,o,s){var u=null,c=i.reduce((m,_)=>Cn(Cn({},m),{},{[_]:[t[_],e[_]]}),{}),d,h=m=>{d||(d=m);var _=(m-d)/r,S=sp((A,C)=>hv(...C,n(_)),c);if(o(Cn(Cn(Cn({},t),e),S)),_<1)u=s.setTimeout(h);else{var w=sp((A,C)=>hv(...C,n(1)),c);o(Cn(Cn(Cn({},t),e),w))}};return()=>(u=s.setTimeout(h),()=>{var m;(m=u)===null||m===void 0||m()})}const Ire=(t,e,n,r,i,o)=>{var s=Ere(t,e);return n==null?()=>(i(Cn(Cn({},t),e)),()=>{}):n.isStepper===!0?wre(t,e,n,s,i,o):Are(t,e,n,r,s,i,o)};var pv=1e-4,d3=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],h3=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),ZO=(t,e)=>n=>{var r=d3(t,e);return h3(r,n)},Cre=(t,e)=>n=>{var r=d3(t,e),i=[...r.map((o,s)=>o*s).slice(1),0];return h3(i,n)},Rre=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i,o=n[0].split("(");if(o[0]==="cubic-bezier"&&((i=o[1])===null||i===void 0?void 0:i.split(")")[0].split(",").length)===4){var s=o[1].split(")")[0].split(",").map(u=>parseFloat(u));return[s[0],s[1],s[2],s[3]]}}}return n.length===4?n:[0,0,1,1]},Pre=(t,e,n,r)=>{var i=ZO(t,n),o=ZO(e,r),s=Cre(t,n),u=d=>d>1?1:d<0?0:d,c=d=>{for(var h=d>1?1:d,m=h,_=0;_<8;++_){var S=i(m)-h,w=s(m);if(Math.abs(S-h)<pv||w<pv)return o(m);m=u(m-S/w)}return o(m)};return c.isStepper=!1,c},ek=function(){return Pre(...Rre(...arguments))},xre=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,o=(s,u,c)=>{var d=-(s-u)*n,h=c*r,m=c+(d-h)*i/1e3,_=c*i/1e3+s;return Math.abs(_-u)<pv&&Math.abs(m)<pv?[u,0]:[_,m]};return o.isStepper=!0,o.dt=i,o},Mre=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return ek(t);case"spring":return xre();default:if(t.split("(")[0]==="cubic-bezier")return ek(t)}return typeof t=="function"?t:null};function Nre(t){var e,n=()=>null,r=!1,i=null,o=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var u=s,[c,...d]=u;if(typeof c=="number"){i=t.setTimeout(o.bind(null,d),c);return}o(c),i=t.setTimeout(o.bind(null,d));return}typeof s=="string"&&(e=s,n(e)),typeof s=="object"&&(e=s,n(e)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,i&&(i(),i=null),o(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>t}}class Dre{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,o=s=>{s-r>=n?e(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(o))};return i=requestAnimationFrame(o),()=>{i!=null&&cancelAnimationFrame(i)}}}function Ore(){return Nre(new Dre)}var kre=N.createContext(Ore);function Lre(t,e){var n=N.useContext(kre);return N.useMemo(()=>e??n(t),[t,e,n])}var Vre=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),H_={devToolsEnabled:!1,isSsr:Vre()},Ure={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},tk={t:0},GS={t:1};function JI(t){var e=bi(t,Ure),{isActive:n,canBegin:r,duration:i,easing:o,begin:s,onAnimationEnd:u,onAnimationStart:c,children:d}=e,h=n==="auto"?!H_.isSsr:n,m=Lre(e.animationId,e.animationManager),[_,S]=N.useState(h?tk:GS),w=N.useRef(null);return N.useEffect(()=>{h||S(GS)},[h]),N.useEffect(()=>{if(!h||!r)return Dp;var A=Ire(tk,GS,Mre(o),i,S,m.getTimeoutController()),C=()=>{w.current=A()};return m.start([c,s,C,i,u]),()=>{m.stop(),w.current&&w.current(),u()}},[h,r,i,o,s,c,u,m]),d(_.t)}function XI(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=N.useRef(ep(e)),r=N.useRef(t);return r.current!==t&&(n.current=ep(e),r.current=t),n.current}var Fre=["radius"],qre=["radius"];function nk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nk(Object(n),!0).forEach(function(r){Bre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bre(t,e,n){return(e=zre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zre(t){var e=Gre(t,"string");return typeof e=="symbol"?e:e+""}function Gre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mv(){return mv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mv.apply(null,arguments)}function ik(t,e){if(t==null)return{};var n,r,i=Hre(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Hre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ok=(t,e,n,r,i)=>{var o=Math.min(Math.abs(n)/2,Math.abs(r)/2),s=r>=0?1:-1,u=n>=0?1:-1,c=r>=0&&n>=0||r<0&&n<0?1:0,d;if(o>0&&i instanceof Array){for(var h=[0,0,0,0],m=0,_=4;m<_;m++)h[m]=i[m]>o?o:i[m];d="M".concat(t,",").concat(e+s*h[0]),h[0]>0&&(d+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(c,",").concat(t+u*h[0],",").concat(e)),d+="L ".concat(t+n-u*h[1],",").concat(e),h[1]>0&&(d+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(c,`,
        `).concat(t+n,",").concat(e+s*h[1])),d+="L ".concat(t+n,",").concat(e+r-s*h[2]),h[2]>0&&(d+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(c,`,
        `).concat(t+n-u*h[2],",").concat(e+r)),d+="L ".concat(t+u*h[3],",").concat(e+r),h[3]>0&&(d+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(c,`,
        `).concat(t,",").concat(e+r-s*h[3])),d+="Z"}else if(o>0&&i===+i&&i>0){var S=Math.min(o,i);d="M ".concat(t,",").concat(e+s*S,`
            A `).concat(S,",").concat(S,",0,0,").concat(c,",").concat(t+u*S,",").concat(e,`
            L `).concat(t+n-u*S,",").concat(e,`
            A `).concat(S,",").concat(S,",0,0,").concat(c,",").concat(t+n,",").concat(e+s*S,`
            L `).concat(t+n,",").concat(e+r-s*S,`
            A `).concat(S,",").concat(S,",0,0,").concat(c,",").concat(t+n-u*S,",").concat(e+r,`
            L `).concat(t+u*S,",").concat(e+r,`
            A `).concat(S,",").concat(S,",0,0,").concat(c,",").concat(t,",").concat(e+r-s*S," Z")}else d="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return d},ak={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},p3=t=>{var e=bi(t,ak),n=N.useRef(null),[r,i]=N.useState(-1);N.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var fe=n.current.getTotalLength();fe&&i(fe)}catch{}},[]);var{x:o,y:s,width:u,height:c,radius:d,className:h}=e,{animationEasing:m,animationDuration:_,animationBegin:S,isAnimationActive:w,isUpdateAnimationActive:A}=e,C=N.useRef(u),M=N.useRef(c),U=N.useRef(o),L=N.useRef(s),H=N.useMemo(()=>({x:o,y:s,width:u,height:c,radius:d}),[o,s,u,c,d]),z=XI(H,"rectangle-");if(o!==+o||s!==+s||u!==+u||c!==+c||u===0||c===0)return null;var G=an("recharts-rectangle",h);if(!A){var P=Ei(e),{radius:D}=P,x=ik(P,Fre);return N.createElement("path",mv({},x,{radius:typeof d=="number"?d:void 0,className:G,d:ok(o,s,u,c,d)}))}var F=C.current,k=M.current,B=U.current,q=L.current,Se="0px ".concat(r===-1?1:r,"px"),De="".concat(r,"px 0px"),Q=c3(["strokeDasharray"],_,typeof m=="string"?m:ak.animationEasing);return N.createElement(JI,{animationId:z,key:z,canBegin:r>0,duration:_,easing:m,isActive:A,begin:S},fe=>{var Ee=Ui(F,u,fe),Ce=Ui(k,c,fe),$e=Ui(B,o,fe),K=Ui(q,s,fe);n.current&&(C.current=Ee,M.current=Ce,U.current=$e,L.current=K);var oe;w?fe>0?oe={transition:Q,strokeDasharray:De}:oe={strokeDasharray:Se}:oe={strokeDasharray:De};var me=Ei(e),{radius:ve}=me,xe=ik(me,qre);return N.createElement("path",mv({},xe,{radius:typeof d=="number"?d:void 0,className:G,d:ok($e,K,Ee,Ce,d),ref:n,style:rk(rk({},oe),e.style)}))})};function sk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sk(Object(n),!0).forEach(function(r){$re(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $re(t,e,n){return(e=Kre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kre(t){var e=Yre(t,"string");return typeof e=="symbol"?e:e+""}function Yre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gv=Math.PI/180,Wre=t=>t*180/Math.PI,Tn=(t,e,n,r)=>({x:t+Math.cos(-gv*r)*n,y:e+Math.sin(-gv*r)*n}),m3=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},jre=(t,e)=>{var{x:n,y:r}=t,{x:i,y:o}=e;return Math.sqrt((n-i)**2+(r-o)**2)},Jre=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:o}=e,s=jre({x:n,y:r},{x:i,y:o});if(s<=0)return{radius:s,angle:0};var u=(n-i)/s,c=Math.acos(u);return r>o&&(c=2*Math.PI-c),{radius:s,angle:Wre(c),angleInRadian:c}},Xre=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),o=Math.min(r,i);return{startAngle:e-o*360,endAngle:n-o*360}},Qre=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),o=Math.floor(r/360),s=Math.min(i,o);return t+s*360},Zre=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:o}=Jre({x:n,y:r},e),{innerRadius:s,outerRadius:u}=e;if(i<s||i>u||i===0)return null;var{startAngle:c,endAngle:d}=Xre(e),h=o,m;if(c<=d){for(;h>d;)h-=360;for(;h<c;)h+=360;m=h>=c&&h<=d}else{for(;h>c;)h-=360;for(;h<d;)h+=360;m=h>=d&&h<=c}return m?lk(lk({},e),{},{radius:i,angle:Qre(h,e)}):null};function g3(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:o}=t,s=Tn(e,n,r,i),u=Tn(e,n,r,o);return{points:[s,u],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function Nw(){return Nw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nw.apply(null,arguments)}var eie=(t,e)=>{var n=br(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},Yg=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:o,isExternal:s,cornerRadius:u,cornerIsExternal:c}=t,d=u*(s?1:-1)+r,h=Math.asin(u/d)/gv,m=c?i:i+o*h,_=Tn(e,n,d,m),S=Tn(e,n,r,m),w=c?i-o*h:i,A=Tn(e,n,d*Math.cos(h*gv),w);return{center:_,circleTangency:S,lineTangency:A,theta:h}},y3=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:o,endAngle:s}=t,u=eie(o,s),c=o+u,d=Tn(e,n,i,o),h=Tn(e,n,i,c),m="M ".concat(d.x,",").concat(d.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(o>c),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(r>0){var _=Tn(e,n,r,o),S=Tn(e,n,r,c);m+="L ".concat(S.x,",").concat(S.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(o<=c),`,
            `).concat(_.x,",").concat(_.y," Z")}else m+="L ".concat(e,",").concat(n," Z");return m},tie=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:o,forceCornerRadius:s,cornerIsExternal:u,startAngle:c,endAngle:d}=t,h=br(d-c),{circleTangency:m,lineTangency:_,theta:S}=Yg({cx:e,cy:n,radius:i,angle:c,sign:h,cornerRadius:o,cornerIsExternal:u}),{circleTangency:w,lineTangency:A,theta:C}=Yg({cx:e,cy:n,radius:i,angle:d,sign:-h,cornerRadius:o,cornerIsExternal:u}),M=u?Math.abs(c-d):Math.abs(c-d)-S-C;if(M<0)return s?"M ".concat(_.x,",").concat(_.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):y3({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:c,endAngle:d});var U="M ".concat(_.x,",").concat(_.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(M>180),",").concat(+(h<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(A.x,",").concat(A.y,`
  `);if(r>0){var{circleTangency:L,lineTangency:H,theta:z}=Yg({cx:e,cy:n,radius:r,angle:c,sign:h,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),{circleTangency:G,lineTangency:P,theta:D}=Yg({cx:e,cy:n,radius:r,angle:d,sign:-h,isExternal:!0,cornerRadius:o,cornerIsExternal:u}),x=u?Math.abs(c-d):Math.abs(c-d)-z-D;if(x<0&&o===0)return"".concat(U,"L").concat(e,",").concat(n,"Z");U+="L".concat(P.x,",").concat(P.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(G.x,",").concat(G.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(x>180),",").concat(+(h>0),",").concat(L.x,",").concat(L.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(h<0),",").concat(H.x,",").concat(H.y,"Z")}else U+="L".concat(e,",").concat(n,"Z");return U},nie={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},v3=t=>{var e=bi(t,nie),{cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:s,forceCornerRadius:u,cornerIsExternal:c,startAngle:d,endAngle:h,className:m}=e;if(o<i||d===h)return null;var _=an("recharts-sector",m),S=o-i,w=$r(s,S,0,!0),A;return w>0&&Math.abs(d-h)<360?A=tie({cx:n,cy:r,innerRadius:i,outerRadius:o,cornerRadius:Math.min(w,S/2),forceCornerRadius:u,cornerIsExternal:c,startAngle:d,endAngle:h}):A=y3({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:d,endAngle:h}),N.createElement("path",Nw({},Ei(e),{className:_,d:A}))};function rie(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if(Qq(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:o,outerRadius:s,angle:u}=e,c=Tn(r,i,o,u),d=Tn(r,i,s,u);return[{x:c.x,y:c.y},{x:d.x,y:d.y}]}return g3(e)}}var HS={},$S={},KS={},uk;function iie(){return uk||(uk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fB();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(KS)),KS}var ck;function oie(){return ck||(ck=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=iie();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})($S)),$S}var fk;function aie(){return fk||(fk=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=dB(),n=oie();function r(i,o,s){s&&typeof s!="number"&&e.isIterateeCall(i,o,s)&&(o=s=void 0),i=n.toFinite(i),o===void 0?(o=i,i=0):o=n.toFinite(o),s=s===void 0?i<o?1:-1:n.toFinite(s);const u=Math.max(Math.ceil((o-i)/(s||1)),0),c=new Array(u);for(let d=0;d<u;d++)c[d]=i,i+=s;return c}t.range=r})(HS)),HS}var YS,dk;function sie(){return dk||(dk=1,YS=aie().range),YS}var lie=sie();const _3=Oo(lie);function Rs(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function uie(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function QI(t){let e,n,r;t.length!==2?(e=Rs,n=(u,c)=>Rs(t(u),c),r=(u,c)=>t(u)-c):(e=t===Rs||t===uie?t:cie,n=t,r=t);function i(u,c,d=0,h=u.length){if(d<h){if(e(c,c)!==0)return h;do{const m=d+h>>>1;n(u[m],c)<0?d=m+1:h=m}while(d<h)}return d}function o(u,c,d=0,h=u.length){if(d<h){if(e(c,c)!==0)return h;do{const m=d+h>>>1;n(u[m],c)<=0?d=m+1:h=m}while(d<h)}return d}function s(u,c,d=0,h=u.length){const m=i(u,c,d,h-1);return m>d&&r(u[m-1],c)>-r(u[m],c)?m-1:m}return{left:i,center:s,right:o}}function cie(){return 0}function E3(t){return t===null?NaN:+t}function*fie(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const die=QI(Rs),Fp=die.right;QI(E3).center;class hk extends Map{constructor(e,n=mie){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(pk(this,e))}has(e){return super.has(pk(this,e))}set(e,n){return super.set(hie(this,e),n)}delete(e){return super.delete(pie(this,e))}}function pk({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function hie({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function pie({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function mie(t){return t!==null&&typeof t=="object"?t.valueOf():t}function gie(t=Rs){if(t===Rs)return T3;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function T3(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const yie=Math.sqrt(50),vie=Math.sqrt(10),_ie=Math.sqrt(2);function yv(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=yie?10:o>=vie?5:o>=_ie?2:1;let u,c,d;return i<0?(d=Math.pow(10,-i)/s,u=Math.round(t*d),c=Math.round(e*d),u/d<t&&++u,c/d>e&&--c,d=-d):(d=Math.pow(10,i)*s,u=Math.round(t/d),c=Math.round(e/d),u*d<t&&++u,c*d>e&&--c),c<u&&.5<=n&&n<2?yv(t,e,n*2):[u,c,d]}function Dw(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,s]=r?yv(e,t,n):yv(t,e,n);if(!(o>=i))return[];const u=o-i+1,c=new Array(u);if(r)if(s<0)for(let d=0;d<u;++d)c[d]=(o-d)/-s;else for(let d=0;d<u;++d)c[d]=(o-d)*s;else if(s<0)for(let d=0;d<u;++d)c[d]=(i+d)/-s;else for(let d=0;d<u;++d)c[d]=(i+d)*s;return c}function Ow(t,e,n){return e=+e,t=+t,n=+n,yv(t,e,n)[2]}function kw(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Ow(e,t,n):Ow(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function mk(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function gk(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function S3(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?T3:gie(i);r>n;){if(r-n>600){const c=r-n+1,d=e-n+1,h=Math.log(c),m=.5*Math.exp(2*h/3),_=.5*Math.sqrt(h*m*(c-m)/c)*(d-c/2<0?-1:1),S=Math.max(n,Math.floor(e-d*m/c+_)),w=Math.min(r,Math.floor(e+(c-d)*m/c+_));S3(t,e,S,w,i)}const o=t[e];let s=n,u=r;for(th(t,n,e),i(t[r],o)>0&&th(t,n,r);s<u;){for(th(t,s,u),++s,--u;i(t[s],o)<0;)++s;for(;i(t[u],o)>0;)--u}i(t[n],o)===0?th(t,n,u):(++u,th(t,u,r)),u<=e&&(n=u+1),e<=u&&(r=u-1)}return t}function th(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Eie(t,e,n){if(t=Float64Array.from(fie(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return gk(t);if(e>=1)return mk(t);var r,i=(r-1)*e,o=Math.floor(i),s=mk(S3(t,o).subarray(0,o+1)),u=gk(t.subarray(o+1));return s+(u-s)*(i-o)}}function Tie(t,e,n=E3){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),s=+n(t[o],o,t),u=+n(t[o+1],o+1,t);return s+(u-s)*(i-o)}}function Sie(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function wi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Pa(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Lw=Symbol("implicit");function ZI(){var t=new hk,e=[],n=[],r=Lw;function i(o){let s=t.get(o);if(s===void 0){if(r!==Lw)return r;t.set(o,s=e.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new hk;for(const s of o)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return ZI(e,n).unknown(r)},wi.apply(i,arguments),i}function eC(){var t=ZI().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,s,u=!1,c=0,d=0,h=.5;delete t.unknown;function m(){var _=e().length,S=i<r,w=S?i:r,A=S?r:i;o=(A-w)/Math.max(1,_-c+d*2),u&&(o=Math.floor(o)),w+=(A-w-o*(_-c))*h,s=o*(1-c),u&&(w=Math.round(w),s=Math.round(s));var C=Sie(_).map(function(M){return w+o*M});return n(S?C.reverse():C)}return t.domain=function(_){return arguments.length?(e(_),m()):e()},t.range=function(_){return arguments.length?([r,i]=_,r=+r,i=+i,m()):[r,i]},t.rangeRound=function(_){return[r,i]=_,r=+r,i=+i,u=!0,m()},t.bandwidth=function(){return s},t.step=function(){return o},t.round=function(_){return arguments.length?(u=!!_,m()):u},t.padding=function(_){return arguments.length?(c=Math.min(1,d=+_),m()):c},t.paddingInner=function(_){return arguments.length?(c=Math.min(1,_),m()):c},t.paddingOuter=function(_){return arguments.length?(d=+_,m()):d},t.align=function(_){return arguments.length?(h=Math.max(0,Math.min(1,_)),m()):h},t.copy=function(){return eC(e(),[r,i]).round(u).paddingInner(c).paddingOuter(d).align(h)},wi.apply(m(),arguments)}function b3(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return b3(e())},t}function bie(){return b3(eC.apply(null,arguments).paddingInner(1))}function tC(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function w3(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function qp(){}var lp=.7,vv=1/lp,qc="\\s*([+-]?\\d+)\\s*",up="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",xo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",wie=/^#([0-9a-f]{3,8})$/,Aie=new RegExp(`^rgb\\(${qc},${qc},${qc}\\)$`),Iie=new RegExp(`^rgb\\(${xo},${xo},${xo}\\)$`),Cie=new RegExp(`^rgba\\(${qc},${qc},${qc},${up}\\)$`),Rie=new RegExp(`^rgba\\(${xo},${xo},${xo},${up}\\)$`),Pie=new RegExp(`^hsl\\(${up},${xo},${xo}\\)$`),xie=new RegExp(`^hsla\\(${up},${xo},${xo},${up}\\)$`),yk={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};tC(qp,cp,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:vk,formatHex:vk,formatHex8:Mie,formatHsl:Nie,formatRgb:_k,toString:_k});function vk(){return this.rgb().formatHex()}function Mie(){return this.rgb().formatHex8()}function Nie(){return A3(this).formatHsl()}function _k(){return this.rgb().formatRgb()}function cp(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=wie.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Ek(e):n===3?new wr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Wg(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Wg(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Aie.exec(t))?new wr(e[1],e[2],e[3],1):(e=Iie.exec(t))?new wr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Cie.exec(t))?Wg(e[1],e[2],e[3],e[4]):(e=Rie.exec(t))?Wg(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Pie.exec(t))?bk(e[1],e[2]/100,e[3]/100,1):(e=xie.exec(t))?bk(e[1],e[2]/100,e[3]/100,e[4]):yk.hasOwnProperty(t)?Ek(yk[t]):t==="transparent"?new wr(NaN,NaN,NaN,0):null}function Ek(t){return new wr(t>>16&255,t>>8&255,t&255,1)}function Wg(t,e,n,r){return r<=0&&(t=e=n=NaN),new wr(t,e,n,r)}function Die(t){return t instanceof qp||(t=cp(t)),t?(t=t.rgb(),new wr(t.r,t.g,t.b,t.opacity)):new wr}function Vw(t,e,n,r){return arguments.length===1?Die(t):new wr(t,e,n,r??1)}function wr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}tC(wr,Vw,w3(qp,{brighter(t){return t=t==null?vv:Math.pow(vv,t),new wr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?lp:Math.pow(lp,t),new wr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new wr(Jl(this.r),Jl(this.g),Jl(this.b),_v(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Tk,formatHex:Tk,formatHex8:Oie,formatRgb:Sk,toString:Sk}));function Tk(){return`#${Bl(this.r)}${Bl(this.g)}${Bl(this.b)}`}function Oie(){return`#${Bl(this.r)}${Bl(this.g)}${Bl(this.b)}${Bl((isNaN(this.opacity)?1:this.opacity)*255)}`}function Sk(){const t=_v(this.opacity);return`${t===1?"rgb(":"rgba("}${Jl(this.r)}, ${Jl(this.g)}, ${Jl(this.b)}${t===1?")":`, ${t})`}`}function _v(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Jl(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Bl(t){return t=Jl(t),(t<16?"0":"")+t.toString(16)}function bk(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Bi(t,e,n,r)}function A3(t){if(t instanceof Bi)return new Bi(t.h,t.s,t.l,t.opacity);if(t instanceof qp||(t=cp(t)),!t)return new Bi;if(t instanceof Bi)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,u=o-i,c=(o+i)/2;return u?(e===o?s=(n-r)/u+(n<r)*6:n===o?s=(r-e)/u+2:s=(e-n)/u+4,u/=c<.5?o+i:2-o-i,s*=60):u=c>0&&c<1?0:s,new Bi(s,u,c,t.opacity)}function kie(t,e,n,r){return arguments.length===1?A3(t):new Bi(t,e,n,r??1)}function Bi(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}tC(Bi,kie,w3(qp,{brighter(t){return t=t==null?vv:Math.pow(vv,t),new Bi(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?lp:Math.pow(lp,t),new Bi(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new wr(WS(t>=240?t-240:t+120,i,r),WS(t,i,r),WS(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Bi(wk(this.h),jg(this.s),jg(this.l),_v(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=_v(this.opacity);return`${t===1?"hsl(":"hsla("}${wk(this.h)}, ${jg(this.s)*100}%, ${jg(this.l)*100}%${t===1?")":`, ${t})`}`}}));function wk(t){return t=(t||0)%360,t<0?t+360:t}function jg(t){return Math.max(0,Math.min(1,t||0))}function WS(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const nC=t=>()=>t;function Lie(t,e){return function(n){return t+n*e}}function Vie(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Uie(t){return(t=+t)==1?I3:function(e,n){return n-e?Vie(e,n,t):nC(isNaN(e)?n:e)}}function I3(t,e){var n=e-t;return n?Lie(t,n):nC(isNaN(t)?e:t)}const Ak=(function t(e){var n=Uie(e);function r(i,o){var s=n((i=Vw(i)).r,(o=Vw(o)).r),u=n(i.g,o.g),c=n(i.b,o.b),d=I3(i.opacity,o.opacity);return function(h){return i.r=s(h),i.g=u(h),i.b=c(h),i.opacity=d(h),i+""}}return r.gamma=t,r})(1);function Fie(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function qie(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Bie(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=Pf(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(u){for(s=0;s<r;++s)o[s]=i[s](u);return o}}function zie(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Ev(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Gie(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Pf(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Uw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,jS=new RegExp(Uw.source,"g");function Hie(t){return function(){return t}}function $ie(t){return function(e){return t(e)+""}}function Kie(t,e){var n=Uw.lastIndex=jS.lastIndex=0,r,i,o,s=-1,u=[],c=[];for(t=t+"",e=e+"";(r=Uw.exec(t))&&(i=jS.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),u[s]?u[s]+=o:u[++s]=o),(r=r[0])===(i=i[0])?u[s]?u[s]+=i:u[++s]=i:(u[++s]=null,c.push({i:s,x:Ev(r,i)})),n=jS.lastIndex;return n<e.length&&(o=e.slice(n),u[s]?u[s]+=o:u[++s]=o),u.length<2?c[0]?$ie(c[0].x):Hie(e):(e=c.length,function(d){for(var h=0,m;h<e;++h)u[(m=c[h]).i]=m.x(d);return u.join("")})}function Pf(t,e){var n=typeof e,r;return e==null||n==="boolean"?nC(e):(n==="number"?Ev:n==="string"?(r=cp(e))?(e=r,Ak):Kie:e instanceof cp?Ak:e instanceof Date?zie:qie(e)?Fie:Array.isArray(e)?Bie:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Gie:Ev)(t,e)}function rC(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Yie(t,e){e===void 0&&(e=t,t=Pf);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(s){var u=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return o[u](s-u)}}function Wie(t){return function(){return t}}function Tv(t){return+t}var Ik=[0,1];function lr(t){return t}function Fw(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Wie(isNaN(e)?NaN:.5)}function jie(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Jie(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=Fw(i,r),o=n(s,o)):(r=Fw(r,i),o=n(o,s)),function(u){return o(r(u))}}function Xie(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=Fw(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(u){var c=Fp(t,u,1,r)-1;return o[c](i[c](u))}}function Bp(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function $_(){var t=Ik,e=Ik,n=Pf,r,i,o,s=lr,u,c,d;function h(){var _=Math.min(t.length,e.length);return s!==lr&&(s=jie(t[0],t[_-1])),u=_>2?Xie:Jie,c=d=null,m}function m(_){return _==null||isNaN(_=+_)?o:(c||(c=u(t.map(r),e,n)))(r(s(_)))}return m.invert=function(_){return s(i((d||(d=u(e,t.map(r),Ev)))(_)))},m.domain=function(_){return arguments.length?(t=Array.from(_,Tv),h()):t.slice()},m.range=function(_){return arguments.length?(e=Array.from(_),h()):e.slice()},m.rangeRound=function(_){return e=Array.from(_),n=rC,h()},m.clamp=function(_){return arguments.length?(s=_?!0:lr,h()):s!==lr},m.interpolate=function(_){return arguments.length?(n=_,h()):n},m.unknown=function(_){return arguments.length?(o=_,m):o},function(_,S){return r=_,i=S,h()}}function iC(){return $_()(lr,lr)}function Qie(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Sv(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function gf(t){return t=Sv(Math.abs(t)),t?t[1]:NaN}function Zie(t,e){return function(n,r){for(var i=n.length,o=[],s=0,u=t[0],c=0;i>0&&u>0&&(c+u+1>r&&(u=Math.max(1,r-c)),o.push(n.substring(i-=u,i+u)),!((c+=u+1)>r));)u=t[s=(s+1)%t.length];return o.reverse().join(e)}}function eoe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var toe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function fp(t){if(!(e=toe.exec(t)))throw new Error("invalid format: "+t);var e;return new oC({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}fp.prototype=oC.prototype;function oC(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}oC.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function noe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var C3;function roe(t,e){var n=Sv(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(C3=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Sv(t,Math.max(0,e+o-1))[0]}function Ck(t,e){var n=Sv(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Rk={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Qie,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Ck(t*100,e),r:Ck,s:roe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Pk(t){return t}var xk=Array.prototype.map,Mk=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function ioe(t){var e=t.grouping===void 0||t.thousands===void 0?Pk:Zie(xk.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?Pk:eoe(xk.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function d(m){m=fp(m);var _=m.fill,S=m.align,w=m.sign,A=m.symbol,C=m.zero,M=m.width,U=m.comma,L=m.precision,H=m.trim,z=m.type;z==="n"?(U=!0,z="g"):Rk[z]||(L===void 0&&(L=12),H=!0,z="g"),(C||_==="0"&&S==="=")&&(C=!0,_="0",S="=");var G=A==="$"?n:A==="#"&&/[boxX]/.test(z)?"0"+z.toLowerCase():"",P=A==="$"?r:/[%p]/.test(z)?s:"",D=Rk[z],x=/[defgprs%]/.test(z);L=L===void 0?6:/[gprs]/.test(z)?Math.max(1,Math.min(21,L)):Math.max(0,Math.min(20,L));function F(k){var B=G,q=P,Se,De,Q;if(z==="c")q=D(k)+q,k="";else{k=+k;var fe=k<0||1/k<0;if(k=isNaN(k)?c:D(Math.abs(k),L),H&&(k=noe(k)),fe&&+k==0&&w!=="+"&&(fe=!1),B=(fe?w==="("?w:u:w==="-"||w==="("?"":w)+B,q=(z==="s"?Mk[8+C3/3]:"")+q+(fe&&w==="("?")":""),x){for(Se=-1,De=k.length;++Se<De;)if(Q=k.charCodeAt(Se),48>Q||Q>57){q=(Q===46?i+k.slice(Se+1):k.slice(Se))+q,k=k.slice(0,Se);break}}}U&&!C&&(k=e(k,1/0));var Ee=B.length+k.length+q.length,Ce=Ee<M?new Array(M-Ee+1).join(_):"";switch(U&&C&&(k=e(Ce+k,Ce.length?M-q.length:1/0),Ce=""),S){case"<":k=B+k+q+Ce;break;case"=":k=B+Ce+k+q;break;case"^":k=Ce.slice(0,Ee=Ce.length>>1)+B+k+q+Ce.slice(Ee);break;default:k=Ce+B+k+q;break}return o(k)}return F.toString=function(){return m+""},F}function h(m,_){var S=d((m=fp(m),m.type="f",m)),w=Math.max(-8,Math.min(8,Math.floor(gf(_)/3)))*3,A=Math.pow(10,-w),C=Mk[8+w/3];return function(M){return S(A*M)+C}}return{format:d,formatPrefix:h}}var Jg,aC,R3;ooe({thousands:",",grouping:[3],currency:["$",""]});function ooe(t){return Jg=ioe(t),aC=Jg.format,R3=Jg.formatPrefix,Jg}function aoe(t){return Math.max(0,-gf(Math.abs(t)))}function soe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(gf(e)/3)))*3-gf(Math.abs(t)))}function loe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,gf(e)-gf(t))+1}function P3(t,e,n,r){var i=kw(t,e,n),o;switch(r=fp(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=soe(i,s))&&(r.precision=o),R3(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=loe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=aoe(i))&&(r.precision=o-(r.type==="%")*2);break}}return aC(r)}function Ks(t){var e=t.domain;return t.ticks=function(n){var r=e();return Dw(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return P3(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],u=r[o],c,d,h=10;for(u<s&&(d=s,s=u,u=d,d=i,i=o,o=d);h-- >0;){if(d=Ow(s,u,n),d===c)return r[i]=s,r[o]=u,e(r);if(d>0)s=Math.floor(s/d)*d,u=Math.ceil(u/d)*d;else if(d<0)s=Math.ceil(s*d)/d,u=Math.floor(u*d)/d;else break;c=d}return t},t}function x3(){var t=iC();return t.copy=function(){return Bp(t,x3())},wi.apply(t,arguments),Ks(t)}function M3(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Tv),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return M3(t).unknown(e)},t=arguments.length?Array.from(t,Tv):[0,1],Ks(n)}function N3(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],s;return o<i&&(s=n,n=r,r=s,s=i,i=o,o=s),t[n]=e.floor(i),t[r]=e.ceil(o),t}function Nk(t){return Math.log(t)}function Dk(t){return Math.exp(t)}function uoe(t){return-Math.log(-t)}function coe(t){return-Math.exp(-t)}function foe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function doe(t){return t===10?foe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function hoe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function Ok(t){return(e,n)=>-t(-e,n)}function sC(t){const e=t(Nk,Dk),n=e.domain;let r=10,i,o;function s(){return i=hoe(r),o=doe(r),n()[0]<0?(i=Ok(i),o=Ok(o),t(uoe,coe)):t(Nk,Dk),e}return e.base=function(u){return arguments.length?(r=+u,s()):r},e.domain=function(u){return arguments.length?(n(u),s()):n()},e.ticks=u=>{const c=n();let d=c[0],h=c[c.length-1];const m=h<d;m&&([d,h]=[h,d]);let _=i(d),S=i(h),w,A;const C=u==null?10:+u;let M=[];if(!(r%1)&&S-_<C){if(_=Math.floor(_),S=Math.ceil(S),d>0){for(;_<=S;++_)for(w=1;w<r;++w)if(A=_<0?w/o(-_):w*o(_),!(A<d)){if(A>h)break;M.push(A)}}else for(;_<=S;++_)for(w=r-1;w>=1;--w)if(A=_>0?w/o(-_):w*o(_),!(A<d)){if(A>h)break;M.push(A)}M.length*2<C&&(M=Dw(d,h,C))}else M=Dw(_,S,Math.min(S-_,C)).map(o);return m?M.reverse():M},e.tickFormat=(u,c)=>{if(u==null&&(u=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=fp(c)).precision==null&&(c.trim=!0),c=aC(c)),u===1/0)return c;const d=Math.max(1,r*u/e.ticks().length);return h=>{let m=h/o(Math.round(i(h)));return m*r<r-.5&&(m*=r),m<=d?c(h):""}},e.nice=()=>n(N3(n(),{floor:u=>o(Math.floor(i(u))),ceil:u=>o(Math.ceil(i(u)))})),e}function D3(){const t=sC($_()).domain([1,10]);return t.copy=()=>Bp(t,D3()).base(t.base()),wi.apply(t,arguments),t}function kk(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Lk(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function lC(t){var e=1,n=t(kk(e),Lk(e));return n.constant=function(r){return arguments.length?t(kk(e=+r),Lk(e)):e},Ks(n)}function O3(){var t=lC($_());return t.copy=function(){return Bp(t,O3()).constant(t.constant())},wi.apply(t,arguments)}function Vk(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function poe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function moe(t){return t<0?-t*t:t*t}function uC(t){var e=t(lr,lr),n=1;function r(){return n===1?t(lr,lr):n===.5?t(poe,moe):t(Vk(n),Vk(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Ks(e)}function cC(){var t=uC($_());return t.copy=function(){return Bp(t,cC()).exponent(t.exponent())},wi.apply(t,arguments),t}function goe(){return cC.apply(null,arguments).exponent(.5)}function Uk(t){return Math.sign(t)*t*t}function yoe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function k3(){var t=iC(),e=[0,1],n=!1,r;function i(o){var s=yoe(t(o));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(o){return t.invert(Uk(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,Tv)).map(Uk)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return k3(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},wi.apply(i,arguments),Ks(i)}function L3(){var t=[],e=[],n=[],r;function i(){var s=0,u=Math.max(1,e.length);for(n=new Array(u-1);++s<u;)n[s-1]=Tie(t,s/u);return o}function o(s){return s==null||isNaN(s=+s)?r:e[Fp(n,s)]}return o.invertExtent=function(s){var u=e.indexOf(s);return u<0?[NaN,NaN]:[u>0?n[u-1]:t[0],u<n.length?n[u]:t[t.length-1]]},o.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let u of s)u!=null&&!isNaN(u=+u)&&t.push(u);return t.sort(Rs),i()},o.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},o.unknown=function(s){return arguments.length?(r=s,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return L3().domain(t).range(e).unknown(r)},wi.apply(o,arguments)}function V3(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function s(c){return c!=null&&c<=c?i[Fp(r,c,0,n)]:o}function u(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*e-(c-n)*t)/(n+1);return s}return s.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,u()):[t,e]},s.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,u()):i.slice()},s.invertExtent=function(c){var d=i.indexOf(c);return d<0?[NaN,NaN]:d<1?[t,r[0]]:d>=n?[r[n-1],e]:[r[d-1],r[d]]},s.unknown=function(c){return arguments.length&&(o=c),s},s.thresholds=function(){return r.slice()},s.copy=function(){return V3().domain([t,e]).range(i).unknown(o)},wi.apply(Ks(s),arguments)}function U3(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[Fp(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var s=e.indexOf(o);return[t[s-1],t[s]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return U3().domain(t).range(e).unknown(n)},wi.apply(i,arguments)}const JS=new Date,XS=new Date;function xn(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const s=i(o),u=i.ceil(o);return o-s<u-o?s:u},i.offset=(o,s)=>(e(o=new Date(+o),s==null?1:Math.floor(s)),o),i.range=(o,s,u)=>{const c=[];if(o=i.ceil(o),u=u==null?1:Math.floor(u),!(o<s)||!(u>0))return c;let d;do c.push(d=new Date(+o)),e(o,u),t(o);while(d<o&&o<s);return c},i.filter=o=>xn(s=>{if(s>=s)for(;t(s),!o(s);)s.setTime(s-1)},(s,u)=>{if(s>=s)if(u<0)for(;++u<=0;)for(;e(s,-1),!o(s););else for(;--u>=0;)for(;e(s,1),!o(s););}),n&&(i.count=(o,s)=>(JS.setTime(+o),XS.setTime(+s),t(JS),t(XS),Math.floor(n(JS,XS))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?s=>r(s)%o===0:s=>i.count(0,s)%o===0):i)),i}const bv=xn(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);bv.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?xn(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):bv);bv.range;const oa=1e3,gi=oa*60,aa=gi*60,_a=aa*24,fC=_a*7,Fk=_a*30,QS=_a*365,zl=xn(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*oa)},(t,e)=>(e-t)/oa,t=>t.getUTCSeconds());zl.range;const dC=xn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*oa)},(t,e)=>{t.setTime(+t+e*gi)},(t,e)=>(e-t)/gi,t=>t.getMinutes());dC.range;const hC=xn(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*gi)},(t,e)=>(e-t)/gi,t=>t.getUTCMinutes());hC.range;const pC=xn(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*oa-t.getMinutes()*gi)},(t,e)=>{t.setTime(+t+e*aa)},(t,e)=>(e-t)/aa,t=>t.getHours());pC.range;const mC=xn(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*aa)},(t,e)=>(e-t)/aa,t=>t.getUTCHours());mC.range;const zp=xn(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*gi)/_a,t=>t.getDate()-1);zp.range;const K_=xn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/_a,t=>t.getUTCDate()-1);K_.range;const F3=xn(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/_a,t=>Math.floor(t/_a));F3.range;function Tu(t){return xn(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*gi)/fC)}const Y_=Tu(0),wv=Tu(1),voe=Tu(2),_oe=Tu(3),yf=Tu(4),Eoe=Tu(5),Toe=Tu(6);Y_.range;wv.range;voe.range;_oe.range;yf.range;Eoe.range;Toe.range;function Su(t){return xn(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/fC)}const W_=Su(0),Av=Su(1),Soe=Su(2),boe=Su(3),vf=Su(4),woe=Su(5),Aoe=Su(6);W_.range;Av.range;Soe.range;boe.range;vf.range;woe.range;Aoe.range;const gC=xn(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());gC.range;const yC=xn(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());yC.range;const Ea=xn(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ea.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:xn(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ea.range;const Ta=xn(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ta.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:xn(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ta.range;function q3(t,e,n,r,i,o){const s=[[zl,1,oa],[zl,5,5*oa],[zl,15,15*oa],[zl,30,30*oa],[o,1,gi],[o,5,5*gi],[o,15,15*gi],[o,30,30*gi],[i,1,aa],[i,3,3*aa],[i,6,6*aa],[i,12,12*aa],[r,1,_a],[r,2,2*_a],[n,1,fC],[e,1,Fk],[e,3,3*Fk],[t,1,QS]];function u(d,h,m){const _=h<d;_&&([d,h]=[h,d]);const S=m&&typeof m.range=="function"?m:c(d,h,m),w=S?S.range(d,+h+1):[];return _?w.reverse():w}function c(d,h,m){const _=Math.abs(h-d)/m,S=QI(([,,C])=>C).right(s,_);if(S===s.length)return t.every(kw(d/QS,h/QS,m));if(S===0)return bv.every(Math.max(kw(d,h,m),1));const[w,A]=s[_/s[S-1][2]<s[S][2]/_?S-1:S];return w.every(A)}return[u,c]}const[Ioe,Coe]=q3(Ta,yC,W_,F3,mC,hC),[Roe,Poe]=q3(Ea,gC,Y_,zp,pC,dC);function ZS(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function eb(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function nh(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function xoe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,s=t.shortDays,u=t.months,c=t.shortMonths,d=rh(i),h=ih(i),m=rh(o),_=ih(o),S=rh(s),w=ih(s),A=rh(u),C=ih(u),M=rh(c),U=ih(c),L={a:fe,A:Ee,b:Ce,B:$e,c:null,d:$k,e:$k,f:Zoe,g:uae,G:fae,H:Joe,I:Xoe,j:Qoe,L:B3,m:eae,M:tae,p:K,q:oe,Q:Wk,s:jk,S:nae,u:rae,U:iae,V:oae,w:aae,W:sae,x:null,X:null,y:lae,Y:cae,Z:dae,"%":Yk},H={a:me,A:ve,b:xe,B:ke,c:null,d:Kk,e:Kk,f:gae,g:Iae,G:Rae,H:hae,I:pae,j:mae,L:G3,m:yae,M:vae,p:Oe,q:qt,Q:Wk,s:jk,S:_ae,u:Eae,U:Tae,V:Sae,w:bae,W:wae,x:null,X:null,y:Aae,Y:Cae,Z:Pae,"%":Yk},z={a:F,A:k,b:B,B:q,c:Se,d:Gk,e:Gk,f:Koe,g:zk,G:Bk,H:Hk,I:Hk,j:zoe,L:$oe,m:Boe,M:Goe,p:x,q:qoe,Q:Woe,s:joe,S:Hoe,u:koe,U:Loe,V:Voe,w:Ooe,W:Uoe,x:De,X:Q,y:zk,Y:Bk,Z:Foe,"%":Yoe};L.x=G(n,L),L.X=G(r,L),L.c=G(e,L),H.x=G(n,H),H.X=G(r,H),H.c=G(e,H);function G(le,Fe){return function(Ke){var de=[],Qt=-1,je=0,wn=le.length,Zt,Ir,Da;for(Ke instanceof Date||(Ke=new Date(+Ke));++Qt<wn;)le.charCodeAt(Qt)===37&&(de.push(le.slice(je,Qt)),(Ir=qk[Zt=le.charAt(++Qt)])!=null?Zt=le.charAt(++Qt):Ir=Zt==="e"?" ":"0",(Da=Fe[Zt])&&(Zt=Da(Ke,Ir)),de.push(Zt),je=Qt+1);return de.push(le.slice(je,Qt)),de.join("")}}function P(le,Fe){return function(Ke){var de=nh(1900,void 0,1),Qt=D(de,le,Ke+="",0),je,wn;if(Qt!=Ke.length)return null;if("Q"in de)return new Date(de.Q);if("s"in de)return new Date(de.s*1e3+("L"in de?de.L:0));if(Fe&&!("Z"in de)&&(de.Z=0),"p"in de&&(de.H=de.H%12+de.p*12),de.m===void 0&&(de.m="q"in de?de.q:0),"V"in de){if(de.V<1||de.V>53)return null;"w"in de||(de.w=1),"Z"in de?(je=eb(nh(de.y,0,1)),wn=je.getUTCDay(),je=wn>4||wn===0?Av.ceil(je):Av(je),je=K_.offset(je,(de.V-1)*7),de.y=je.getUTCFullYear(),de.m=je.getUTCMonth(),de.d=je.getUTCDate()+(de.w+6)%7):(je=ZS(nh(de.y,0,1)),wn=je.getDay(),je=wn>4||wn===0?wv.ceil(je):wv(je),je=zp.offset(je,(de.V-1)*7),de.y=je.getFullYear(),de.m=je.getMonth(),de.d=je.getDate()+(de.w+6)%7)}else("W"in de||"U"in de)&&("w"in de||(de.w="u"in de?de.u%7:"W"in de?1:0),wn="Z"in de?eb(nh(de.y,0,1)).getUTCDay():ZS(nh(de.y,0,1)).getDay(),de.m=0,de.d="W"in de?(de.w+6)%7+de.W*7-(wn+5)%7:de.w+de.U*7-(wn+6)%7);return"Z"in de?(de.H+=de.Z/100|0,de.M+=de.Z%100,eb(de)):ZS(de)}}function D(le,Fe,Ke,de){for(var Qt=0,je=Fe.length,wn=Ke.length,Zt,Ir;Qt<je;){if(de>=wn)return-1;if(Zt=Fe.charCodeAt(Qt++),Zt===37){if(Zt=Fe.charAt(Qt++),Ir=z[Zt in qk?Fe.charAt(Qt++):Zt],!Ir||(de=Ir(le,Ke,de))<0)return-1}else if(Zt!=Ke.charCodeAt(de++))return-1}return de}function x(le,Fe,Ke){var de=d.exec(Fe.slice(Ke));return de?(le.p=h.get(de[0].toLowerCase()),Ke+de[0].length):-1}function F(le,Fe,Ke){var de=S.exec(Fe.slice(Ke));return de?(le.w=w.get(de[0].toLowerCase()),Ke+de[0].length):-1}function k(le,Fe,Ke){var de=m.exec(Fe.slice(Ke));return de?(le.w=_.get(de[0].toLowerCase()),Ke+de[0].length):-1}function B(le,Fe,Ke){var de=M.exec(Fe.slice(Ke));return de?(le.m=U.get(de[0].toLowerCase()),Ke+de[0].length):-1}function q(le,Fe,Ke){var de=A.exec(Fe.slice(Ke));return de?(le.m=C.get(de[0].toLowerCase()),Ke+de[0].length):-1}function Se(le,Fe,Ke){return D(le,e,Fe,Ke)}function De(le,Fe,Ke){return D(le,n,Fe,Ke)}function Q(le,Fe,Ke){return D(le,r,Fe,Ke)}function fe(le){return s[le.getDay()]}function Ee(le){return o[le.getDay()]}function Ce(le){return c[le.getMonth()]}function $e(le){return u[le.getMonth()]}function K(le){return i[+(le.getHours()>=12)]}function oe(le){return 1+~~(le.getMonth()/3)}function me(le){return s[le.getUTCDay()]}function ve(le){return o[le.getUTCDay()]}function xe(le){return c[le.getUTCMonth()]}function ke(le){return u[le.getUTCMonth()]}function Oe(le){return i[+(le.getUTCHours()>=12)]}function qt(le){return 1+~~(le.getUTCMonth()/3)}return{format:function(le){var Fe=G(le+="",L);return Fe.toString=function(){return le},Fe},parse:function(le){var Fe=P(le+="",!1);return Fe.toString=function(){return le},Fe},utcFormat:function(le){var Fe=G(le+="",H);return Fe.toString=function(){return le},Fe},utcParse:function(le){var Fe=P(le+="",!0);return Fe.toString=function(){return le},Fe}}}var qk={"-":"",_:" ",0:"0"},zn=/^\s*\d+/,Moe=/^%/,Noe=/[\\^$*+?|[\]().{}]/g;function at(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function Doe(t){return t.replace(Noe,"\\$&")}function rh(t){return new RegExp("^(?:"+t.map(Doe).join("|")+")","i")}function ih(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Ooe(t,e,n){var r=zn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function koe(t,e,n){var r=zn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Loe(t,e,n){var r=zn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Voe(t,e,n){var r=zn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Uoe(t,e,n){var r=zn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Bk(t,e,n){var r=zn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function zk(t,e,n){var r=zn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Foe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function qoe(t,e,n){var r=zn.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Boe(t,e,n){var r=zn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Gk(t,e,n){var r=zn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function zoe(t,e,n){var r=zn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Hk(t,e,n){var r=zn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Goe(t,e,n){var r=zn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Hoe(t,e,n){var r=zn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function $oe(t,e,n){var r=zn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Koe(t,e,n){var r=zn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Yoe(t,e,n){var r=Moe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Woe(t,e,n){var r=zn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function joe(t,e,n){var r=zn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function $k(t,e){return at(t.getDate(),e,2)}function Joe(t,e){return at(t.getHours(),e,2)}function Xoe(t,e){return at(t.getHours()%12||12,e,2)}function Qoe(t,e){return at(1+zp.count(Ea(t),t),e,3)}function B3(t,e){return at(t.getMilliseconds(),e,3)}function Zoe(t,e){return B3(t,e)+"000"}function eae(t,e){return at(t.getMonth()+1,e,2)}function tae(t,e){return at(t.getMinutes(),e,2)}function nae(t,e){return at(t.getSeconds(),e,2)}function rae(t){var e=t.getDay();return e===0?7:e}function iae(t,e){return at(Y_.count(Ea(t)-1,t),e,2)}function z3(t){var e=t.getDay();return e>=4||e===0?yf(t):yf.ceil(t)}function oae(t,e){return t=z3(t),at(yf.count(Ea(t),t)+(Ea(t).getDay()===4),e,2)}function aae(t){return t.getDay()}function sae(t,e){return at(wv.count(Ea(t)-1,t),e,2)}function lae(t,e){return at(t.getFullYear()%100,e,2)}function uae(t,e){return t=z3(t),at(t.getFullYear()%100,e,2)}function cae(t,e){return at(t.getFullYear()%1e4,e,4)}function fae(t,e){var n=t.getDay();return t=n>=4||n===0?yf(t):yf.ceil(t),at(t.getFullYear()%1e4,e,4)}function dae(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+at(e/60|0,"0",2)+at(e%60,"0",2)}function Kk(t,e){return at(t.getUTCDate(),e,2)}function hae(t,e){return at(t.getUTCHours(),e,2)}function pae(t,e){return at(t.getUTCHours()%12||12,e,2)}function mae(t,e){return at(1+K_.count(Ta(t),t),e,3)}function G3(t,e){return at(t.getUTCMilliseconds(),e,3)}function gae(t,e){return G3(t,e)+"000"}function yae(t,e){return at(t.getUTCMonth()+1,e,2)}function vae(t,e){return at(t.getUTCMinutes(),e,2)}function _ae(t,e){return at(t.getUTCSeconds(),e,2)}function Eae(t){var e=t.getUTCDay();return e===0?7:e}function Tae(t,e){return at(W_.count(Ta(t)-1,t),e,2)}function H3(t){var e=t.getUTCDay();return e>=4||e===0?vf(t):vf.ceil(t)}function Sae(t,e){return t=H3(t),at(vf.count(Ta(t),t)+(Ta(t).getUTCDay()===4),e,2)}function bae(t){return t.getUTCDay()}function wae(t,e){return at(Av.count(Ta(t)-1,t),e,2)}function Aae(t,e){return at(t.getUTCFullYear()%100,e,2)}function Iae(t,e){return t=H3(t),at(t.getUTCFullYear()%100,e,2)}function Cae(t,e){return at(t.getUTCFullYear()%1e4,e,4)}function Rae(t,e){var n=t.getUTCDay();return t=n>=4||n===0?vf(t):vf.ceil(t),at(t.getUTCFullYear()%1e4,e,4)}function Pae(){return"+0000"}function Yk(){return"%"}function Wk(t){return+t}function jk(t){return Math.floor(+t/1e3)}var vc,$3,K3;xae({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function xae(t){return vc=xoe(t),$3=vc.format,vc.parse,K3=vc.utcFormat,vc.utcParse,vc}function Mae(t){return new Date(t)}function Nae(t){return t instanceof Date?+t:+new Date(+t)}function vC(t,e,n,r,i,o,s,u,c,d){var h=iC(),m=h.invert,_=h.domain,S=d(".%L"),w=d(":%S"),A=d("%I:%M"),C=d("%I %p"),M=d("%a %d"),U=d("%b %d"),L=d("%B"),H=d("%Y");function z(G){return(c(G)<G?S:u(G)<G?w:s(G)<G?A:o(G)<G?C:r(G)<G?i(G)<G?M:U:n(G)<G?L:H)(G)}return h.invert=function(G){return new Date(m(G))},h.domain=function(G){return arguments.length?_(Array.from(G,Nae)):_().map(Mae)},h.ticks=function(G){var P=_();return t(P[0],P[P.length-1],G??10)},h.tickFormat=function(G,P){return P==null?z:d(P)},h.nice=function(G){var P=_();return(!G||typeof G.range!="function")&&(G=e(P[0],P[P.length-1],G??10)),G?_(N3(P,G)):h},h.copy=function(){return Bp(h,vC(t,e,n,r,i,o,s,u,c,d))},h}function Dae(){return wi.apply(vC(Roe,Poe,Ea,gC,Y_,zp,pC,dC,zl,$3).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Oae(){return wi.apply(vC(Ioe,Coe,Ta,yC,W_,K_,mC,hC,zl,K3).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function j_(){var t=0,e=1,n,r,i,o,s=lr,u=!1,c;function d(m){return m==null||isNaN(m=+m)?c:s(i===0?.5:(m=(o(m)-n)*i,u?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([t,e]=m,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),d):[t,e]},d.clamp=function(m){return arguments.length?(u=!!m,d):u},d.interpolator=function(m){return arguments.length?(s=m,d):s};function h(m){return function(_){var S,w;return arguments.length?([S,w]=_,s=m(S,w),d):[s(0),s(1)]}}return d.range=h(Pf),d.rangeRound=h(rC),d.unknown=function(m){return arguments.length?(c=m,d):c},function(m){return o=m,n=m(t),r=m(e),i=n===r?0:1/(r-n),d}}function Ys(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Y3(){var t=Ks(j_()(lr));return t.copy=function(){return Ys(t,Y3())},Pa.apply(t,arguments)}function W3(){var t=sC(j_()).domain([1,10]);return t.copy=function(){return Ys(t,W3()).base(t.base())},Pa.apply(t,arguments)}function j3(){var t=lC(j_());return t.copy=function(){return Ys(t,j3()).constant(t.constant())},Pa.apply(t,arguments)}function _C(){var t=uC(j_());return t.copy=function(){return Ys(t,_C()).exponent(t.exponent())},Pa.apply(t,arguments)}function kae(){return _C.apply(null,arguments).exponent(.5)}function J3(){var t=[],e=lr;function n(r){if(r!=null&&!isNaN(r=+r))return e((Fp(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Rs),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>Eie(t,o/r))},n.copy=function(){return J3(e).domain(t)},Pa.apply(n,arguments)}function J_(){var t=0,e=.5,n=1,r=1,i,o,s,u,c,d=lr,h,m=!1,_;function S(A){return isNaN(A=+A)?_:(A=.5+((A=+h(A))-o)*(r*A<r*o?u:c),d(m?Math.max(0,Math.min(1,A)):A))}S.domain=function(A){return arguments.length?([t,e,n]=A,i=h(t=+t),o=h(e=+e),s=h(n=+n),u=i===o?0:.5/(o-i),c=o===s?0:.5/(s-o),r=o<i?-1:1,S):[t,e,n]},S.clamp=function(A){return arguments.length?(m=!!A,S):m},S.interpolator=function(A){return arguments.length?(d=A,S):d};function w(A){return function(C){var M,U,L;return arguments.length?([M,U,L]=C,d=Yie(A,[M,U,L]),S):[d(0),d(.5),d(1)]}}return S.range=w(Pf),S.rangeRound=w(rC),S.unknown=function(A){return arguments.length?(_=A,S):_},function(A){return h=A,i=A(t),o=A(e),s=A(n),u=i===o?0:.5/(o-i),c=o===s?0:.5/(s-o),r=o<i?-1:1,S}}function X3(){var t=Ks(J_()(lr));return t.copy=function(){return Ys(t,X3())},Pa.apply(t,arguments)}function Q3(){var t=sC(J_()).domain([.1,1,10]);return t.copy=function(){return Ys(t,Q3()).base(t.base())},Pa.apply(t,arguments)}function Z3(){var t=lC(J_());return t.copy=function(){return Ys(t,Z3()).constant(t.constant())},Pa.apply(t,arguments)}function EC(){var t=uC(J_());return t.copy=function(){return Ys(t,EC()).exponent(t.exponent())},Pa.apply(t,arguments)}function Lae(){return EC.apply(null,arguments).exponent(.5)}const gh=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:eC,scaleDiverging:X3,scaleDivergingLog:Q3,scaleDivergingPow:EC,scaleDivergingSqrt:Lae,scaleDivergingSymlog:Z3,scaleIdentity:M3,scaleImplicit:Lw,scaleLinear:x3,scaleLog:D3,scaleOrdinal:ZI,scalePoint:bie,scalePow:cC,scaleQuantile:L3,scaleQuantize:V3,scaleRadial:k3,scaleSequential:Y3,scaleSequentialLog:W3,scaleSequentialPow:_C,scaleSequentialQuantile:J3,scaleSequentialSqrt:kae,scaleSequentialSymlog:j3,scaleSqrt:goe,scaleSymlog:O3,scaleThreshold:U3,scaleTime:Dae,scaleUtc:Oae,tickFormat:P3},Symbol.toStringTag,{value:"Module"}));var Ws=t=>t.chartData,TC=ne([Ws],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),e6=(t,e,n,r)=>r?TC(t):Ws(t);function Us(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(qn(e)&&qn(n))return!0}return!1}function Jk(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function t6(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,o;if(qn(n))i=n;else if(typeof n=="function")return;if(qn(r))o=r;else if(typeof r=="function")return;var s=[i,o];if(Us(s))return s}}function Vae(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Us(r))return Jk(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,o]=t,s,u;if(i==="auto")e!=null&&(s=Math.min(...e));else if(Ve(i))s=i;else if(typeof i=="function")try{e!=null&&(s=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&SO.test(i)){var c=SO.exec(i);if(c==null||e==null)s=void 0;else{var d=+c[1];s=e[0]-d}}else s=e==null?void 0:e[0];if(o==="auto")e!=null&&(u=Math.max(...e));else if(Ve(o))u=o;else if(typeof o=="function")try{e!=null&&(u=o(e==null?void 0:e[1]))}catch{}else if(typeof o=="string"&&bO.test(o)){var h=bO.exec(o);if(h==null||e==null)u=void 0;else{var m=+h[1];u=e[1]+m}}else u=e==null?void 0:e[1];var _=[s,u];if(Us(_))return e==null?_:Jk(_,e,n)}}}var xf=1e9,Uae={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},bC,Vt=!0,Si="[DecimalError] ",Xl=Si+"Invalid argument: ",SC=Si+"Exponent out of range: ",Mf=Math.floor,Dl=Math.pow,Fae=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Fr,Vn=1e7,Mt=7,n6=9007199254740991,Iv=Mf(n6/Mt),be={};be.absoluteValue=be.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};be.comparedTo=be.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};be.decimalPlaces=be.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Mt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};be.dividedBy=be.div=function(t){return ua(this,new this.constructor(t))};be.dividedToIntegerBy=be.idiv=function(t){var e=this,n=e.constructor;return At(ua(e,new n(t),0,1),n.precision)};be.equals=be.eq=function(t){return!this.cmp(t)};be.exponent=function(){return Sn(this)};be.greaterThan=be.gt=function(t){return this.cmp(t)>0};be.greaterThanOrEqualTo=be.gte=function(t){return this.cmp(t)>=0};be.isInteger=be.isint=function(){return this.e>this.d.length-2};be.isNegative=be.isneg=function(){return this.s<0};be.isPositive=be.ispos=function(){return this.s>0};be.isZero=function(){return this.s===0};be.lessThan=be.lt=function(t){return this.cmp(t)<0};be.lessThanOrEqualTo=be.lte=function(t){return this.cmp(t)<1};be.logarithm=be.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Fr))throw Error(Si+"NaN");if(n.s<1)throw Error(Si+(n.s?"NaN":"-Infinity"));return n.eq(Fr)?new r(0):(Vt=!1,e=ua(dp(n,o),dp(t,o),o),Vt=!0,At(e,i))};be.minus=be.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?o6(e,t):r6(e,(t.s=-t.s,t))};be.modulo=be.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Si+"NaN");return n.s?(Vt=!1,e=ua(n,t,0,1).times(t),Vt=!0,n.minus(e)):At(new r(n),i)};be.naturalExponential=be.exp=function(){return i6(this)};be.naturalLogarithm=be.ln=function(){return dp(this)};be.negated=be.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};be.plus=be.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?r6(e,t):o6(e,(t.s=-t.s,t))};be.precision=be.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Xl+t);if(e=Sn(i)+1,r=i.d.length-1,n=r*Mt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};be.squareRoot=be.sqrt=function(){var t,e,n,r,i,o,s,u=this,c=u.constructor;if(u.s<1){if(!u.s)return new c(0);throw Error(Si+"NaN")}for(t=Sn(u),Vt=!1,i=Math.sqrt(+u),i==0||i==1/0?(e=Co(u.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Mf((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new c(e)):r=new c(i.toString()),n=c.precision,i=s=n+3;;)if(o=r,r=o.plus(ua(u,o,s+2)).times(.5),Co(o.d).slice(0,s)===(e=Co(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(At(o,n+1,0),o.times(o).eq(u)){r=o;break}}else if(e!="9999")break;s+=4}return Vt=!0,At(r,n)};be.times=be.mul=function(t){var e,n,r,i,o,s,u,c,d,h=this,m=h.constructor,_=h.d,S=(t=new m(t)).d;if(!h.s||!t.s)return new m(0);for(t.s*=h.s,n=h.e+t.e,c=_.length,d=S.length,c<d&&(o=_,_=S,S=o,s=c,c=d,d=s),o=[],s=c+d,r=s;r--;)o.push(0);for(r=d;--r>=0;){for(e=0,i=c+r;i>r;)u=o[i]+S[r]*_[i-r-1]+e,o[i--]=u%Vn|0,e=u/Vn|0;o[i]=(o[i]+e)%Vn|0}for(;!o[--s];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,Vt?At(t,m.precision):t};be.toDecimalPlaces=be.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Do(t,0,xf),e===void 0?e=r.rounding:Do(e,0,8),At(n,t+Sn(n)+1,e))};be.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=fu(r,!0):(Do(t,0,xf),e===void 0?e=i.rounding:Do(e,0,8),r=At(new i(r),t+1,e),n=fu(r,!0,t+1)),n};be.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?fu(i):(Do(t,0,xf),e===void 0?e=o.rounding:Do(e,0,8),r=At(new o(i),t+Sn(i)+1,e),n=fu(r.abs(),!1,t+Sn(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};be.toInteger=be.toint=function(){var t=this,e=t.constructor;return At(new e(t),Sn(t)+1,e.rounding)};be.toNumber=function(){return+this};be.toPower=be.pow=function(t){var e,n,r,i,o,s,u=this,c=u.constructor,d=12,h=+(t=new c(t));if(!t.s)return new c(Fr);if(u=new c(u),!u.s){if(t.s<1)throw Error(Si+"Infinity");return u}if(u.eq(Fr))return u;if(r=c.precision,t.eq(Fr))return At(u,r);if(e=t.e,n=t.d.length-1,s=e>=n,o=u.s,s){if((n=h<0?-h:h)<=n6){for(i=new c(Fr),e=Math.ceil(r/Mt+4),Vt=!1;n%2&&(i=i.times(u),Qk(i.d,e)),n=Mf(n/2),n!==0;)u=u.times(u),Qk(u.d,e);return Vt=!0,t.s<0?new c(Fr).div(i):At(i,r)}}else if(o<0)throw Error(Si+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,u.s=1,Vt=!1,i=t.times(dp(u,r+d)),Vt=!0,i=i6(i),i.s=o,i};be.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=Sn(i),r=fu(i,n<=o.toExpNeg||n>=o.toExpPos)):(Do(t,1,xf),e===void 0?e=o.rounding:Do(e,0,8),i=At(new o(i),t,e),n=Sn(i),r=fu(i,t<=n||n<=o.toExpNeg,t)),r};be.toSignificantDigits=be.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Do(t,1,xf),e===void 0?e=r.rounding:Do(e,0,8)),At(new r(n),t,e)};be.toString=be.valueOf=be.val=be.toJSON=be[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Sn(t),n=t.constructor;return fu(t,e<=n.toExpNeg||e>=n.toExpPos)};function r6(t,e){var n,r,i,o,s,u,c,d,h=t.constructor,m=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),Vt?At(e,m):e;if(c=t.d,d=e.d,s=t.e,i=e.e,c=c.slice(),o=s-i,o){for(o<0?(r=c,o=-o,u=d.length):(r=d,i=s,u=c.length),s=Math.ceil(m/Mt),u=s>u?s+1:u+1,o>u&&(o=u,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(u=c.length,o=d.length,u-o<0&&(o=u,r=d,d=c,c=r),n=0;o;)n=(c[--o]=c[o]+d[o]+n)/Vn|0,c[o]%=Vn;for(n&&(c.unshift(n),++i),u=c.length;c[--u]==0;)c.pop();return e.d=c,e.e=i,Vt?At(e,m):e}function Do(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Xl+t)}function Co(t){var e,n,r,i=t.length-1,o="",s=t[0];if(i>0){for(o+=s,e=1;e<i;e++)r=t[e]+"",n=Mt-r.length,n&&(o+=vs(n)),o+=r;s=t[e],r=s+"",n=Mt-r.length,n&&(o+=vs(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return o+s}var ua=(function(){function t(r,i){var o,s=0,u=r.length;for(r=r.slice();u--;)o=r[u]*i+s,r[u]=o%Vn|0,s=o/Vn|0;return s&&r.unshift(s),r}function e(r,i,o,s){var u,c;if(o!=s)c=o>s?1:-1;else for(u=c=0;u<o;u++)if(r[u]!=i[u]){c=r[u]>i[u]?1:-1;break}return c}function n(r,i,o){for(var s=0;o--;)r[o]-=s,s=r[o]<i[o]?1:0,r[o]=s*Vn+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,s){var u,c,d,h,m,_,S,w,A,C,M,U,L,H,z,G,P,D,x=r.constructor,F=r.s==i.s?1:-1,k=r.d,B=i.d;if(!r.s)return new x(r);if(!i.s)throw Error(Si+"Division by zero");for(c=r.e-i.e,P=B.length,z=k.length,S=new x(F),w=S.d=[],d=0;B[d]==(k[d]||0);)++d;if(B[d]>(k[d]||0)&&--c,o==null?U=o=x.precision:s?U=o+(Sn(r)-Sn(i))+1:U=o,U<0)return new x(0);if(U=U/Mt+2|0,d=0,P==1)for(h=0,B=B[0],U++;(d<z||h)&&U--;d++)L=h*Vn+(k[d]||0),w[d]=L/B|0,h=L%B|0;else{for(h=Vn/(B[0]+1)|0,h>1&&(B=t(B,h),k=t(k,h),P=B.length,z=k.length),H=P,A=k.slice(0,P),C=A.length;C<P;)A[C++]=0;D=B.slice(),D.unshift(0),G=B[0],B[1]>=Vn/2&&++G;do h=0,u=e(B,A,P,C),u<0?(M=A[0],P!=C&&(M=M*Vn+(A[1]||0)),h=M/G|0,h>1?(h>=Vn&&(h=Vn-1),m=t(B,h),_=m.length,C=A.length,u=e(m,A,_,C),u==1&&(h--,n(m,P<_?D:B,_))):(h==0&&(u=h=1),m=B.slice()),_=m.length,_<C&&m.unshift(0),n(A,m,C),u==-1&&(C=A.length,u=e(B,A,P,C),u<1&&(h++,n(A,P<C?D:B,C))),C=A.length):u===0&&(h++,A=[0]),w[d++]=h,u&&A[0]?A[C++]=k[H]||0:(A=[k[H]],C=1);while((H++<z||A[0]!==void 0)&&U--)}return w[0]||w.shift(),S.e=c,At(S,s?o+Sn(S)+1:o)}})();function i6(t,e){var n,r,i,o,s,u,c=0,d=0,h=t.constructor,m=h.precision;if(Sn(t)>16)throw Error(SC+Sn(t));if(!t.s)return new h(Fr);for(Vt=!1,u=m,s=new h(.03125);t.abs().gte(.1);)t=t.times(s),d+=5;for(r=Math.log(Dl(2,d))/Math.LN10*2+5|0,u+=r,n=i=o=new h(Fr),h.precision=u;;){if(i=At(i.times(t),u),n=n.times(++c),s=o.plus(ua(i,n,u)),Co(s.d).slice(0,u)===Co(o.d).slice(0,u)){for(;d--;)o=At(o.times(o),u);return h.precision=m,e==null?(Vt=!0,At(o,m)):o}o=s}}function Sn(t){for(var e=t.e*Mt,n=t.d[0];n>=10;n/=10)e++;return e}function tb(t,e,n){if(e>t.LN10.sd())throw Vt=!0,n&&(t.precision=n),Error(Si+"LN10 precision limit exceeded");return At(new t(t.LN10),e)}function vs(t){for(var e="";t--;)e+="0";return e}function dp(t,e){var n,r,i,o,s,u,c,d,h,m=1,_=10,S=t,w=S.d,A=S.constructor,C=A.precision;if(S.s<1)throw Error(Si+(S.s?"NaN":"-Infinity"));if(S.eq(Fr))return new A(0);if(e==null?(Vt=!1,d=C):d=e,S.eq(10))return e==null&&(Vt=!0),tb(A,d);if(d+=_,A.precision=d,n=Co(w),r=n.charAt(0),o=Sn(S),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)S=S.times(t),n=Co(S.d),r=n.charAt(0),m++;o=Sn(S),r>1?(S=new A("0."+n),o++):S=new A(r+"."+n.slice(1))}else return c=tb(A,d+2,C).times(o+""),S=dp(new A(r+"."+n.slice(1)),d-_).plus(c),A.precision=C,e==null?(Vt=!0,At(S,C)):S;for(u=s=S=ua(S.minus(Fr),S.plus(Fr),d),h=At(S.times(S),d),i=3;;){if(s=At(s.times(h),d),c=u.plus(ua(s,new A(i),d)),Co(c.d).slice(0,d)===Co(u.d).slice(0,d))return u=u.times(2),o!==0&&(u=u.plus(tb(A,d+2,C).times(o+""))),u=ua(u,new A(m),d),A.precision=C,e==null?(Vt=!0,At(u,C)):u;u=c,i+=2}}function Xk(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Mf(n/Mt),t.d=[],r=(n+1)%Mt,n<0&&(r+=Mt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Mt;r<i;)t.d.push(+e.slice(r,r+=Mt));e=e.slice(r),r=Mt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Vt&&(t.e>Iv||t.e<-Iv))throw Error(SC+n)}else t.s=0,t.e=0,t.d=[0];return t}function At(t,e,n){var r,i,o,s,u,c,d,h,m=t.d;for(s=1,o=m[0];o>=10;o/=10)s++;if(r=e-s,r<0)r+=Mt,i=e,d=m[h=0];else{if(h=Math.ceil((r+1)/Mt),o=m.length,h>=o)return t;for(d=o=m[h],s=1;o>=10;o/=10)s++;r%=Mt,i=r-Mt+s}if(n!==void 0&&(o=Dl(10,s-i-1),u=d/o%10|0,c=e<0||m[h+1]!==void 0||d%o,c=n<4?(u||c)&&(n==0||n==(t.s<0?3:2)):u>5||u==5&&(n==4||c||n==6&&(r>0?i>0?d/Dl(10,s-i):0:m[h-1])%10&1||n==(t.s<0?8:7))),e<1||!m[0])return c?(o=Sn(t),m.length=1,e=e-o-1,m[0]=Dl(10,(Mt-e%Mt)%Mt),t.e=Mf(-e/Mt)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(r==0?(m.length=h,o=1,h--):(m.length=h+1,o=Dl(10,Mt-r),m[h]=i>0?(d/Dl(10,s-i)%Dl(10,i)|0)*o:0),c)for(;;)if(h==0){(m[0]+=o)==Vn&&(m[0]=1,++t.e);break}else{if(m[h]+=o,m[h]!=Vn)break;m[h--]=0,o=1}for(r=m.length;m[--r]===0;)m.pop();if(Vt&&(t.e>Iv||t.e<-Iv))throw Error(SC+Sn(t));return t}function o6(t,e){var n,r,i,o,s,u,c,d,h,m,_=t.constructor,S=_.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new _(t),Vt?At(e,S):e;if(c=t.d,m=e.d,r=e.e,d=t.e,c=c.slice(),s=d-r,s){for(h=s<0,h?(n=c,s=-s,u=m.length):(n=m,r=d,u=c.length),i=Math.max(Math.ceil(S/Mt),u)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=c.length,u=m.length,h=i<u,h&&(u=i),i=0;i<u;i++)if(c[i]!=m[i]){h=c[i]<m[i];break}s=0}for(h&&(n=c,c=m,m=n,e.s=-e.s),u=c.length,i=m.length-u;i>0;--i)c[u++]=0;for(i=m.length;i>s;){if(c[--i]<m[i]){for(o=i;o&&c[--o]===0;)c[o]=Vn-1;--c[o],c[i]+=Vn}c[i]-=m[i]}for(;c[--u]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(e.d=c,e.e=r,Vt?At(e,S):e):new _(0)}function fu(t,e,n){var r,i=Sn(t),o=Co(t.d),s=o.length;return e?(n&&(r=n-s)>0?o=o.charAt(0)+"."+o.slice(1)+vs(r):s>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+vs(-i-1)+o,n&&(r=n-s)>0&&(o+=vs(r))):i>=s?(o+=vs(i+1-s),n&&(r=n-i-1)>0&&(o=o+"."+vs(r))):((r=i+1)<s&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(o+="."),o+=vs(r))),t.s<0?"-"+o:o}function Qk(t,e){if(t.length>e)return t.length=e,!0}function a6(t){var e,n,r;function i(o){var s=this;if(!(s instanceof i))return new i(o);if(s.constructor=i,o instanceof i){s.s=o.s,s.e=o.e,s.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Xl+o);if(o>0)s.s=1;else if(o<0)o=-o,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(o===~~o&&o<1e7){s.e=0,s.d=[o];return}return Xk(s,o.toString())}else if(typeof o!="string")throw Error(Xl+o);if(o.charCodeAt(0)===45?(o=o.slice(1),s.s=-1):s.s=1,Fae.test(o))Xk(s,o);else throw Error(Xl+o)}if(i.prototype=be,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=a6,i.config=i.set=qae,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function qae(t){if(!t||typeof t!="object")throw Error(Si+"Object expected");var e,n,r,i=["precision",1,xf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Mf(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Xl+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Xl+n+": "+r);return this}var bC=a6(Uae);Fr=new bC(1);const mt=bC;var Bae=t=>t,s6={},l6=t=>t===s6,Zk=t=>function e(){return arguments.length===0||arguments.length===1&&l6(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},u6=(t,e)=>t===1?e:Zk(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=r.filter(s=>s!==s6).length;return o>=t?e(...r):u6(t-o,Zk(function(){for(var s=arguments.length,u=new Array(s),c=0;c<s;c++)u[c]=arguments[c];var d=r.map(h=>l6(h)?u.shift():h);return e(...d,...u)}))}),zae=t=>u6(t.length,t),qw=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},Gae=zae((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),Hae=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Bae;var i=n.reverse(),o=i[0],s=i.slice(1);return function(){return s.reduce((u,c)=>c(u),o(...arguments))}},Bw=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join("");function c6(t){var e;return t===0?e=1:e=Math.floor(new mt(t).abs().log(10).toNumber())+1,e}function f6(t,e,n){for(var r=new mt(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var d6=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},h6=(t,e,n)=>{if(t.lte(0))return new mt(0);var r=c6(t.toNumber()),i=new mt(10).pow(r),o=t.div(i),s=r!==1?.05:.1,u=new mt(Math.ceil(o.div(s).toNumber())).add(n).mul(s),c=u.mul(i);return e?new mt(c.toNumber()):new mt(Math.ceil(c.toNumber()))},$ae=(t,e,n)=>{var r=new mt(1),i=new mt(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new mt(10).pow(c6(t)-1),i=new mt(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new mt(Math.floor(t)))}else t===0?i=new mt(Math.floor((e-1)/2)):n||(i=new mt(Math.floor(t)));var s=Math.floor((e-1)/2),u=Hae(Gae(c=>i.add(new mt(c-s).mul(r)).toNumber()),qw);return u(0,e)},p6=function(e,n,r,i){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new mt(0),tickMin:new mt(0),tickMax:new mt(0)};var s=h6(new mt(n).sub(e).div(r-1),i,o),u;e<=0&&n>=0?u=new mt(0):(u=new mt(e).add(n).div(2),u=u.sub(new mt(u).mod(s)));var c=Math.ceil(u.sub(e).div(s).toNumber()),d=Math.ceil(new mt(n).sub(u).div(s).toNumber()),h=c+d+1;return h>r?p6(e,n,r,i,o+1):(h<r&&(d=n>0?d+(r-h):d,c=n>0?c:c+(r-h)),{step:s,tickMin:u.sub(new mt(c).mul(s)),tickMax:u.add(new mt(d).mul(s))})},Kae=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),[u,c]=d6([n,r]);if(u===-1/0||c===1/0){var d=c===1/0?[u,...qw(0,i-1).map(()=>1/0)]:[...qw(0,i-1).map(()=>-1/0),c];return n>r?Bw(d):d}if(u===c)return $ae(u,i,o);var{step:h,tickMin:m,tickMax:_}=p6(u,c,s,o,0),S=f6(m,_.add(new mt(.1).mul(h)),h);return n>r?Bw(S):S},Yae=function(e,n){var[r,i]=e,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,u]=d6([r,i]);if(s===-1/0||u===1/0)return[r,i];if(s===u)return[s];var c=Math.max(n,2),d=h6(new mt(u).sub(s).div(c-1),o,0),h=[...f6(new mt(s),new mt(u),d),u];return o===!1&&(h=h.map(m=>Math.round(m))),r>i?Bw(h):h},Wae=t=>t.rootProps.barCategoryGap,Gp=t=>t.rootProps.stackOffset,m6=t=>t.rootProps.reverseStackOrder,wC=t=>t.options.chartName,AC=t=>t.rootProps.syncId,g6=t=>t.rootProps.syncMethod,IC=t=>t.options.eventEmitter,Gi={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},na={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Vr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},X_=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},jae={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:na.angleAxisId,includeHidden:!1,name:void 0,reversed:na.reversed,scale:na.scale,tick:na.tick,tickCount:void 0,ticks:void 0,type:na.type,unit:void 0},Jae={allowDataOverflow:Vr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Vr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Vr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Vr.scale,tick:Vr.tick,tickCount:Vr.tickCount,ticks:void 0,type:Vr.type,unit:void 0},Xae={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:na.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:na.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:na.scale,tick:na.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Qae={allowDataOverflow:Vr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Vr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Vr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Vr.scale,tick:Vr.tick,tickCount:Vr.tickCount,ticks:void 0,type:"category",unit:void 0},CC=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?Xae:jae,RC=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?Qae:Jae,Q_=t=>t.polarOptions,PC=ne([Ca,Ra,Bn],m3),y6=ne([Q_,PC],(t,e)=>{if(t!=null)return $r(t.innerRadius,e,0)}),v6=ne([Q_,PC],(t,e)=>{if(t!=null)return $r(t.outerRadius,e,e*.8)}),Zae=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},_6=ne([Q_],Zae);ne([CC,_6],X_);var E6=ne([PC,y6,v6],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});ne([RC,E6],X_);var T6=ne([Ct,Q_,y6,v6,Ca,Ra],(t,e,n,r,i,o)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:s,cy:u,startAngle:c,endAngle:d}=e;return{cx:$r(s,i,i/2),cy:$r(u,o,o/2),innerRadius:n,outerRadius:r,startAngle:c,endAngle:d,clockWise:!1}}}),Ft=(t,e)=>e,Hp=(t,e,n)=>n;function S6(t){return t==null?void 0:t.id}function b6(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:o}=n,s=new Map;return t.forEach(u=>{var c,d=(c=u.data)!==null&&c!==void 0?c:r;if(!(d==null||d.length===0)){var h=S6(u);d.forEach((m,_)=>{var S=o==null||i?_:String(on(m,o,null)),w=on(m,u.dataKey,0),A;s.has(S)?A=s.get(S):A={},Object.assign(A,{[h]:w}),s.set(S,A)})}}),Array.from(s.values())}function xC(t){return t.stackId!=null&&t.dataKey!=null}var Z_=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function e0(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function ese(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var Mn=t=>{var e=Ct(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Nf=t=>t.tooltip.settings.axisId;function e2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e2(Object(n),!0).forEach(function(r){tse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tse(t,e,n){return(e=nse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nse(t){var e=rse(t,"string");return typeof e=="symbol"?e:e+""}function rse(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zw=[0,"auto"],ise={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},ose=(t,e)=>t.cartesianAxis.xAxis[e],js=(t,e)=>{var n=ose(t,e);return n??ise},ase={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:zw,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Vp},sse=(t,e)=>t.cartesianAxis.yAxis[e],Js=(t,e)=>{var n=sse(t,e);return n??ase},lse={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},MC=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??lse},Ht=(t,e,n)=>{switch(e){case"xAxis":return js(t,n);case"yAxis":return Js(t,n);case"zAxis":return MC(t,n);case"angleAxis":return CC(t,n);case"radiusAxis":return RC(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},use=(t,e,n)=>{switch(e){case"xAxis":return js(t,n);case"yAxis":return Js(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},$p=(t,e,n)=>{switch(e){case"xAxis":return js(t,n);case"yAxis":return Js(t,n);case"angleAxis":return CC(t,n);case"radiusAxis":return RC(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},w6=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function NC(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var cse=t=>t.graphicalItems.cartesianItems,fse=ne([Ft,Hp],NC),DC=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),Kp=ne([cse,Ht,fse],DC,{memoizeOptions:{resultEqualityCheck:e0}}),A6=ne([Kp],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(xC)),I6=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),dse=ne([Kp],I6),OC=t=>t.map(e=>e.data).filter(Boolean).flat(1),hse=ne([Kp],OC,{memoizeOptions:{resultEqualityCheck:e0}}),kC=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},LC=ne([hse,e6],kC),VC=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:on(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:on(i,r)}))):t.map(r=>({value:r})),t0=ne([LC,Ht,Kp],VC);function C6(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function _y(t){if(ya(t)||t instanceof Date){var e=Number(t);if(qn(e))return e}}function t2(t){if(Array.isArray(t)){var e=[_y(t[0]),_y(t[1])];return Us(e)?e:void 0}var n=_y(t);if(n!=null)return[n,n]}function Sa(t){return t.map(_y).filter(tZ)}function pse(t,e,n){return!n||typeof e!="number"||ma(e)?[]:n.length?Sa(n.flatMap(r=>{var i=on(t,r.dataKey),o,s;if(Array.isArray(i)?[o,s]=i:o=s=i,!(!qn(o)||!qn(s)))return[e-o,e+s]})):[]}var Nn=t=>{var e=Mn(t),n=Nf(t);return $p(t,e,n)},Yp=ne([Nn],t=>t==null?void 0:t.dataKey),mse=ne([A6,e6,Nn],b6),R6=(t,e,n,r)=>{var i={},o=e.reduce((s,u)=>(u.stackId==null||(s[u.stackId]==null&&(s[u.stackId]=[]),s[u.stackId].push(u)),s),i);return Object.fromEntries(Object.entries(o).map(s=>{var[u,c]=s,d=r?[...c].reverse():c,h=d.map(S6);return[u,{stackedData:Rte(t,h,n),graphicalItems:d}]}))},gse=ne([mse,A6,Gp,m6],R6),P6=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:o}=e;if(r==null&&n!=="zAxis"){var s=Mte(t,i,o);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},yse=ne([Ht],t=>t.allowDataOverflow),UC=t=>{var e;if(t==null||!("domain"in t))return zw;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=Sa(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:zw},FC=ne([Ht],UC),qC=ne([FC,yse],t6),vse=ne([gse,Ws,Ft,qC],P6,{memoizeOptions:{resultEqualityCheck:Z_}}),n0=t=>t.errorBars,_se=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>C6(n,r)),Rv=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var o=i.flat(),s=Math.min(...o),u=Math.max(...o);return[s,u]}},BC=(t,e,n,r,i)=>{var o,s;if(n.length>0&&t.forEach(u=>{n.forEach(c=>{var d,h,m=(d=r[c.id])===null||d===void 0?void 0:d.filter(M=>C6(i,M)),_=on(u,(h=e.dataKey)!==null&&h!==void 0?h:c.dataKey),S=pse(u,_,m);if(S.length>=2){var w=Math.min(...S),A=Math.max(...S);(o==null||w<o)&&(o=w),(s==null||A>s)&&(s=A)}var C=t2(_);C!=null&&(o=o==null?C[0]:Math.min(o,C[0]),s=s==null?C[1]:Math.max(s,C[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(u=>{var c=t2(on(u,e.dataKey));c!=null&&(o=o==null?c[0]:Math.min(o,c[0]),s=s==null?c[1]:Math.max(s,c[1]))}),qn(o)&&qn(s))return[o,s]},Ese=ne([LC,Ht,dse,n0,Ft],BC,{memoizeOptions:{resultEqualityCheck:Z_}});function Tse(t){var{value:e}=t;if(ya(e)||e instanceof Date)return e}var Sse=(t,e,n)=>{var r=t.map(Tse).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&Jq(r))?_3(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},x6=t=>t.referenceElements.dots,Df=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),bse=ne([x6,Ft,Hp],Df),M6=t=>t.referenceElements.areas,wse=ne([M6,Ft,Hp],Df),N6=t=>t.referenceElements.lines,Ase=ne([N6,Ft,Hp],Df),D6=(t,e)=>{var n=Sa(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Ise=ne(bse,Ft,D6),O6=(t,e)=>{var n=Sa(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Cse=ne([wse,Ft],O6);function Rse(t){var e;if(t.x!=null)return Sa([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:Sa(n)}function Pse(t){var e;if(t.y!=null)return Sa([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:Sa(n)}var k6=(t,e)=>{var n=t.flatMap(r=>e==="xAxis"?Rse(r):Pse(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},xse=ne([Ase,Ft],k6),Mse=ne(Ise,xse,Cse,(t,e,n)=>Rv(t,n,e)),zC=(t,e,n,r,i,o,s,u)=>{if(n!=null)return n;var c=s==="vertical"&&u==="xAxis"||s==="horizontal"&&u==="yAxis",d=c?Rv(r,o,i):Rv(o,i);return Vae(e,d,t.allowDataOverflow)},Nse=ne([Ht,FC,qC,vse,Ese,Mse,Ct,Ft],zC,{memoizeOptions:{resultEqualityCheck:Z_}}),Dse=[0,1],GC=(t,e,n,r,i,o,s)=>{if(!((t==null||n==null||n.length===0)&&s===void 0)){var{dataKey:u,type:c}=t,d=Eu(e,o);if(d&&u==null){var h;return _3(0,(h=n==null?void 0:n.length)!==null&&h!==void 0?h:0)}return c==="category"?Sse(r,t,d):i==="expand"?Dse:s}},HC=ne([Ht,Ct,LC,t0,Gp,Ft,Nse],GC),L6=(t,e,n,r,i)=>{if(t!=null){var{scale:o,type:s}=t;if(o==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":s==="category"?"band":"linear";if(typeof o=="string"){var u="scale".concat(Np(o));return u in gh?u:"point"}}},Of=ne([Ht,Ct,w6,wC,Ft],L6);function Ose(t){if(t!=null){if(t in gh)return gh[t]();var e="scale".concat(Np(t));if(e in gh)return gh[e]()}}function $C(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=Ose(e);if(i!=null){var o=i.domain(n).range(r);return wte(o),o}}}var KC=(t,e,n)=>{var r=UC(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Us(t))return Kae(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Us(t))return Yae(t,e.tickCount,e.allowDecimals)}},YC=ne([HC,$p,Of],KC),WC=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&Us(e)&&Array.isArray(n)&&n.length>0){var i=e[0],o=n[0],s=e[1],u=n[n.length-1];return[Math.min(i,o),Math.max(s,u)]}return e},kse=ne([Ht,HC,YC,Ft],WC),Lse=ne(t0,Ht,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Sa(t.map(u=>u.value))).sort((u,c)=>u-c);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var o=0;o<r.length-1;o++){var s=r[o+1]-r[o];n=Math.min(n,s)}return n/i}}),V6=ne(Lse,Ct,Wae,Bn,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!qn(t))return 0;var o=e==="vertical"?r.height:r.width;if(i==="gap")return t*o/2;if(i==="no-gap"){var s=$r(n,t*o),u=t*o/2;return u-s-(u-s)/o*s}return 0}),Vse=(t,e)=>{var n=js(t,e);return n==null||typeof n.padding!="string"?0:V6(t,"xAxis",e,n.padding)},Use=(t,e)=>{var n=Js(t,e);return n==null||typeof n.padding!="string"?0:V6(t,"yAxis",e,n.padding)},Fse=ne(js,Vse,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),qse=ne(Js,Use,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),Bse=ne([Bn,Fse,U_,V_,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:o}=r;return i?[o.left,n.width-o.right]:[t.left+e.left,t.left+t.width-e.right]}),zse=ne([Bn,Ct,qse,U_,V_,(t,e,n)=>n],(t,e,n,r,i,o)=>{var{padding:s}=i;return o?[r.height-s.bottom,s.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),Wp=(t,e,n,r)=>{var i;switch(e){case"xAxis":return Bse(t,n,r);case"yAxis":return zse(t,n,r);case"zAxis":return(i=MC(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return _6(t);case"radiusAxis":return E6(t,n);default:return}},U6=ne([Ht,Wp],X_),r0=ne([Ht,Of,kse,U6],$C);ne([Kp,n0,Ft],_se);function F6(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var i0=(t,e)=>e,o0=(t,e,n)=>n,Gse=ne(k_,i0,o0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(F6)),Hse=ne(L_,i0,o0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(F6)),q6=(t,e)=>({width:t.width,height:e.height}),$se=(t,e)=>{var n=typeof e.width=="number"?e.width:Vp;return{width:n,height:t.height}};ne(Bn,js,q6);var Kse=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},Yse=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},Wse=ne(Ra,Bn,Gse,i0,o0,(t,e,n,r,i)=>{var o={},s;return n.forEach(u=>{var c=q6(e,u);s==null&&(s=Kse(e,r,t));var d=r==="top"&&!i||r==="bottom"&&i;o[u.id]=s-Number(d)*c.height,s+=(d?-1:1)*c.height}),o}),jse=ne(Ca,Bn,Hse,i0,o0,(t,e,n,r,i)=>{var o={},s;return n.forEach(u=>{var c=$se(e,u);s==null&&(s=Yse(e,r,t));var d=r==="left"&&!i||r==="right"&&i;o[u.id]=s-Number(d)*c.width,s+=(d?-1:1)*c.width}),o}),Jse=(t,e)=>{var n=js(t,e);if(n!=null)return Wse(t,n.orientation,n.mirror)};ne([Bn,js,Jse,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}});var Xse=(t,e)=>{var n=Js(t,e);if(n!=null)return jse(t,n.orientation,n.mirror)};ne([Bn,Js,Xse,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}});ne(Bn,Js,(t,e)=>{var n=typeof e.width=="number"?e.width:Vp;return{width:n,height:t.height}});var B6=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:o,dataKey:s}=n,u=Eu(t,r),c=e.map(d=>d.value);if(s&&u&&o==="category"&&i&&Jq(c))return c}},jC=ne([Ct,t0,Ht,Ft],B6),z6=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:o}=n,s=Eu(t,r);if(s&&(i==="number"||o!=="auto"))return e.map(u=>u.value)}},JC=ne([Ct,t0,$p,Ft],z6);ne([Ct,use,Of,r0,jC,JC,Wp,YC,Ft],(t,e,n,r,i,o,s,u,c)=>{if(e!=null){var d=Eu(t,c);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:c,categoricalDomain:o,duplicateDomain:i,isCategorical:d,niceTicks:u,range:s,realScaleType:n,scale:r}}});var Qse=(t,e,n,r,i,o,s,u,c)=>{if(!(e==null||r==null)){var d=Eu(t,c),{type:h,ticks:m,tickCount:_}=e,S=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,w=h==="category"&&r.bandwidth?r.bandwidth()/S:0;w=c==="angleAxis"&&o!=null&&o.length>=2?br(o[0]-o[1])*2*w:w;var A=m||i;if(A){var C=A.map((M,U)=>{var L=s?s.indexOf(M):M;return{index:U,coordinate:r(L)+w,value:M,offset:w}});return C.filter(M=>qn(M.coordinate))}return d&&u?u.map((M,U)=>({coordinate:r(M)+w,value:M,index:U,offset:w})).filter(M=>qn(M.coordinate)):r.ticks?r.ticks(_).map(M=>({coordinate:r(M)+w,value:M,offset:w})):r.domain().map((M,U)=>({coordinate:r(M)+w,value:s?s[M]:M,index:U,offset:w}))}};ne([Ct,$p,Of,r0,YC,Wp,jC,JC,Ft],Qse);var Zse=(t,e,n,r,i,o,s)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var u=Eu(t,s),{tickCount:c}=e,d=0;return d=s==="angleAxis"&&(r==null?void 0:r.length)>=2?br(r[0]-r[1])*2*d:d,u&&o?o.map((h,m)=>({coordinate:n(h)+d,value:h,index:m,offset:d})):n.ticks?n.ticks(c).map(h=>({coordinate:n(h)+d,value:h,offset:d})):n.domain().map((h,m)=>({coordinate:n(h)+d,value:i?i[h]:h,index:m,offset:d}))}};ne([Ct,$p,r0,Wp,jC,JC,Ft],Zse);ne(Ht,r0,(t,e)=>{if(!(t==null||e==null))return Cv(Cv({},t),{},{scale:e})});var ele=ne([Ht,Of,HC,U6],$C);ne((t,e,n)=>MC(t,n),ele,(t,e)=>{if(!(t==null||e==null))return Cv(Cv({},t),{},{scale:e})});var tle=ne([Ct,k_,L_],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),G6=t=>t.options.defaultTooltipEventType,H6=t=>t.options.validateTooltipEventTypes;function $6(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function XC(t,e){var n=G6(t),r=H6(t);return $6(e,n,r)}function nle(t){return Be(e=>XC(e,t))}var K6=(t,e)=>{var n,r=Number(e);if(!(ma(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},rle=t=>t.tooltip.settings,Es={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},ile={itemInteraction:{click:Es,hover:Es},axisInteraction:{click:Es,hover:Es},keyboardInteraction:Es,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},Y6=Ar({name:"tooltip",initialState:ile,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:Ot()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=$i(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:Ot()},removeTooltipEntrySettings:{reducer(t,e){var n=$i(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:Ot()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:ole,replaceTooltipEntrySettings:ale,removeTooltipEntrySettings:sle,setTooltipSettingsState:lle,setActiveMouseOverItemIndex:W6,mouseLeaveItem:ule,mouseLeaveChart:j6,setActiveClickItemIndex:cle,setMouseOverAxisIndex:J6,setMouseClickAxisIndex:fle,setSyncInteraction:Gw,setKeyboardInteraction:Hw}=Y6.actions,dle=Y6.reducer;function n2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?n2(Object(n),!0).forEach(function(r){hle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):n2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hle(t,e,n){return(e=ple(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ple(t){var e=mle(t,"string");return typeof e=="symbol"?e:e+""}function mle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gle(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function yle(t){return t.index!=null}var X6=(t,e,n,r)=>{if(e==null)return Es;var i=gle(t,e,n);if(i==null)return Es;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var o=t.settings.active===!0;if(yle(i)){if(o)return Xg(Xg({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Xg(Xg({},Es),{},{coordinate:i.coordinate})};function vle(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function _le(t,e){var n=vle(t),r=e[0],i=e[1];if(n===void 0)return!1;var o=Math.min(r,i),s=Math.max(r,i);return n>=o&&n<=s}function Ele(t,e,n){if(n==null||e==null)return!0;var r=on(t,e);return r==null||!Us(n)?!0:_le(r,n)}var QC=(t,e,n,r)=>{var i=t==null?void 0:t.index;if(i==null)return null;var o=Number(i);if(!qn(o))return i;var s=0,u=1/0;e.length>0&&(u=e.length-1);var c=Math.max(s,Math.min(o,u)),d=e[c];return d==null||Ele(d,n,r)?String(c):null},Q6=(t,e,n,r,i,o,s,u)=>{if(!(o==null||u==null)){var c=s[0],d=c==null?void 0:u(c.positions,o);if(d!=null)return d;var h=i==null?void 0:i[Number(o)];if(h)switch(n){case"horizontal":return{x:h.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:h.coordinate}}}},Z6=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(o=>{var s;return((s=o.settings)===null||s===void 0?void 0:s.dataKey)===i})},jp=t=>t.options.tooltipPayloadSearcher,kf=t=>t.tooltip;function r2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function i2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r2(Object(n),!0).forEach(function(r){Tle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tle(t,e,n){return(e=Sle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Sle(t){var e=ble(t,"string");return typeof e=="symbol"?e:e+""}function ble(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wle(t,e){return t??e}var ez=(t,e,n,r,i,o,s)=>{if(!(e==null||o==null)){var{chartData:u,computedData:c,dataStartIndex:d,dataEndIndex:h}=n,m=[];return t.reduce((_,S)=>{var w,{dataDefinedOnItem:A,settings:C}=S,M=wle(A,u),U=Array.isArray(M)?HB(M,d,h):M,L=(w=C==null?void 0:C.dataKey)!==null&&w!==void 0?w:r,H=C==null?void 0:C.nameKey,z;if(r&&Array.isArray(U)&&!Array.isArray(U[0])&&s==="axis"?z=eZ(U,r,i):z=o(U,e,c,H),Array.isArray(z))z.forEach(P=>{var D=i2(i2({},C),{},{name:P.name,unit:P.unit,color:void 0,fill:void 0});_.push(AO({tooltipEntrySettings:D,dataKey:P.dataKey,payload:P.payload,value:on(P.payload,P.dataKey),name:P.name}))});else{var G;_.push(AO({tooltipEntrySettings:C,dataKey:L,payload:z,value:on(z,L),name:(G=on(z,H))!==null&&G!==void 0?G:C==null?void 0:C.name}))}return _},m)}},ZC=ne([Nn,Ct,w6,wC,Mn],L6),Ale=ne([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),Ile=ne([Mn,Nf],NC),Jp=ne([Ale,Nn,Ile],DC,{memoizeOptions:{resultEqualityCheck:e0}}),Cle=ne([Jp],t=>t.filter(xC)),Rle=ne([Jp],OC,{memoizeOptions:{resultEqualityCheck:e0}}),Lf=ne([Rle,Ws],kC),Ple=ne([Cle,Ws,Nn],b6),e1=ne([Lf,Nn,Jp],VC),tz=ne([Nn],UC),xle=ne([Nn],t=>t.allowDataOverflow),nz=ne([tz,xle],t6),Mle=ne([Jp],t=>t.filter(xC)),Nle=ne([Ple,Mle,Gp,m6],R6),Dle=ne([Nle,Ws,Mn,nz],P6),Ole=ne([Jp],I6),kle=ne([Lf,Nn,Ole,n0,Mn],BC,{memoizeOptions:{resultEqualityCheck:Z_}}),Lle=ne([x6,Mn,Nf],Df),Vle=ne([Lle,Mn],D6),Ule=ne([M6,Mn,Nf],Df),Fle=ne([Ule,Mn],O6),qle=ne([N6,Mn,Nf],Df),Ble=ne([qle,Mn],k6),zle=ne([Vle,Ble,Fle],Rv),Gle=ne([Nn,tz,nz,Dle,kle,zle,Ct,Mn],zC),Xp=ne([Nn,Ct,Lf,e1,Gp,Mn,Gle],GC),Hle=ne([Xp,Nn,ZC],KC),$le=ne([Nn,Xp,Hle,Mn],WC),rz=t=>{var e=Mn(t),n=Nf(t),r=!1;return Wp(t,e,n,r)},iz=ne([Nn,rz],X_),oz=ne([Nn,ZC,$le,iz],$C),Kle=ne([Ct,e1,Nn,Mn],B6),Yle=ne([Ct,e1,Nn,Mn],z6),Wle=(t,e,n,r,i,o,s,u)=>{if(e){var{type:c}=e,d=Eu(t,u);if(r){var h=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,m=c==="category"&&r.bandwidth?r.bandwidth()/h:0;return m=u==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?br(i[0]-i[1])*2*m:m,d&&s?s.map((_,S)=>({coordinate:r(_)+m,value:_,index:S,offset:m})):r.domain().map((_,S)=>({coordinate:r(_)+m,value:o?o[_]:_,index:S,offset:m}))}}},xa=ne([Ct,Nn,ZC,oz,rz,Kle,Yle,Mn],Wle),t1=ne([G6,H6,rle],(t,e,n)=>$6(n.shared,t,e)),az=t=>t.tooltip.settings.trigger,n1=t=>t.tooltip.settings.defaultIndex,Qp=ne([kf,t1,az,n1],X6),hp=ne([Qp,Lf,Yp,Xp],QC),sz=ne([xa,hp],K6),lz=ne([Qp],t=>{if(t)return t.dataKey}),jle=ne([Qp],t=>{if(t)return t.graphicalItemId}),uz=ne([kf,t1,az,n1],Z6),Jle=ne([Ca,Ra,Ct,Bn,xa,n1,uz,jp],Q6),Xle=ne([Qp,Jle],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),Qle=ne([Qp],t=>t.active),Zle=ne([uz,hp,Ws,Yp,sz,jp,t1],ez);ne([Zle],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function o2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function a2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o2(Object(n),!0).forEach(function(r){eue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eue(t,e,n){return(e=tue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tue(t){var e=nue(t,"string");return typeof e=="symbol"?e:e+""}function nue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rue=()=>Be(Nn),iue=()=>{var t=rue(),e=Be(xa),n=Be(oz);return wO(!t||!n?void 0:a2(a2({},t),{},{scale:n}),e)};function s2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _c(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s2(Object(n),!0).forEach(function(r){oue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oue(t,e,n){return(e=aue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aue(t){var e=sue(t,"string");return typeof e=="symbol"?e:e+""}function sue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lue=(t,e,n,r)=>{var i=e.find(o=>o&&o.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},uue=(t,e,n,r)=>{var i=e.find(d=>d&&d.index===n);if(i){if(t==="centric"){var o=i.coordinate,{radius:s}=r;return _c(_c(_c({},r),Tn(r.cx,r.cy,s,o)),{},{angle:o,radius:s})}var u=i.coordinate,{angle:c}=r;return _c(_c(_c({},r),Tn(r.cx,r.cy,u,c)),{},{angle:c,radius:u})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function cue(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var cz=(t,e,n,r,i)=>{var o,s=-1,u=(o=e==null?void 0:e.length)!==null&&o!==void 0?o:0;if(u<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var c=0;c<u;c++){var d=c>0?n[c-1].coordinate:n[u-1].coordinate,h=n[c].coordinate,m=c>=u-1?n[0].coordinate:n[c+1].coordinate,_=void 0;if(br(h-d)!==br(m-h)){var S=[];if(br(m-h)===br(i[1]-i[0])){_=m;var w=h+i[1]-i[0];S[0]=Math.min(w,(w+d)/2),S[1]=Math.max(w,(w+d)/2)}else{_=d;var A=m+i[1]-i[0];S[0]=Math.min(h,(A+h)/2),S[1]=Math.max(h,(A+h)/2)}var C=[Math.min(h,(_+h)/2),Math.max(h,(_+h)/2)];if(t>C[0]&&t<=C[1]||t>=S[0]&&t<=S[1]){({index:s}=n[c]);break}}else{var M=Math.min(d,m),U=Math.max(d,m);if(t>(M+h)/2&&t<=(U+h)/2){({index:s}=n[c]);break}}}else if(e){for(var L=0;L<u;L++)if(L===0&&t<=(e[L].coordinate+e[L+1].coordinate)/2||L>0&&L<u-1&&t>(e[L].coordinate+e[L-1].coordinate)/2&&t<=(e[L].coordinate+e[L+1].coordinate)/2||L===u-1&&t>(e[L].coordinate+e[L-1].coordinate)/2){({index:s}=e[L]);break}}return s},fue=()=>Be(wC),r1=(t,e)=>e,fz=(t,e,n)=>n,i1=(t,e,n,r)=>r,due=ne(xa,t=>I_(t,e=>e.coordinate)),o1=ne([kf,r1,fz,i1],X6),a1=ne([o1,Lf,Yp,Xp],QC),hue=(t,e,n)=>{if(e!=null){var r=kf(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},dz=ne([kf,r1,fz,i1],Z6),Pv=ne([Ca,Ra,Ct,Bn,xa,i1,dz,jp],Q6),pue=ne([o1,Pv],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),hz=ne([xa,a1],K6),mue=ne([dz,a1,Ws,Yp,hz,jp,r1],ez),gue=ne([o1,a1],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),yue=(t,e,n,r,i,o,s)=>{if(!(!t||!n||!r||!i)&&cue(t,s)){var u=Nte(t,e),c=cz(u,o,i,n,r),d=lue(e,i,c,t);return{activeIndex:String(c),activeCoordinate:d}}},vue=(t,e,n,r,i,o,s)=>{if(!(!t||!r||!i||!o||!n)){var u=Zre(t,n);if(u){var c=Dte(u,e),d=cz(c,s,o,r,i),h=uue(e,o,d,u);return{activeIndex:String(d),activeCoordinate:h}}}},_ue=(t,e,n,r,i,o,s,u)=>{if(!(!t||!e||!r||!i||!o))return e==="horizontal"||e==="vertical"?yue(t,e,r,i,o,s,u):vue(t,e,n,r,i,o,s)},Eue=ne(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElementId:r.elementId}}),Tue=ne(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(Gi)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:ese}});function l2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function u2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?l2(Object(n),!0).forEach(function(r){Sue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sue(t,e,n){return(e=bue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bue(t){var e=wue(t,"string");return typeof e=="symbol"?e:e+""}function wue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Aue={},Iue={zIndexMap:Object.values(Gi).reduce((t,e)=>u2(u2({},t),{},{[e]:{elementId:void 0,panoramaElementId:void 0,consumers:0}}),Aue)},Cue=new Set(Object.values(Gi));function Rue(t){return Cue.has(t)}var pz=Ar({name:"zIndex",initialState:Iue,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,elementId:void 0,panoramaElementId:void 0}},prepare:Ot()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!Rue(n)&&delete t.zIndexMap[n])},prepare:Ot()},registerZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n,elementId:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElementId=r:t.zIndexMap[n].elementId=r:t.zIndexMap[n]={consumers:0,elementId:i?void 0:r,panoramaElementId:i?r:void 0}},prepare:Ot()},unregisterZIndexPortalId:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElementId=void 0:t.zIndexMap[n].elementId=void 0)},prepare:Ot()}}}),{registerZIndexPortal:Pue,unregisterZIndexPortal:xue,registerZIndexPortalId:Mue,unregisterZIndexPortalId:Nue}=pz.actions,Due=pz.reducer;function Zp(t){var{zIndex:e,children:n}=t,r=dne(),i=r&&e!==void 0&&e!==0,o=$s(),s=sn();N.useLayoutEffect(()=>i?(s(Pue({zIndex:e})),()=>{s(xue({zIndex:e}))}):Dp,[s,e,i]);var u=Be(d=>Eue(d,e,o));if(!i)return n;if(!u)return null;var c=document.getElementById(u);return c?CI.createPortal(n,c):null}function $w(){return $w=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$w.apply(null,arguments)}function c2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?c2(Object(n),!0).forEach(function(r){Oue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oue(t,e,n){return(e=kue(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kue(t){var e=Lue(t,"string");return typeof e=="symbol"?e:e+""}function Lue(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vue(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return N.isValidElement(e)?N.cloneElement(e,r):N.createElement(n,r)}function Uue(t){var e,{coordinate:n,payload:r,index:i,offset:o,tooltipAxisBandSize:s,layout:u,cursor:c,tooltipEventType:d,chartName:h}=t,m=n,_=r,S=i;if(!c||!m||h!=="ScatterChart"&&d!=="axis")return null;var w,A,C;if(h==="ScatterChart")w=m,A=pre,C=Gi.cursorLine;else if(h==="BarChart")w=mre(u,m,o,s),A=p3,C=Gi.cursorRectangle;else if(u==="radial"&&Qq(m)){var{cx:M,cy:U,radius:L,startAngle:H,endAngle:z}=g3(m);w={cx:M,cy:U,startAngle:H,endAngle:z,innerRadius:L,outerRadius:L},A=v3,C=Gi.cursorLine}else w={points:rie(u,m,o)},A=jI,C=Gi.cursorLine;var G=typeof c=="object"&&"className"in c?c.className:void 0,P=Qg(Qg(Qg(Qg({stroke:"#ccc",pointerEvents:"none"},o),w),tw(c)),{},{payload:_,payloadIndex:S,className:an("recharts-tooltip-cursor",G)});return N.createElement(Zp,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:C},N.createElement(Vue,{cursor:c,cursorComp:A,cursorProps:P}))}function Fue(t){var e=iue(),n=cne(),r=KI(),i=fue();return e==null||n==null||r==null||i==null?null:N.createElement(Uue,$w({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var mz=N.createContext(null),que=()=>N.useContext(mz),nb={exports:{}},f2;function Bue(){return f2||(f2=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,d,h){this.fn=c,this.context=d,this.once=h||!1}function o(c,d,h,m,_){if(typeof h!="function")throw new TypeError("The listener must be a function");var S=new i(h,m||c,_),w=n?n+d:d;return c._events[w]?c._events[w].fn?c._events[w]=[c._events[w],S]:c._events[w].push(S):(c._events[w]=S,c._eventsCount++),c}function s(c,d){--c._eventsCount===0?c._events=new r:delete c._events[d]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var d=[],h,m;if(this._eventsCount===0)return d;for(m in h=this._events)e.call(h,m)&&d.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},u.prototype.listeners=function(d){var h=n?n+d:d,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var _=0,S=m.length,w=new Array(S);_<S;_++)w[_]=m[_].fn;return w},u.prototype.listenerCount=function(d){var h=n?n+d:d,m=this._events[h];return m?m.fn?1:m.length:0},u.prototype.emit=function(d,h,m,_,S,w){var A=n?n+d:d;if(!this._events[A])return!1;var C=this._events[A],M=arguments.length,U,L;if(C.fn){switch(C.once&&this.removeListener(d,C.fn,void 0,!0),M){case 1:return C.fn.call(C.context),!0;case 2:return C.fn.call(C.context,h),!0;case 3:return C.fn.call(C.context,h,m),!0;case 4:return C.fn.call(C.context,h,m,_),!0;case 5:return C.fn.call(C.context,h,m,_,S),!0;case 6:return C.fn.call(C.context,h,m,_,S,w),!0}for(L=1,U=new Array(M-1);L<M;L++)U[L-1]=arguments[L];C.fn.apply(C.context,U)}else{var H=C.length,z;for(L=0;L<H;L++)switch(C[L].once&&this.removeListener(d,C[L].fn,void 0,!0),M){case 1:C[L].fn.call(C[L].context);break;case 2:C[L].fn.call(C[L].context,h);break;case 3:C[L].fn.call(C[L].context,h,m);break;case 4:C[L].fn.call(C[L].context,h,m,_);break;default:if(!U)for(z=1,U=new Array(M-1);z<M;z++)U[z-1]=arguments[z];C[L].fn.apply(C[L].context,U)}}return!0},u.prototype.on=function(d,h,m){return o(this,d,h,m,!1)},u.prototype.once=function(d,h,m){return o(this,d,h,m,!0)},u.prototype.removeListener=function(d,h,m,_){var S=n?n+d:d;if(!this._events[S])return this;if(!h)return s(this,S),this;var w=this._events[S];if(w.fn)w.fn===h&&(!_||w.once)&&(!m||w.context===m)&&s(this,S);else{for(var A=0,C=[],M=w.length;A<M;A++)(w[A].fn!==h||_&&!w[A].once||m&&w[A].context!==m)&&C.push(w[A]);C.length?this._events[S]=C.length===1?C[0]:C:s(this,S)}return this},u.prototype.removeAllListeners=function(d){var h;return d?(h=n?n+d:d,this._events[h]&&s(this,h)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=n,u.EventEmitter=u,t.exports=u})(nb)),nb.exports}var zue=Bue();const Gue=Oo(zue);var pp=new Gue,Kw="recharts.syncEvent.tooltip",d2="recharts.syncEvent.brush";function Hue(t,e){if(e){var n=Number.parseInt(e,10);if(!ma(n))return t==null?void 0:t[n]}}var $ue={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},gz=Ar({name:"options",initialState:$ue,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Kue=gz.reducer,{createEventEmitter:Yue}=gz.actions;function Wue(t){return t.tooltip.syncInteraction}var jue={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},yz=Ar({name:"chartData",initialState:jue,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:h2,setDataStartEndIndexes:Jue,setComputedData:dTe}=yz.actions,Xue=yz.reducer,Que=["x","y"];function p2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ec(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?p2(Object(n),!0).forEach(function(r){Zue(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zue(t,e,n){return(e=ece(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ece(t){var e=tce(t,"string");return typeof e=="symbol"?e:e+""}function tce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nce(t,e){if(t==null)return{};var n,r,i=rce(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function rce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ice(){var t=Be(AC),e=Be(IC),n=sn(),r=Be(g6),i=Be(xa),o=KI(),s=F_(),u=Be(c=>c.rootProps.className);N.useEffect(()=>{if(t==null)return Dp;var c=(d,h,m)=>{if(e!==m&&t===d){if(r==="index"){var _;if(s&&h!==null&&h!==void 0&&(_=h.payload)!==null&&_!==void 0&&_.coordinate&&h.payload.sourceViewBox){var S=h.payload.coordinate,{x:w,y:A}=S,C=nce(S,Que),{x:M,y:U,width:L,height:H}=h.payload.sourceViewBox,z=Ec(Ec({},C),{},{x:s.x+(L?(w-M)/L:0)*s.width,y:s.y+(H?(A-U)/H:0)*s.height});n(Ec(Ec({},h),{},{payload:Ec(Ec({},h.payload),{},{coordinate:z})}))}else n(h);return}if(i!=null){var G;if(typeof r=="function"){var P={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},D=r(i,P);G=i[D]}else r==="value"&&(G=i.find(Q=>String(Q.value)===h.payload.label));var{coordinate:x}=h.payload;if(G==null||h.payload.active===!1||x==null||s==null){n(Gw({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:F,y:k}=x,B=Math.min(F,s.x+s.width),q=Math.min(k,s.y+s.height),Se={x:o==="horizontal"?G.coordinate:B,y:o==="horizontal"?q:G.coordinate},De=Gw({active:h.payload.active,coordinate:Se,dataKey:h.payload.dataKey,index:String(G.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox,graphicalItemId:h.payload.graphicalItemId});n(De)}}};return pp.on(Kw,c),()=>{pp.off(Kw,c)}},[u,n,e,t,r,i,o,s])}function oce(){var t=Be(AC),e=Be(IC),n=sn();N.useEffect(()=>{if(t==null)return Dp;var r=(i,o,s)=>{e!==s&&t===i&&n(Jue(o))};return pp.on(d2,r),()=>{pp.off(d2,r)}},[n,e,t])}function ace(){var t=sn();N.useEffect(()=>{t(Yue())},[t]),ice(),oce()}function sce(t,e,n,r,i,o){var s=Be(S=>hue(S,t,e)),u=Be(IC),c=Be(AC),d=Be(g6),h=Be(Wue),m=h==null?void 0:h.active,_=F_();N.useEffect(()=>{if(!m&&c!=null&&u!=null){var S=Gw({active:o,coordinate:n,dataKey:s,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:_,graphicalItemId:void 0});pp.emit(Kw,c,S,u)}},[m,n,s,i,r,u,c,d,o,_])}function m2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function g2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?m2(Object(n),!0).forEach(function(r){lce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lce(t,e,n){return(e=uce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uce(t){var e=cce(t,"string");return typeof e=="symbol"?e:e+""}function cce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fce(t){return t.dataKey}function dce(t,e){return N.isValidElement(t)?N.cloneElement(t,e):typeof t=="function"?N.createElement(t,e):N.createElement(Yne,e)}var y2=[],hce={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function pce(t){var e,n,r=bi(t,hce),{active:i,allowEscapeViewBox:o,animationDuration:s,animationEasing:u,content:c,filterNull:d,isAnimationActive:h,offset:m,payloadUniqBy:_,position:S,reverseDirection:w,useTranslate3d:A,wrapperStyle:C,cursor:M,shared:U,trigger:L,defaultIndex:H,portal:z,axisId:G}=r,P=sn(),D=typeof H=="number"?String(H):H;N.useEffect(()=>{P(lle({shared:U,trigger:L,axisId:G,active:i,defaultIndex:D}))},[P,U,L,G,i,D]);var x=F_(),F=u3(),k=nle(U),{activeIndex:B,isActive:q}=(e=Be(Oe=>gue(Oe,k,L,D)))!==null&&e!==void 0?e:{},Se=Be(Oe=>mue(Oe,k,L,D)),De=Be(Oe=>hz(Oe,k,L,D)),Q=Be(Oe=>pue(Oe,k,L,D)),fe=Se,Ee=que(),Ce=(n=i??q)!==null&&n!==void 0?n:!1,[$e,K]=pB([fe,Ce]),oe=k==="axis"?De:void 0;sce(k,L,Q,oe,B,Ce);var me=z??Ee;if(me==null||x==null||k==null)return null;var ve=fe??y2;Ce||(ve=y2),d&&ve.length&&(ve=uB(ve.filter(Oe=>Oe.value!=null&&(Oe.hide!==!0||r.includeHidden)),_,fce));var xe=ve.length>0,ke=N.createElement(ere,{allowEscapeViewBox:o,animationDuration:s,animationEasing:u,isAnimationActive:h,active:Ce,coordinate:Q,hasPayload:xe,offset:m,position:S,reverseDirection:w,useTranslate3d:A,viewBox:x,wrapperStyle:C,lastBoundingBox:$e,innerRef:K,hasPortalFromProps:!!z},dce(c,g2(g2({},r),{},{payload:ve,label:oe,active:Ce,activeIndex:B,coordinate:Q,accessibilityLayer:F})));return N.createElement(N.Fragment,null,CI.createPortal(ke,me),Ce&&N.createElement(Fue,{cursor:M,tooltipEventType:k,coordinate:Q,payload:ve,index:B}))}var a0=t=>null;a0.displayName="Cell";function mce(t,e,n){return(e=gce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gce(t){var e=yce(t,"string");return typeof e=="symbol"?e:e+""}function yce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class vce{constructor(e){mce(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function v2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _ce(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?v2(Object(n),!0).forEach(function(r){Ece(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ece(t,e,n){return(e=Tce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tce(t){var e=Sce(t,"string");return typeof e=="symbol"?e:e+""}function Sce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bce={cacheSize:2e3,enableCache:!0},vz=_ce({},bce),_2=new vce(vz.cacheSize),wce={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},E2="recharts_measurement_span";function Ace(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",o=e.fontStyle||"",s=e.letterSpacing||"",u=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(o,"|").concat(s,"|").concat(u)}var T2=(t,e)=>{try{var n=document.getElementById(E2);n||(n=document.createElement("span"),n.setAttribute("id",E2),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,wce,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},S2=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||H_.isSsr)return{width:0,height:0};if(!vz.enableCache)return T2(e,n);var r=Ace(e,n),i=_2.get(r);if(i)return i;var o=T2(e,n);return _2.set(r,o),o},b2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,w2=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Ice=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Cce=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,_z={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Rce=Object.keys(_z),xc="NaN";function Pce(t,e){return t*_z[e]}class _r{static parse(e){var n,[,r,i]=(n=Cce.exec(e))!==null&&n!==void 0?n:[];return new _r(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,ma(e)&&(this.unit=""),n!==""&&!Ice.test(n)&&(this.num=NaN,this.unit=""),Rce.includes(n)&&(this.num=Pce(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new _r(NaN,""):new _r(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new _r(NaN,""):new _r(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new _r(NaN,""):new _r(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new _r(NaN,""):new _r(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ma(this.num)}}function Ez(t){if(t.includes(xc))return xc;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,o]=(n=b2.exec(e))!==null&&n!==void 0?n:[],s=_r.parse(r??""),u=_r.parse(o??""),c=i==="*"?s.multiply(u):s.divide(u);if(c.isNaN())return xc;e=e.replace(b2,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,[,h,m,_]=(d=w2.exec(e))!==null&&d!==void 0?d:[],S=_r.parse(h??""),w=_r.parse(_??""),A=m==="+"?S.add(w):S.subtract(w);if(A.isNaN())return xc;e=e.replace(w2,A.toString())}return e}var A2=/\(([^()]*)\)/;function xce(t){for(var e=t,n;(n=A2.exec(e))!=null;){var[,r]=n;e=e.replace(A2,Ez(r))}return e}function Mce(t){var e=t.replace(/\s+/g,"");return e=xce(e),e=Ez(e),e}function Nce(t){try{return Mce(t)}catch{return xc}}function rb(t){var e=Nce(t.slice(5,-1));return e===xc?"":e}var Dce=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Oce=["dx","dy","angle","className","breakAll"];function Yw(){return Yw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yw.apply(null,arguments)}function I2(t,e){if(t==null)return{};var n,r,i=kce(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function kce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Tz=/[ \f\n\r\t\v\u2028\u2029]+/,Sz=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];Wr(e)||(n?i=e.toString().split(""):i=e.toString().split(Tz));var o=i.map(u=>({word:u,width:S2(u,r).width})),s=n?0:S2("",r).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}};function Lce(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var bz=(t,e,n,r)=>t.reduce((i,o)=>{var{word:s,width:u}=o,c=i[i.length-1];if(c&&u!=null&&(e==null||r||c.width+u+n<Number(e)))c.words.push(s),c.width+=u+n;else{var d={words:[s],width:u};i.push(d)}return i},[]),wz=t=>t.reduce((e,n)=>e.width>n.width?e:n),Vce="",C2=(t,e,n,r,i,o,s,u)=>{var c=t.slice(0,e),d=Sz({breakAll:n,style:r,children:c+Vce});if(!d)return[!1,[]];var h=bz(d.wordsWithComputedWidth,o,s,u),m=h.length>i||wz(h).width>Number(o);return[m,h]},Uce=(t,e,n,r,i)=>{var{maxLines:o,children:s,style:u,breakAll:c}=t,d=Ve(o),h=String(s),m=bz(e,r,n,i);if(!d||i)return m;var _=m.length>o||wz(m).width>Number(r);if(!_)return m;for(var S=0,w=h.length-1,A=0,C;S<=w&&A<=h.length-1;){var M=Math.floor((S+w)/2),U=M-1,[L,H]=C2(h,U,c,u,o,r,n,i),[z]=C2(h,M,c,u,o,r,n,i);if(!L&&!z&&(S=M+1),L&&z&&(w=M-1),!L&&z){C=H;break}A++}return C||m},R2=t=>{var e=Wr(t)?[]:t.toString().split(Tz);return[{words:e,width:void 0}]},Fce=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:o,maxLines:s}=t;if((e||n)&&!H_.isSsr){var u,c,d=Sz({breakAll:o,children:r,style:i});if(d){var{wordsWithComputedWidth:h,spaceWidth:m}=d;u=h,c=m}else return R2(r);return Uce({breakAll:o,children:r,maxLines:s,style:i},u,c,e,!!n)}return R2(r)},Az="#808080",qce={angle:0,breakAll:!1,capHeight:"0.71em",fill:Az,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},s1=N.forwardRef((t,e)=>{var n=bi(t,qce),{x:r,y:i,lineHeight:o,capHeight:s,fill:u,scaleToFit:c,textAnchor:d,verticalAnchor:h}=n,m=I2(n,Dce),_=N.useMemo(()=>Fce({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:c,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,c,m.style,m.width]),{dx:S,dy:w,angle:A,className:C,breakAll:M}=m,U=I2(m,Oce);if(!ya(r)||!ya(i)||_.length===0)return null;var L=Number(r)+(Ve(S)?S:0),H=Number(i)+(Ve(w)?w:0);if(!qn(L)||!qn(H))return null;var z;switch(h){case"start":z=rb("calc(".concat(s,")"));break;case"middle":z=rb("calc(".concat((_.length-1)/2," * -").concat(o," + (").concat(s," / 2))"));break;default:z=rb("calc(".concat(_.length-1," * -").concat(o,")"));break}var G=[];if(c){var P=_[0].width,{width:D}=m;G.push("scale(".concat(Ve(D)&&Ve(P)?D/P:1,")"))}return A&&G.push("rotate(".concat(A,", ").concat(L,", ").concat(H,")")),G.length&&(U.transform=G.join(" ")),N.createElement("text",Yw({},Ei(U),{ref:e,x:L,y:H,className:an("recharts-text",C),textAnchor:d,fill:u.includes("url")?Az:u}),_.map((x,F)=>{var k=x.words.join(M?"":" ");return N.createElement("tspan",{x:L,dy:F===0?z:o,key:"".concat(k,"-").concat(F)},k)}))});s1.displayName="Text";var Bce=["labelRef"];function zce(t,e){if(t==null)return{};var n,r,i=Gce(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Gce(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function P2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P2(Object(n),!0).forEach(function(r){Hce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hce(t,e,n){return(e=$ce(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $ce(t){var e=Kce(t,"string");return typeof e=="symbol"?e:e+""}function Kce(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xv(){return xv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xv.apply(null,arguments)}var Yce=N.createContext(null),Wce=()=>{var t=N.useContext(Yce),e=F_();return t||QB(e)},jce=N.createContext(null),Jce=()=>{var t=N.useContext(jce),e=Be(T6);return t||e},Xce=t=>{var{value:e,formatter:n}=t,r=Wr(t.children)?e:t.children;return typeof n=="function"?n(r):r},Qce=t=>t!=null&&typeof t=="function",Zce=(t,e)=>{var n=br(e-t),r=Math.min(Math.abs(e-t),360);return n*r},efe=(t,e,n,r,i)=>{var{offset:o,className:s}=t,{cx:u,cy:c,innerRadius:d,outerRadius:h,startAngle:m,endAngle:_,clockWise:S}=i,w=(d+h)/2,A=Zce(m,_),C=A>=0?1:-1,M,U;switch(e){case"insideStart":M=m+C*o,U=S;break;case"insideEnd":M=_-C*o,U=!S;break;case"end":M=_+C*o,U=S;break;default:throw new Error("Unsupported position ".concat(e))}U=A<=0?U:!U;var L=Tn(u,c,w,M),H=Tn(u,c,w,M+(U?1:-1)*359),z="M".concat(L.x,",").concat(L.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(U?0:1,`,
    `).concat(H.x,",").concat(H.y),G=Wr(t.id)?ep("recharts-radial-line-"):t.id;return N.createElement("text",xv({},r,{dominantBaseline:"central",className:an("recharts-radial-bar-label",s)}),N.createElement("defs",null,N.createElement("path",{id:G,d:z})),N.createElement("textPath",{xlinkHref:"#".concat(G)},n))},tfe=(t,e,n)=>{var{cx:r,cy:i,innerRadius:o,outerRadius:s,startAngle:u,endAngle:c}=t,d=(u+c)/2;if(n==="outside"){var{x:h,y:m}=Tn(r,i,s+e,d);return{x:h,y:m,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var _=(o+s)/2,{x:S,y:w}=Tn(r,i,_,d);return{x:S,y:w,textAnchor:"middle",verticalAnchor:"middle"}},Ww=t=>"cx"in t&&Ve(t.cx),nfe=(t,e)=>{var{parentViewBox:n,offset:r,position:i}=t,o;n!=null&&!Ww(n)&&(o=n);var{x:s,y:u,upperWidth:c,lowerWidth:d,height:h}=e,m=s,_=s+(c-d)/2,S=(m+_)/2,w=(c+d)/2,A=m+c/2,C=h>=0?1:-1,M=C*r,U=C>0?"end":"start",L=C>0?"start":"end",H=c>=0?1:-1,z=H*r,G=H>0?"end":"start",P=H>0?"start":"end";if(i==="top"){var D={x:m+c/2,y:u-M,textAnchor:"middle",verticalAnchor:U};return yn(yn({},D),o?{height:Math.max(u-o.y,0),width:c}:{})}if(i==="bottom"){var x={x:_+d/2,y:u+h+M,textAnchor:"middle",verticalAnchor:L};return yn(yn({},x),o?{height:Math.max(o.y+o.height-(u+h),0),width:d}:{})}if(i==="left"){var F={x:S-z,y:u+h/2,textAnchor:G,verticalAnchor:"middle"};return yn(yn({},F),o?{width:Math.max(F.x-o.x,0),height:h}:{})}if(i==="right"){var k={x:S+w+z,y:u+h/2,textAnchor:P,verticalAnchor:"middle"};return yn(yn({},k),o?{width:Math.max(o.x+o.width-k.x,0),height:h}:{})}var B=o?{width:w,height:h}:{};return i==="insideLeft"?yn({x:S+z,y:u+h/2,textAnchor:P,verticalAnchor:"middle"},B):i==="insideRight"?yn({x:S+w-z,y:u+h/2,textAnchor:G,verticalAnchor:"middle"},B):i==="insideTop"?yn({x:m+c/2,y:u+M,textAnchor:"middle",verticalAnchor:L},B):i==="insideBottom"?yn({x:_+d/2,y:u+h-M,textAnchor:"middle",verticalAnchor:U},B):i==="insideTopLeft"?yn({x:m+z,y:u+M,textAnchor:P,verticalAnchor:L},B):i==="insideTopRight"?yn({x:m+c-z,y:u+M,textAnchor:G,verticalAnchor:L},B):i==="insideBottomLeft"?yn({x:_+z,y:u+h-M,textAnchor:P,verticalAnchor:U},B):i==="insideBottomRight"?yn({x:_+d-z,y:u+h-M,textAnchor:G,verticalAnchor:U},B):i&&typeof i=="object"&&(Ve(i.x)||ga(i.x))&&(Ve(i.y)||ga(i.y))?yn({x:s+$r(i.x,w),y:u+$r(i.y,h),textAnchor:"end",verticalAnchor:"end"},B):yn({x:A,y:u+h/2,textAnchor:"middle",verticalAnchor:"middle"},B)},rfe={angle:0,offset:5,zIndex:Gi.label,position:"middle",textBreakAll:!1};function Iz(t){var e=bi(t,rfe),{viewBox:n,position:r,value:i,children:o,content:s,className:u="",textBreakAll:c,labelRef:d}=e,h=Jce(),m=Wce(),_=r==="center"?m:h??m,S,w,A;if(n==null?S=_:Ww(n)?S=n:S=QB(n),!S||Wr(i)&&Wr(o)&&!N.isValidElement(s)&&typeof s!="function")return null;var C=yn(yn({},e),{},{viewBox:S});if(N.isValidElement(s)){var{labelRef:M}=C,U=zce(C,Bce);return N.cloneElement(s,U)}if(typeof s=="function"){if(w=N.createElement(s,C),N.isValidElement(w))return w}else w=Xce(e);var L=Ei(e);if(Ww(S)){if(r==="insideStart"||r==="insideEnd"||r==="end")return efe(e,r,w,L,S);A=tfe(S,e.offset,e.position)}else A=nfe(e,S);return N.createElement(Zp,{zIndex:e.zIndex},N.createElement(s1,xv({ref:d,className:an("recharts-label",u)},L,A,{textAnchor:Lce(L.textAnchor)?L.textAnchor:A.textAnchor,breakAll:c}),w))}Iz.displayName="Label";var ib={},ob={},x2;function ife(){return x2||(x2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(ob)),ob}var ab={},M2;function ofe(){return M2||(M2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(ab)),ab}var N2;function afe(){return N2||(N2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ife(),n=ofe(),r=kI();function i(o){if(r.isArrayLike(o))return e.last(n.toArray(o))}t.last=i})(ib)),ib}var sb,D2;function sfe(){return D2||(D2=1,sb=afe().last),sb}var lfe=sfe();const ufe=Oo(lfe);var cfe=["valueAccessor"],ffe=["dataKey","clockWise","id","textBreakAll","zIndex"];function Mv(){return Mv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mv.apply(null,arguments)}function O2(t,e){if(t==null)return{};var n,r,i=dfe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function dfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var hfe=t=>Array.isArray(t.value)?ufe(t.value):t.value,Cz=N.createContext(void 0);Cz.Provider;var Rz=N.createContext(void 0),pfe=Rz.Provider;function mfe(){return N.useContext(Cz)}function gfe(){return N.useContext(Rz)}function Ey(t){var{valueAccessor:e=hfe}=t,n=O2(t,cfe),{dataKey:r,clockWise:i,id:o,textBreakAll:s,zIndex:u}=n,c=O2(n,ffe),d=mfe(),h=gfe(),m=d||h;return!m||!m.length?null:N.createElement(Zp,{zIndex:u??Gi.label},N.createElement(Ls,{className:"recharts-label-list"},m.map((_,S)=>{var w,A=Wr(r)?e(_,S):on(_&&_.payload,r),C=Wr(o)?{}:{id:"".concat(o,"-").concat(S)};return N.createElement(Iz,Mv({key:"label-".concat(S)},Ei(_),c,C,{fill:(w=n.fill)!==null&&w!==void 0?w:_.fill,parentViewBox:_.parentViewBox,value:A,textBreakAll:s,viewBox:_.viewBox,index:S,zIndex:0}))})))}Ey.displayName="LabelList";function yfe(t){var{label:e}=t;return e?e===!0?N.createElement(Ey,{key:"labelList-implicit"}):N.isValidElement(e)||Qce(e)?N.createElement(Ey,{key:"labelList-implicit",content:e}):typeof e=="object"?N.createElement(Ey,Mv({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}var Pz=t=>t.graphicalItems.polarItems,vfe=ne([Ft,Hp],NC),s0=ne([Pz,Ht,vfe],DC),_fe=ne([s0],OC),l0=ne([_fe,TC],kC),Efe=ne([l0,Ht,s0],VC);ne([l0,Ht,s0],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(i=>{var o,s=on(r,(o=e.dataKey)!==null&&o!==void 0?o:i.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:on(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]})));var k2=()=>{},Tfe=ne([l0,Ht,s0,n0,Ft],BC),Sfe=ne([Ht,FC,qC,k2,Tfe,k2,Ct,Ft],zC),xz=ne([Ht,Ct,l0,Efe,Gp,Ft,Sfe],GC),bfe=ne([xz,Ht,Of],KC);ne([Ht,xz,bfe,Ft],WC);var wfe={radiusAxis:{},angleAxis:{}},Mz=Ar({name:"polarAxis",initialState:wfe,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:hTe,removeRadiusAxis:pTe,addAngleAxis:mTe,removeAngleAxis:gTe}=Mz.actions,Afe=Mz.reducer;function L2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function V2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?L2(Object(n),!0).forEach(function(r){Ife(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ife(t,e,n){return(e=Cfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cfe(t){var e=Rfe(t,"string");return typeof e=="symbol"?e:e+""}function Rfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pfe=(t,e)=>e,l1=ne([Pz,Pfe],(t,e)=>t.filter(n=>n.type==="pie").find(n=>n.id===e)),xfe=[],u1=(t,e,n)=>(n==null?void 0:n.length)===0?xfe:n,Nz=ne([TC,l1,u1],(t,e,n)=>{var{chartData:r}=t;if(e!=null){var i;if((e==null?void 0:e.data)!=null&&e.data.length>0?i=e.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(o=>V2(V2({},e.presentationProps),o.props))),i!=null)return i}}),Mfe=ne([Nz,l1,u1],(t,e,n)=>{if(!(t==null||e==null))return t.map((r,i)=>{var o,s=on(r,e.nameKey,e.name),u;return n!=null&&(o=n[i])!==null&&o!==void 0&&(o=o.props)!==null&&o!==void 0&&o.fill?u=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?u=r.fill:u=e.fill,{value:$B(s,e.dataKey),color:u,payload:r,type:e.legendType}})}),Nfe=ne([Nz,l1,u1,Bn],(t,e,n,r)=>{if(!(e==null||t==null))return kde({offset:r,pieSettings:e,displayedData:t,cells:n})}),lb={exports:{}},bt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U2;function Dfe(){if(U2)return bt;U2=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),s=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),_=Symbol.for("react.view_transition"),S=Symbol.for("react.client.reference");function w(A){if(typeof A=="object"&&A!==null){var C=A.$$typeof;switch(C){case t:switch(A=A.type,A){case n:case i:case r:case c:case d:case _:return A;default:switch(A=A&&A.$$typeof,A){case s:case u:case m:case h:return A;case o:return A;default:return C}}case e:return C}}}return bt.ContextConsumer=o,bt.ContextProvider=s,bt.Element=t,bt.ForwardRef=u,bt.Fragment=n,bt.Lazy=m,bt.Memo=h,bt.Portal=e,bt.Profiler=i,bt.StrictMode=r,bt.Suspense=c,bt.SuspenseList=d,bt.isContextConsumer=function(A){return w(A)===o},bt.isContextProvider=function(A){return w(A)===s},bt.isElement=function(A){return typeof A=="object"&&A!==null&&A.$$typeof===t},bt.isForwardRef=function(A){return w(A)===u},bt.isFragment=function(A){return w(A)===n},bt.isLazy=function(A){return w(A)===m},bt.isMemo=function(A){return w(A)===h},bt.isPortal=function(A){return w(A)===e},bt.isProfiler=function(A){return w(A)===i},bt.isStrictMode=function(A){return w(A)===r},bt.isSuspense=function(A){return w(A)===c},bt.isSuspenseList=function(A){return w(A)===d},bt.isValidElementType=function(A){return typeof A=="string"||typeof A=="function"||A===n||A===i||A===r||A===c||A===d||typeof A=="object"&&A!==null&&(A.$$typeof===m||A.$$typeof===h||A.$$typeof===s||A.$$typeof===o||A.$$typeof===u||A.$$typeof===S||A.getModuleId!==void 0)},bt.typeOf=w,bt}var F2;function Ofe(){return F2||(F2=1,lb.exports=Dfe()),lb.exports}var kfe=Ofe(),q2=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",B2=null,ub=null,Dz=t=>{if(t===B2&&Array.isArray(ub))return ub;var e=[];return N.Children.forEach(t,n=>{Wr(n)||(kfe.isFragment(n)?e=e.concat(Dz(n.props.children)):e.push(n))}),ub=e,B2=t,e};function Oz(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>q2(i)):r=[q2(e)],Dz(t).forEach(i=>{var o=Zh(i,"type.displayName")||Zh(i,"type.name");o&&r.indexOf(o)!==-1&&n.push(i)}),n}var cb={},z2;function Lfe(){return z2||(z2=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const o=n[Symbol.toStringTag];return o==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${o}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(cb)),cb}var fb,G2;function Vfe(){return G2||(G2=1,fb=Lfe().isPlainObject),fb}var Ufe=Vfe();const Ffe=Oo(Ufe);function H2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H2(Object(n),!0).forEach(function(r){qfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qfe(t,e,n){return(e=Bfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bfe(t){var e=zfe(t,"string");return typeof e=="symbol"?e:e+""}function zfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nv(){return Nv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nv.apply(null,arguments)}var K2=(t,e,n,r,i)=>{var o=n-r,s;return s="M ".concat(t,",").concat(e),s+="L ".concat(t+n,",").concat(e),s+="L ".concat(t+n-o/2,",").concat(e+i),s+="L ".concat(t+n-o/2-r,",").concat(e+i),s+="L ".concat(t,",").concat(e," Z"),s},Gfe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Hfe=t=>{var e=bi(t,Gfe),{x:n,y:r,upperWidth:i,lowerWidth:o,height:s,className:u}=e,{animationEasing:c,animationDuration:d,animationBegin:h,isUpdateAnimationActive:m}=e,_=N.useRef(null),[S,w]=N.useState(-1),A=N.useRef(i),C=N.useRef(o),M=N.useRef(s),U=N.useRef(n),L=N.useRef(r),H=XI(t,"trapezoid-");if(N.useEffect(()=>{if(_.current&&_.current.getTotalLength)try{var Se=_.current.getTotalLength();Se&&w(Se)}catch{}},[]),n!==+n||r!==+r||i!==+i||o!==+o||s!==+s||i===0&&o===0||s===0)return null;var z=an("recharts-trapezoid",u);if(!m)return N.createElement("g",null,N.createElement("path",Nv({},Ei(e),{className:z,d:K2(n,r,i,o,s)})));var G=A.current,P=C.current,D=M.current,x=U.current,F=L.current,k="0px ".concat(S===-1?1:S,"px"),B="".concat(S,"px 0px"),q=c3(["strokeDasharray"],d,c);return N.createElement(JI,{animationId:H,key:H,canBegin:S>0,duration:d,easing:c,isActive:m,begin:h},Se=>{var De=Ui(G,i,Se),Q=Ui(P,o,Se),fe=Ui(D,s,Se),Ee=Ui(x,n,Se),Ce=Ui(F,r,Se);_.current&&(A.current=De,C.current=Q,M.current=fe,U.current=Ee,L.current=Ce);var $e=Se>0?{transition:q,strokeDasharray:B}:{strokeDasharray:k};return N.createElement("path",Nv({},Ei(e),{className:z,d:K2(Ee,Ce,De,Q,fe),ref:_,style:$2($2({},$e),e.style)}))})},$fe=["option","shapeType","propTransformer","activeClassName"];function Kfe(t,e){if(t==null)return{};var n,r,i=Yfe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Yfe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Y2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y2(Object(n),!0).forEach(function(r){Wfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wfe(t,e,n){return(e=jfe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jfe(t){var e=Jfe(t,"string");return typeof e=="symbol"?e:e+""}function Jfe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xfe(t,e){return Dv(Dv({},e),t)}function Qfe(t,e){return t==="symbols"}function W2(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return N.createElement(p3,n);case"trapezoid":return N.createElement(Hfe,n);case"sector":return N.createElement(v3,n);case"symbols":if(Qfe(e))return N.createElement(OI,n);break;case"curve":return N.createElement(jI,n);default:return null}}function Zfe(t){return N.isValidElement(t)?t.props:t}function ede(t){var{option:e,shapeType:n,propTransformer:r=Xfe,activeClassName:i="recharts-active-shape"}=t,o=Kfe(t,$fe),s;if(N.isValidElement(e))s=N.cloneElement(e,Dv(Dv({},o),Zfe(e)));else if(typeof e=="function")s=e(o,o.index);else if(Ffe(e)&&typeof e!="boolean"){var u=r(e,o);s=N.createElement(W2,{shapeType:n,elementProps:u})}else{var c=o;s=N.createElement(W2,{shapeType:n,elementProps:c})}return o.isActive?N.createElement(Ls,{className:i},s):s}var tde=(t,e,n)=>{var r=sn();return(i,o)=>s=>{t==null||t(i,o,s),r(W6({activeIndex:String(o),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},nde=t=>{var e=sn();return(n,r)=>i=>{t==null||t(n,r,i),e(ule())}},rde=(t,e,n)=>{var r=sn();return(i,o)=>s=>{t==null||t(i,o,s),r(cle({activeIndex:String(o),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function ide(t){var{tooltipEntrySettings:e}=t,n=sn(),r=$s(),i=N.useRef(null);return N.useLayoutEffect(()=>{r||(i.current===null?n(ole(e)):i.current!==e&&n(ale({prev:i.current,next:e})),i.current=e)},[e,n,r]),N.useLayoutEffect(()=>()=>{i.current&&(n(sle(i.current)),i.current=null)},[n]),null}function ode(t){var{legendPayload:e}=t,n=sn(),r=Be(Ct),i=N.useRef(null);return N.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(i.current===null?n(Ine(e)):i.current!==e&&n(Cne({prev:i.current,next:e})),i.current=e)},[n,r,e]),N.useLayoutEffect(()=>()=>{i.current&&(n(Rne(i.current)),i.current=null)},[n]),null}var db,ade=()=>{var[t]=N.useState(()=>ep("uid-"));return t},sde=(db=hH.useId)!==null&&db!==void 0?db:ade;function kz(t,e){var n=sde();return e||(t?"".concat(t,"-").concat(n):n)}var lde=N.createContext(void 0),ude=t=>{var{id:e,type:n,children:r}=t,i=kz("recharts-".concat(n),e);return N.createElement(lde.Provider,{value:i},r(i))},cde={cartesianItems:[],polarItems:[]},Lz=Ar({name:"graphicalItems",initialState:cde,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:Ot()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=$i(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:Ot()},removeCartesianGraphicalItem:{reducer(t,e){var n=$i(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:Ot()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:Ot()},removePolarGraphicalItem:{reducer(t,e){var n=$i(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:Ot()}}}),{addCartesianGraphicalItem:yTe,replaceCartesianGraphicalItem:vTe,removeCartesianGraphicalItem:_Te,addPolarGraphicalItem:fde,removePolarGraphicalItem:dde}=Lz.actions,hde=Lz.reducer;function pde(t){var e=sn();return N.useLayoutEffect(()=>(e(fde(t)),()=>{e(dde(t))}),[e,t]),null}var mde=["key"],gde=["onMouseEnter","onClick","onMouseLeave"],yde=["id"],vde=["id"];function j2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?j2(Object(n),!0).forEach(function(r){_de(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _de(t,e,n){return(e=Ede(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ede(t){var e=Tde(t,"string");return typeof e=="symbol"?e:e+""}function Tde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fs(){return Fs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fs.apply(null,arguments)}function u0(t,e){if(t==null)return{};var n,r,i=Sde(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Sde(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function bde(t){var e=N.useMemo(()=>Oz(t.children,a0),[t.children]),n=Be(r=>Mfe(r,t.id,e));return n==null?null:N.createElement(ode,{legendPayload:n})}var wde=N.memo(t=>{var{dataKey:e,nameKey:n,sectors:r,stroke:i,strokeWidth:o,fill:s,name:u,hide:c,tooltipType:d}=t,h={dataDefinedOnItem:r.map(m=>m.tooltipPayload),positions:r.map(m=>m.tooltipPosition),settings:{stroke:i,strokeWidth:o,fill:s,dataKey:e,nameKey:n,name:$B(u,e),hide:c,type:d,color:s,unit:""}};return N.createElement(ide,{tooltipEntrySettings:h})}),Ade=(t,e)=>t>e?"start":t<e?"end":"middle",Ide=(t,e,n)=>$r(typeof e=="function"?e(t):e,n,n*.8),Cde=(t,e,n)=>{var{top:r,left:i,width:o,height:s}=e,u=m3(o,s),c=i+$r(t.cx,o,o/2),d=r+$r(t.cy,s,s/2),h=$r(t.innerRadius,u,0),m=Ide(n,t.outerRadius,u),_=t.maxRadius||Math.sqrt(o*o+s*s)/2;return{cx:c,cy:d,innerRadius:h,outerRadius:m,maxRadius:_}},Rde=(t,e)=>{var n=br(e-t),r=Math.min(Math.abs(e-t),360);return n*r};function Pde(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var xde=(t,e)=>{if(N.isValidElement(t))return N.cloneElement(t,e);if(typeof t=="function")return t(e);var n=an("recharts-pie-label-line",typeof t!="boolean"?t.className:""),{key:r}=e,i=u0(e,mde);return N.createElement(jI,Fs({},i,{type:"linear",className:n}))},Mde=(t,e,n)=>{if(N.isValidElement(t))return N.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),N.isValidElement(r)))return r;var i=an("recharts-pie-label-text",Pde(t));return N.createElement(s1,Fs({},e,{alignmentBaseline:"middle",className:i}),r)};function Nde(t){var{sectors:e,props:n,showLabels:r}=t,{label:i,labelLine:o,dataKey:s}=n;if(!r||!i||!e)return null;var u=cf(n),c=tw(i),d=tw(o),h=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,m=e.map((_,S)=>{var w=(_.startAngle+_.endAngle)/2,A=Tn(_.cx,_.cy,_.outerRadius+h,w),C=Yt(Yt(Yt(Yt({},u),_),{},{stroke:"none"},c),{},{index:S,textAnchor:Ade(A.x,_.cx)},A),M=Yt(Yt(Yt(Yt({},u),_),{},{fill:"none",stroke:_.fill},d),{},{index:S,points:[Tn(_.cx,_.cy,_.outerRadius,w),A],key:"line"});return N.createElement(Zp,{zIndex:Gi.label,key:"label-".concat(_.startAngle,"-").concat(_.endAngle,"-").concat(_.midAngle,"-").concat(S)},N.createElement(Ls,null,o&&xde(o,M),Mde(i,C,on(_,s))))});return N.createElement(Ls,{className:"recharts-pie-labels"},m)}function Dde(t){var{sectors:e,props:n,showLabels:r}=t,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?N.createElement(yfe,{label:i}):N.createElement(Nde,{sectors:e,props:n,showLabels:r})}function Ode(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:i,shape:o,id:s}=t,u=Be(hp),c=Be(lz),d=Be(jle),{onMouseEnter:h,onClick:m,onMouseLeave:_}=i,S=u0(i,gde),w=tde(h,i.dataKey,s),A=nde(_),C=rde(m,i.dataKey,s);return e==null||e.length===0?null:N.createElement(N.Fragment,null,e.map((M,U)=>{if((M==null?void 0:M.startAngle)===0&&(M==null?void 0:M.endAngle)===0&&e.length!==1)return null;var L=d==null||d===s,H=String(U)===u&&(c==null||i.dataKey===c)&&L,z=u?r:null,G=n&&H?n:z,P=Yt(Yt({},M),{},{stroke:M.stroke,tabIndex:-1,[YB]:U,[WB]:i.dataKey});return N.createElement(Ls,Fs({key:"sector-".concat(M==null?void 0:M.startAngle,"-").concat(M==null?void 0:M.endAngle,"-").concat(M.midAngle,"-").concat(U),tabIndex:-1,className:"recharts-pie-sector"},Zq(S,M,U),{onMouseEnter:w(M,U),onMouseLeave:A(M,U),onClick:C(M,U)}),N.createElement(ede,Fs({option:o??G,index:U,shapeType:"sector",isActive:H},P)))}))}function kde(t){var e,{pieSettings:n,displayedData:r,cells:i,offset:o}=t,{cornerRadius:s,startAngle:u,endAngle:c,dataKey:d,nameKey:h,tooltipType:m}=n,_=Math.abs(n.minAngle),S=Rde(u,c),w=Math.abs(S),A=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,C=r.filter(G=>on(G,d,0)!==0).length,M=(w>=360?C:C-1)*A,U=w-C*_-M,L=r.reduce((G,P)=>{var D=on(P,d,0);return G+(Ve(D)?D:0)},0),H;if(L>0){var z;H=r.map((G,P)=>{var D=on(G,d,0),x=on(G,h,P),F=Cde(n,o,G),k=(Ve(D)?D:0)/L,B,q=Yt(Yt({},G),i&&i[P]&&i[P].props);P?B=z.endAngle+br(S)*A*(D!==0?1:0):B=u;var Se=B+br(S)*((D!==0?_:0)+k*U),De=(B+Se)/2,Q=(F.innerRadius+F.outerRadius)/2,fe=[{name:x,value:D,payload:q,dataKey:d,type:m}],Ee=Tn(F.cx,F.cy,Q,De);return z=Yt(Yt(Yt(Yt({},n.presentationProps),{},{percent:k,cornerRadius:typeof s=="string"?parseFloat(s):s,name:x,tooltipPayload:fe,midAngle:De,middleRadius:Q,tooltipPosition:Ee},q),F),{},{value:D,dataKey:d,startAngle:B,endAngle:Se,payload:q,paddingAngle:br(S)*A}),z})}return H}function Lde(t){var{showLabels:e,sectors:n,children:r}=t,i=N.useMemo(()=>!e||!n?[]:n.map(o=>({value:o.value,payload:o.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:o.cx,cy:o.cy,innerRadius:o.innerRadius,outerRadius:o.outerRadius,startAngle:o.startAngle,endAngle:o.endAngle,clockWise:!1},fill:o.fill})),[n,e]);return N.createElement(pfe,{value:e?i:void 0},r)}function Vde(t){var{props:e,previousSectorsRef:n,id:r}=t,{sectors:i,isAnimationActive:o,animationBegin:s,animationDuration:u,animationEasing:c,activeShape:d,inactiveShape:h,onAnimationStart:m,onAnimationEnd:_}=e,S=XI(e,"recharts-pie-"),w=n.current,[A,C]=N.useState(!1),M=N.useCallback(()=>{typeof _=="function"&&_(),C(!1)},[_]),U=N.useCallback(()=>{typeof m=="function"&&m(),C(!0)},[m]);return N.createElement(Lde,{showLabels:!A,sectors:i},N.createElement(JI,{animationId:S,begin:s,duration:u,isActive:o,easing:c,onAnimationStart:U,onAnimationEnd:M,key:S},L=>{var H=[],z=i&&i[0],G=z==null?void 0:z.startAngle;return i==null||i.forEach((P,D)=>{var x=w&&w[D],F=D>0?Zh(P,"paddingAngle",0):0;if(x){var k=Ui(x.endAngle-x.startAngle,P.endAngle-P.startAngle,L),B=Yt(Yt({},P),{},{startAngle:G+F,endAngle:G+k+F});H.push(B),G=B.endAngle}else{var{endAngle:q,startAngle:Se}=P,De=Ui(0,q-Se,L),Q=Yt(Yt({},P),{},{startAngle:G+F,endAngle:G+De+F});H.push(Q),G=Q.endAngle}}),n.current=H,N.createElement(Ls,null,N.createElement(Ode,{sectors:H,activeShape:d,inactiveShape:h,allOtherPieProps:e,shape:e.shape,id:r}))}),N.createElement(Dde,{showLabels:!A,sectors:i,props:e}),e.children)}var Ude={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:Gi.area};function Fde(t){var{id:e}=t,n=u0(t,yde),{hide:r,className:i,rootTabIndex:o}=t,s=N.useMemo(()=>Oz(t.children,a0),[t.children]),u=Be(h=>Nfe(h,e,s)),c=N.useRef(null),d=an("recharts-pie",i);return r||u==null?(c.current=null,N.createElement(Ls,{tabIndex:o,className:d})):N.createElement(Zp,{zIndex:t.zIndex},N.createElement(wde,{dataKey:t.dataKey,nameKey:t.nameKey,sectors:u,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType}),N.createElement(Ls,{tabIndex:o,className:d},N.createElement(Vde,{props:Yt(Yt({},n),{},{sectors:u}),previousSectorsRef:c,id:e})))}function Vz(t){var e=bi(t,Ude),{id:n}=e,r=u0(e,vde),i=cf(r);return N.createElement(ude,{id:n,type:"pie"},o=>N.createElement(N.Fragment,null,N.createElement(pde,{type:"pie",id:o,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:e.maxRadius}),N.createElement(bde,Fs({},r,{id:o})),N.createElement(Fde,Fs({},r,{id:o}))))}Vz.displayName="Pie";function J2(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function X2(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?J2(Object(n),!0).forEach(function(r){qde(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):J2(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qde(t,e,n){return(e=Bde(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bde(t){var e=zde(t,"string");return typeof e=="symbol"?e:e+""}function zde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gde={xAxis:{},yAxis:{},zAxis:{}},Uz=Ar({name:"cartesianAxis",initialState:Gde,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:Ot()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:Ot()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:Ot()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:Ot()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:Ot()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:Ot()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:Ot()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:Ot()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:Ot()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var o=i.widthHistory||[];if(o.length===3&&o[0]===o[2]&&r===o[1]&&r!==i.width&&Math.abs(r-o[0])<=1)return;var s=[...o,r].slice(-3);t.yAxis[n]=X2(X2({},t.yAxis[n]),{},{width:r,widthHistory:s})}}}}),{addXAxis:ETe,replaceXAxis:TTe,removeXAxis:STe,addYAxis:bTe,replaceYAxis:wTe,removeYAxis:ATe,addZAxis:ITe,replaceZAxis:CTe,removeZAxis:RTe,updateYAxisWidth:PTe}=Uz.actions,Hde=Uz.reducer,$de=ne([Bn],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),Kde=ne([$de,Ca,Ra],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),Yde=()=>Be(Kde),Wde={},Fz=Ar({name:"errorBars",initialState:Wde,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(o=>o.dataKey===r.dataKey&&o.direction===r.direction?i:o))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:xTe,replaceErrorBar:MTe,removeErrorBar:NTe}=Fz.actions,jde=Fz.reducer,hb={exports:{}},pb={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q2;function Jde(){if(Q2)return pb;Q2=1;var t=_f();function e(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,o=t.useEffect,s=t.useMemo,u=t.useDebugValue;return pb.useSyncExternalStoreWithSelector=function(c,d,h,m,_){var S=i(null);if(S.current===null){var w={hasValue:!1,value:null};S.current=w}else w=S.current;S=s(function(){function C(z){if(!M){if(M=!0,U=z,z=m(z),_!==void 0&&w.hasValue){var G=w.value;if(_(G,z))return L=G}return L=z}if(G=L,n(U,z))return G;var P=m(z);return _!==void 0&&_(G,P)?(U=z,G):(U=z,L=P)}var M=!1,U,L,H=h===void 0?null:h;return[function(){return C(d())},H===null?void 0:function(){return C(H())}]},[d,h,m,_]);var A=r(c,S[0],S[1]);return o(function(){w.hasValue=!0,w.value=A},[A]),u(A),A},pb}var Z2;function Xde(){return Z2||(Z2=1,hb.exports=Jde()),hb.exports}Xde();function Qde(t){t()}function Zde(){let t=null,e=null;return{clear(){t=null,e=null},notify(){Qde(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var eL={notify(){},get:()=>[]};function ehe(t,e){let n,r=eL,i=0,o=!1;function s(A){h();const C=r.subscribe(A);let M=!1;return()=>{M||(M=!0,C(),m())}}function u(){r.notify()}function c(){w.onStateChange&&w.onStateChange()}function d(){return o}function h(){i++,n||(n=t.subscribe(c),r=Zde())}function m(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=eL)}function _(){o||(o=!0,h())}function S(){o&&(o=!1,m())}const w={addNestedSub:s,notifyNestedSubs:u,handleChangeWrapper:c,isSubscribed:d,trySubscribe:_,tryUnsubscribe:S,getListeners:()=>r};return w}var the=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",nhe=the(),rhe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",ihe=rhe(),ohe=()=>nhe||ihe?N.useLayoutEffect:N.useEffect,ahe=ohe();function tL(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function she(t,e){if(tL(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!tL(t[n[i]],e[n[i]]))return!1;return!0}var mb=Symbol.for("react-redux-context"),gb=typeof globalThis<"u"?globalThis:{};function lhe(){if(!N.createContext)return{};const t=gb[mb]??(gb[mb]=new Map);let e=t.get(N.createContext);return e||(e=N.createContext(null),t.set(N.createContext,e)),e}var uhe=lhe();function che(t){const{children:e,context:n,serverState:r,store:i}=t,o=N.useMemo(()=>{const c=ehe(i);return{store:i,subscription:c,getServerState:r?()=>r:void 0}},[i,r]),s=N.useMemo(()=>i.getState(),[i]);ahe(()=>{const{subscription:c}=o;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),s!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[o,s]);const u=n||uhe;return N.createElement(u.Provider,{value:o},e)}var fhe=che,dhe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle"]);function hhe(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function phe(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(dhe.has(r)){if(t[r]==null&&e[r]==null)continue;if(!she(t[r],e[r]))return!1}else if(!hhe(t[r],e[r]))return!1;return!0}var mhe=t=>{var{chartData:e}=t,n=sn(),r=$s();return N.useEffect(()=>r?()=>{}:(n(h2(e)),()=>{n(h2(void 0))}),[e,n,r]),null},nL={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},qz=Ar({name:"brush",initialState:nL,reducers:{setBrushSettings(t,e){return e.payload==null?nL:e.payload}}}),{setBrushSettings:DTe}=qz.actions,ghe=qz.reducer,yhe={dots:[],areas:[],lines:[]},Bz=Ar({name:"referenceElements",initialState:yhe,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=$i(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=$i(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=$i(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:OTe,removeDot:kTe,addArea:LTe,removeArea:VTe,addLine:UTe,removeLine:FTe}=Bz.actions,vhe=Bz.reducer,_he=N.createContext(void 0),Ehe=t=>{var{children:e}=t,[n]=N.useState("".concat(ep("recharts"),"-clip")),r=Yde();if(r==null)return null;var{x:i,y:o,width:s,height:u}=r;return N.createElement(_he.Provider,{value:n},N.createElement("defs",null,N.createElement("clipPath",{id:n},N.createElement("rect",{x:i,y:o,height:u,width:s}))),e)},The=(t,e)=>e,c1=ne([The,Ct,T6,Mn,iz,xa,due,Bn],_ue),f1=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},zz=Ti("mouseClick"),Gz=Lp();Gz.startListening({actionCreator:zz,effect:(t,e)=>{var n=t.payload,r=c1(e.getState(),f1(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(fle({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var jw=Ti("mouseMove"),Hz=Lp(),Zg=null;Hz.startListening({actionCreator:jw,effect:(t,e)=>{var n=t.payload;Zg!==null&&cancelAnimationFrame(Zg);var r=f1(n);Zg=requestAnimationFrame(()=>{var i=e.getState(),o=XC(i,i.tooltip.settings.shared);if(o==="axis"){var s=c1(i,r);(s==null?void 0:s.activeIndex)!=null?e.dispatch(J6({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):e.dispatch(j6())}Zg=null})}});var rL={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},$z=Ar({name:"rootProps",initialState:rL,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:rL.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),She=$z.reducer,{updateOptions:bhe}=$z.actions,Kz=Ar({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:whe}=Kz.actions,Ahe=Kz.reducer,Yz=Ti("keyDown"),Wz=Ti("focus"),d1=Lp();d1.startListening({actionCreator:Yz,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,o=t.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var s=QC(i,Lf(n),Yp(n),Xp(n)),u=s==null?-1:Number(s);if(!(!Number.isFinite(u)||u<0)){var c=xa(n);if(o==="Enter"){var d=Pv(n,"axis","hover",String(i.index));e.dispatch(Hw({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:d}));return}var h=tle(n),m=h==="left-to-right"?1:-1,_=o==="ArrowRight"?1:-1,S=u+_*m;if(!(c==null||S>=c.length||S<0)){var w=Pv(n,"axis","hover",String(S));e.dispatch(Hw({active:!0,activeIndex:S.toString(),activeDataKey:void 0,activeCoordinate:w}))}}}}}});d1.startListening({actionCreator:Wz,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var o="0",s=Pv(n,"axis","hover",String(o));e.dispatch(Hw({activeDataKey:void 0,active:!0,activeIndex:o,activeCoordinate:s}))}}}});var fi=Ti("externalEvent"),jz=Lp(),yb=new Map;jz.startListening({actionCreator:fi,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,o=yb.get(i);o!==void 0&&cancelAnimationFrame(o);var s=requestAnimationFrame(()=>{try{var u=e.getState(),c={activeCoordinate:Xle(u),activeDataKey:lz(u),activeIndex:hp(u),activeLabel:sz(u),activeTooltipIndex:hp(u),isTooltipActive:Qle(u)};n(c,r)}finally{yb.delete(i)}});yb.set(i,s)}}});var Ihe=ne([kf],t=>t.tooltipItemPayloads),Che=ne([Ihe,jp,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(u=>u.settings.dataKey===r);if(i!=null){var{positions:o}=i;if(o!=null){var s=e(o,n);return s}}}),Jz=Ti("touchMove"),Xz=Lp();Xz.startListening({actionCreator:Jz,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=XC(r,r.tooltip.settings.shared);if(i==="axis"){var o=c1(r,f1({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&e.dispatch(J6({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(i==="item"){var s,u=n.touches[0];if(document.elementFromPoint==null)return;var c=document.elementFromPoint(u.clientX,u.clientY);if(!c||!c.getAttribute)return;var d=c.getAttribute(YB),h=(s=c.getAttribute(WB))!==null&&s!==void 0?s:void 0,m=Che(e.getState(),d,h);e.dispatch(W6({activeDataKey:h,activeIndex:d,activeCoordinate:m}))}}}});var Rhe=gB({brush:ghe,cartesianAxis:Hde,chartData:Xue,errorBars:jde,graphicalItems:hde,layout:_te,legend:Pne,options:Kue,polarAxis:Afe,polarOptions:Ahe,referenceElements:vhe,rootProps:She,tooltip:dle,zIndex:Due}),Phe=function(e){return Hee({reducer:Rhe,preloadedState:e,middleware:n=>{var r;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((r="es6")!==null&&r!==void 0?r:"")}).concat([Gz.middleware,Hz.middleware,d1.middleware,jz.middleware,Xz.middleware])},enhancers:n=>{var r=n;return typeof n=="function"&&(r=n()),r.concat(MB({type:"raf"}))},devTools:H_.devToolsEnabled})};function xhe(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=$s(),o=N.useRef(null);if(i)return n;o.current==null&&(o.current=Phe(e));var s=LI;return N.createElement(fhe,{context:s,store:o.current},n)}function Mhe(t){var{layout:e,margin:n}=t,r=sn(),i=$s();return N.useEffect(()=>{i||(r(gte(e)),r(mte(n)))},[r,i,e,n]),null}var Nhe=N.memo(Mhe,phe);function Dhe(t){var e=sn();return N.useEffect(()=>{e(bhe(t))},[e,t]),null}function iL(t){var{zIndex:e,isPanorama:n}=t,r=n?"recharts-zindex-panorama-":"recharts-zindex-",i=kz("".concat(r).concat(e)),o=sn();return N.useLayoutEffect(()=>(o(Mue({zIndex:e,elementId:i,isPanorama:n})),()=>{o(Nue({zIndex:e,isPanorama:n}))}),[o,e,i,n]),N.createElement("g",{tabIndex:-1,id:i})}function oL(t){var{children:e,isPanorama:n}=t,r=Be(Tue);if(!r||r.length===0)return e;var i=r.filter(s=>s<0),o=r.filter(s=>s>0);return N.createElement(N.Fragment,null,i.map(s=>N.createElement(iL,{key:s,zIndex:s,isPanorama:n})),e,o.map(s=>N.createElement(iL,{key:s,zIndex:s,isPanorama:n})))}var Ohe=["children"];function khe(t,e){if(t==null)return{};var n,r,i=Lhe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Lhe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ov(){return Ov=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ov.apply(null,arguments)}var Vhe={width:"100%",height:"100%",display:"block"},Uhe=N.forwardRef((t,e)=>{var n=ZB(),r=e3(),i=u3();if(!Vs(n)||!Vs(r))return null;var{children:o,otherAttributes:s,title:u,desc:c}=t,d,h;return s!=null&&(typeof s.tabIndex=="number"?d=s.tabIndex:d=i?0:void 0,typeof s.role=="string"?h=s.role:h=i?"application":void 0),N.createElement(II,Ov({},s,{title:u,desc:c,role:h,tabIndex:d,width:n,height:r,style:Vhe,ref:e}),o)}),Fhe=t=>{var{children:e}=t,n=Be(U_);if(!n)return null;var{width:r,height:i,y:o,x:s}=n;return N.createElement(II,{width:r,height:i,x:s,y:o},e)},aL=N.forwardRef((t,e)=>{var{children:n}=t,r=khe(t,Ohe),i=$s();return i?N.createElement(Fhe,null,N.createElement(oL,{isPanorama:!0},n)):N.createElement(Uhe,Ov({ref:e},r),N.createElement(oL,{isPanorama:!1},n))});function qhe(){var t=sn(),[e,n]=N.useState(null),r=Be(Ote);return N.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),o=i.width/e.offsetWidth;qn(o)&&o!==r&&t(vte(o))}},[e,t,r]),n}function sL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bhe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sL(Object(n),!0).forEach(function(r){zhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zhe(t,e,n){return(e=Ghe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ghe(t){var e=Hhe(t,"string");return typeof e=="symbol"?e:e+""}function Hhe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function du(){return du=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},du.apply(null,arguments)}var $he=()=>(ace(),null);function kv(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var Khe=N.forwardRef((t,e)=>{var n,r,i=N.useRef(null),[o,s]=N.useState({containerWidth:kv((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:kv((r=t.style)===null||r===void 0?void 0:r.height)}),u=N.useCallback((d,h)=>{s(m=>{var _=Math.round(d),S=Math.round(h);return m.containerWidth===_&&m.containerHeight===S?m:{containerWidth:_,containerHeight:S}})},[]),c=N.useCallback(d=>{if(typeof e=="function"&&e(d),d!=null&&typeof ResizeObserver<"u"){var{width:h,height:m}=d.getBoundingClientRect();u(h,m);var _=w=>{var{width:A,height:C}=w[0].contentRect;u(A,C)},S=new ResizeObserver(_);S.observe(d),i.current=S}},[e,u]);return N.useEffect(()=>()=>{var d=i.current;d!=null&&d.disconnect()},[u]),N.createElement(N.Fragment,null,N.createElement(q_,{width:o.containerWidth,height:o.containerHeight}),N.createElement("div",du({ref:c},t)))}),Yhe=N.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,o]=N.useState({containerWidth:kv(n),containerHeight:kv(r)}),s=N.useCallback((c,d)=>{o(h=>{var m=Math.round(c),_=Math.round(d);return h.containerWidth===m&&h.containerHeight===_?h:{containerWidth:m,containerHeight:_}})},[]),u=N.useCallback(c=>{if(typeof e=="function"&&e(c),c!=null){var{width:d,height:h}=c.getBoundingClientRect();s(d,h)}},[e,s]);return N.createElement(N.Fragment,null,N.createElement(q_,{width:i.containerWidth,height:i.containerHeight}),N.createElement("div",du({ref:u},t)))}),Whe=N.forwardRef((t,e)=>{var{width:n,height:r}=t;return N.createElement(N.Fragment,null,N.createElement(q_,{width:n,height:r}),N.createElement("div",du({ref:e},t)))}),jhe=N.forwardRef((t,e)=>{var{width:n,height:r}=t;return ga(n)||ga(r)?N.createElement(Yhe,du({},t,{ref:e})):N.createElement(Whe,du({},t,{ref:e}))});function Jhe(t){return t===!0?Khe:jhe}var Xhe=N.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:o,onContextMenu:s,onDoubleClick:u,onMouseDown:c,onMouseEnter:d,onMouseLeave:h,onMouseMove:m,onMouseUp:_,onTouchEnd:S,onTouchMove:w,onTouchStart:A,style:C,width:M,responsive:U,dispatchTouchEvents:L=!0}=t,H=N.useRef(null),z=sn(),[G,P]=N.useState(null),[D,x]=N.useState(null),F=qhe(),k=$I(),B=(k==null?void 0:k.width)>0?k.width:M,q=(k==null?void 0:k.height)>0?k.height:i,Se=N.useCallback(le=>{F(le),typeof e=="function"&&e(le),P(le),x(le),le!=null&&(H.current=le)},[F,e,P,x]),De=N.useCallback(le=>{z(zz(le)),z(fi({handler:o,reactEvent:le}))},[z,o]),Q=N.useCallback(le=>{z(jw(le)),z(fi({handler:d,reactEvent:le}))},[z,d]),fe=N.useCallback(le=>{z(j6()),z(fi({handler:h,reactEvent:le}))},[z,h]),Ee=N.useCallback(le=>{z(jw(le)),z(fi({handler:m,reactEvent:le}))},[z,m]),Ce=N.useCallback(()=>{z(Wz())},[z]),$e=N.useCallback(le=>{z(Yz(le.key))},[z]),K=N.useCallback(le=>{z(fi({handler:s,reactEvent:le}))},[z,s]),oe=N.useCallback(le=>{z(fi({handler:u,reactEvent:le}))},[z,u]),me=N.useCallback(le=>{z(fi({handler:c,reactEvent:le}))},[z,c]),ve=N.useCallback(le=>{z(fi({handler:_,reactEvent:le}))},[z,_]),xe=N.useCallback(le=>{z(fi({handler:A,reactEvent:le}))},[z,A]),ke=N.useCallback(le=>{L&&z(Jz(le)),z(fi({handler:w,reactEvent:le}))},[z,L,w]),Oe=N.useCallback(le=>{z(fi({handler:S,reactEvent:le}))},[z,S]),qt=Jhe(U);return N.createElement(mz.Provider,{value:G},N.createElement(Nq.Provider,{value:D},N.createElement(qt,{width:B??(C==null?void 0:C.width),height:q??(C==null?void 0:C.height),className:an("recharts-wrapper",r),style:Bhe({position:"relative",cursor:"default",width:B,height:q},C),onClick:De,onContextMenu:K,onDoubleClick:oe,onFocus:Ce,onKeyDown:$e,onMouseDown:me,onMouseEnter:Q,onMouseLeave:fe,onMouseMove:Ee,onMouseUp:ve,onTouchEnd:Oe,onTouchMove:ke,onTouchStart:xe,ref:Se},N.createElement($he,null),n)))}),Qhe=["width","height","responsive","children","className","style","compact","title","desc"];function Zhe(t,e){if(t==null)return{};var n,r,i=epe(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function epe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var tpe=N.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:o,className:s,style:u,compact:c,title:d,desc:h}=t,m=Zhe(t,Qhe),_=cf(m);return c?N.createElement(N.Fragment,null,N.createElement(q_,{width:n,height:r}),N.createElement(aL,{otherAttributes:_,title:d,desc:h},o)):N.createElement(Xhe,{className:s,style:u,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},N.createElement(aL,{otherAttributes:_,title:d,desc:h,ref:e},N.createElement(Ehe,null,o)))});function npe(t){var e=sn();return N.useEffect(()=>{e(whe(t))},[e,t]),null}var rpe=["layout"];function Jw(){return Jw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jw.apply(null,arguments)}function ipe(t,e){if(t==null)return{};var n,r,i=ope(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ope(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ape={top:5,right:5,bottom:5,left:5},Qz={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:ape,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},spe=N.forwardRef(function(e,n){var r,i=bi(e.categoricalChartProps,Qz),{layout:o}=i,s=ipe(i,rpe),{chartName:u,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:h}=e,m={chartName:u,defaultTooltipEventType:c,validateTooltipEventTypes:d,tooltipPayloadSearcher:h,eventEmitter:void 0};return N.createElement(xhe,{preloadedState:{options:m},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:u},N.createElement(mhe,{chartData:i.data}),N.createElement(Nhe,{layout:o,margin:i.margin}),N.createElement(Dhe,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),N.createElement(npe,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),N.createElement(tpe,Jw({},s,{ref:n})))});function lL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?lL(Object(n),!0).forEach(function(r){lpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):lL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lpe(t,e,n){return(e=upe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function upe(t){var e=cpe(t,"string");return typeof e=="symbol"?e:e+""}function cpe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fpe=["item"],dpe=uL(uL({},Qz),{},{layout:"centric",startAngle:0,endAngle:360}),hpe=N.forwardRef((t,e)=>{var n=bi(t,dpe);return N.createElement(spe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:fpe,tooltipPayloadSearcher:Hue,categoricalChartProps:n,ref:e})});const cL=["#10b981","#3b82f6","#f59e0b","#ef4444","#8b5cf6","#ec4899"],ppe=({transactions:t,userDisplayName:e,lang:n})=>{const r=ta[n],i=N.useMemo(()=>{let d=0,h=0;const m=new Date().getMonth(),_=new Date().getFullYear();return t.forEach(S=>{const w=new Date(S.date);w.getMonth()===m&&w.getFullYear()===_&&(S.type==="income"?d+=S.amount:h+=S.amount)}),{totalBalance:d-h,monthlyIncome:d,monthlyExpense:h}},[t]),o=N.useMemo(()=>{const d={},h=new Date().getMonth();return t.filter(m=>m.type==="expense"&&new Date(m.date).getMonth()===h).forEach(m=>{d[m.category]=(d[m.category]||0)+m.amount}),Object.entries(d).map(([m,_])=>({name:m,value:_}))},[t]),s=i.monthlyIncome>0?Math.min(i.monthlyExpense/i.monthlyIncome*100,100):0,u=s<80?"bg-primary":s<100?"bg-orange-500":"bg-red-500",c=()=>{const d=new Date().getHours();return d<12?r.greetingMorning:d<18?r.greetingAfternoon:r.greetingEvening};return j.jsxs("div",{className:"space-y-6 pb-20",children:[j.jsxs("div",{className:"flex justify-between items-end px-2",children:[j.jsxs("div",{children:[j.jsxs("p",{className:"text-gray-500 dark:text-gray-400 text-sm font-medium",children:[c(),","]}),j.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:e})]}),j.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 dark:bg-gray-700 overflow-hidden",children:j.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:j.jsx(nD,{size:20})})})]}),j.jsxs("div",{className:"bg-gradient-to-br from-gray-900 to-gray-800 dark:from-black dark:to-gray-900 rounded-3xl p-6 shadow-xl text-white relative overflow-hidden",children:[j.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-10",children:j.jsx(nD,{size:120})}),j.jsx("p",{className:"text-gray-400 text-sm mb-1",children:r.totalBalance}),j.jsxs("h2",{className:"text-4xl font-bold mb-6 tracking-tight",children:[i.totalBalance.toLocaleString()," ",j.jsx("span",{className:"text-lg font-normal text-gray-400",children:"MMK"})]}),j.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[j.jsxs("div",{className:"bg-white/10 rounded-xl p-3 backdrop-blur-sm",children:[j.jsxs("div",{className:"flex items-center gap-2 mb-1 text-green-400",children:[j.jsx("div",{className:"p-1 bg-green-400/20 rounded-full",children:j.jsx(tQ,{size:14})}),j.jsx("span",{className:"text-xs font-semibold",children:r.income})]}),j.jsx("p",{className:"font-bold text-lg",children:i.monthlyIncome.toLocaleString()})]}),j.jsxs("div",{className:"bg-white/10 rounded-xl p-3 backdrop-blur-sm",children:[j.jsxs("div",{className:"flex items-center gap-2 mb-1 text-red-400",children:[j.jsx("div",{className:"p-1 bg-red-400/20 rounded-full",children:j.jsx(ZX,{size:14})}),j.jsx("span",{className:"text-xs font-semibold",children:r.expense})]}),j.jsx("p",{className:"font-bold text-lg",children:i.monthlyExpense.toLocaleString()})]})]})]}),j.jsxs("div",{className:"bg-white dark:bg-gray-800 p-5 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700",children:[j.jsxs("div",{className:"flex justify-between items-center mb-2",children:[j.jsxs("h3",{className:"font-semibold text-gray-700 dark:text-gray-200 flex items-center gap-2",children:[j.jsx(AX,{size:16,className:"text-primary"}),r.budgetHealth]}),j.jsxs("span",{className:"text-sm font-bold text-gray-500",children:[s.toFixed(0),"%"]})]}),j.jsx("div",{className:"w-full bg-gray-100 dark:bg-gray-700 rounded-full h-3 overflow-hidden",children:j.jsx("div",{className:`h-full rounded-full transition-all duration-1000 ease-out ${u}`,style:{width:`${s}%`}})}),j.jsx("p",{className:"text-xs text-gray-400 mt-2 text-right",children:"Based on monthly income"})]}),o.length>0&&j.jsxs("div",{className:"bg-white dark:bg-gray-800 p-5 rounded-2xl shadow-sm border border-gray-100 dark:border-gray-700 h-72",children:[j.jsx("h3",{className:"font-semibold text-gray-700 dark:text-gray-200 mb-4",children:"Spending Distribution"}),j.jsx(lne,{width:"100%",height:"100%",children:j.jsxs(hpe,{children:[j.jsx(Vz,{data:o,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:o.map((d,h)=>j.jsx(a0,{fill:cL[h%cL.length]},`cell-${h}`))}),j.jsx(pce,{contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 4px 6px -1px rgb(0 0 0 / 0.1)"}}),j.jsx(l3,{verticalAlign:"bottom",height:36})]})})]})]})},Zz=6048e5,mpe=864e5,fL=Symbol.for("constructDateFrom");function qs(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&fL in t?t[fL](e):t instanceof Date?new t.constructor(e):new Date(e)}function ji(t,e){return qs(e||t,t)}let gpe={};function c0(){return gpe}function mp(t,e){var u,c,d,h;const n=c0(),r=(e==null?void 0:e.weekStartsOn)??((c=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??0,i=ji(t,e==null?void 0:e.in),o=i.getDay(),s=(o<r?7:0)+o-r;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function Lv(t,e){return mp(t,{...e,weekStartsOn:1})}function e5(t,e){const n=ji(t,e==null?void 0:e.in),r=n.getFullYear(),i=qs(n,0);i.setFullYear(r+1,0,4),i.setHours(0,0,0,0);const o=Lv(i),s=qs(n,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const u=Lv(s);return n.getTime()>=o.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function dL(t){const e=ji(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function ype(t,...e){const n=qs.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function hL(t,e){const n=ji(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function vpe(t,e,n){const[r,i]=ype(n==null?void 0:n.in,t,e),o=hL(r),s=hL(i),u=+o-dL(o),c=+s-dL(s);return Math.round((u-c)/mpe)}function _pe(t,e){const n=e5(t,e),r=qs(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Lv(r)}function Epe(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Tpe(t){return!(!Epe(t)&&typeof t!="number"||isNaN(+ji(t)))}function Spe(t,e){const n=ji(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const bpe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},wpe=(t,e,n)=>{let r;const i=bpe[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function vb(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Ape={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Ipe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Cpe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Rpe={date:vb({formats:Ape,defaultWidth:"full"}),time:vb({formats:Ipe,defaultWidth:"full"}),dateTime:vb({formats:Cpe,defaultWidth:"full"})},Ppe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},xpe=(t,e,n,r)=>Ppe[t];function oh(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const s=t.defaultFormattingWidth||t.defaultWidth,u=n!=null&&n.width?String(n.width):s;i=t.formattingValues[u]||t.formattingValues[s]}else{const s=t.defaultWidth,u=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[u]||t.values[s]}const o=t.argumentCallback?t.argumentCallback(e):e;return i[o]}}const Mpe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Npe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Dpe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Ope={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},kpe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Lpe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Vpe=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Upe={ordinalNumber:Vpe,era:oh({values:Mpe,defaultWidth:"wide"}),quarter:oh({values:Npe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:oh({values:Dpe,defaultWidth:"wide"}),day:oh({values:Ope,defaultWidth:"wide"}),dayPeriod:oh({values:kpe,defaultWidth:"wide",formattingValues:Lpe,defaultFormattingWidth:"wide"})};function ah(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],o=e.match(i);if(!o)return null;const s=o[0],u=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(u)?qpe(u,m=>m.test(s)):Fpe(u,m=>m.test(s));let d;d=t.valueCallback?t.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;const h=e.slice(s.length);return{value:d,rest:h}}}function Fpe(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function qpe(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function Bpe(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],o=e.match(t.parsePattern);if(!o)return null;let s=t.valueCallback?t.valueCallback(o[0]):o[0];s=n.valueCallback?n.valueCallback(s):s;const u=e.slice(i.length);return{value:s,rest:u}}}const zpe=/^(\d+)(th|st|nd|rd)?/i,Gpe=/\d+/i,Hpe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},$pe={any:[/^b/i,/^(a|c)/i]},Kpe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Ype={any:[/1/i,/2/i,/3/i,/4/i]},Wpe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},jpe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Jpe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Xpe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Qpe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Zpe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},eme={ordinalNumber:Bpe({matchPattern:zpe,parsePattern:Gpe,valueCallback:t=>parseInt(t,10)}),era:ah({matchPatterns:Hpe,defaultMatchWidth:"wide",parsePatterns:$pe,defaultParseWidth:"any"}),quarter:ah({matchPatterns:Kpe,defaultMatchWidth:"wide",parsePatterns:Ype,defaultParseWidth:"any",valueCallback:t=>t+1}),month:ah({matchPatterns:Wpe,defaultMatchWidth:"wide",parsePatterns:jpe,defaultParseWidth:"any"}),day:ah({matchPatterns:Jpe,defaultMatchWidth:"wide",parsePatterns:Xpe,defaultParseWidth:"any"}),dayPeriod:ah({matchPatterns:Qpe,defaultMatchWidth:"any",parsePatterns:Zpe,defaultParseWidth:"any"})},tme={code:"en-US",formatDistance:wpe,formatLong:Rpe,formatRelative:xpe,localize:Upe,match:eme,options:{weekStartsOn:0,firstWeekContainsDate:1}};function nme(t,e){const n=ji(t,e==null?void 0:e.in);return vpe(n,Spe(n))+1}function rme(t,e){const n=ji(t,e==null?void 0:e.in),r=+Lv(n)-+_pe(n);return Math.round(r/Zz)+1}function t5(t,e){var h,m,_,S;const n=ji(t,e==null?void 0:e.in),r=n.getFullYear(),i=c0(),o=(e==null?void 0:e.firstWeekContainsDate)??((m=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??i.firstWeekContainsDate??((S=(_=i.locale)==null?void 0:_.options)==null?void 0:S.firstWeekContainsDate)??1,s=qs((e==null?void 0:e.in)||t,0);s.setFullYear(r+1,0,o),s.setHours(0,0,0,0);const u=mp(s,e),c=qs((e==null?void 0:e.in)||t,0);c.setFullYear(r,0,o),c.setHours(0,0,0,0);const d=mp(c,e);return+n>=+u?r+1:+n>=+d?r:r-1}function ime(t,e){var u,c,d,h;const n=c0(),r=(e==null?void 0:e.firstWeekContainsDate)??((c=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,i=t5(t,e),o=qs((e==null?void 0:e.in)||t,0);return o.setFullYear(i,0,r),o.setHours(0,0,0,0),mp(o,e)}function ome(t,e){const n=ji(t,e==null?void 0:e.in),r=+mp(n,e)-+ime(n,e);return Math.round(r/Zz)+1}function pt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const ys={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return pt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):pt(n+1,2)},d(t,e){return pt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return pt(t.getHours()%12||12,e.length)},H(t,e){return pt(t.getHours(),e.length)},m(t,e){return pt(t.getMinutes(),e.length)},s(t,e){return pt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return pt(i,e.length)}},Tc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},pL={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return ys.y(t,e)},Y:function(t,e,n,r){const i=t5(t,r),o=i>0?i:1-i;if(e==="YY"){const s=o%100;return pt(s,2)}return e==="Yo"?n.ordinalNumber(o,{unit:"year"}):pt(o,e.length)},R:function(t,e){const n=e5(t);return pt(n,e.length)},u:function(t,e){const n=t.getFullYear();return pt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return pt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return pt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return ys.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return pt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=ome(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):pt(i,e.length)},I:function(t,e,n){const r=rme(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):pt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):ys.d(t,e)},D:function(t,e,n){const r=nme(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):pt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return pt(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),o=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return pt(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return pt(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Tc.noon:r===0?i=Tc.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Tc.evening:r>=12?i=Tc.afternoon:r>=4?i=Tc.morning:i=Tc.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return ys.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):ys.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):pt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):pt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):ys.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):ys.s(t,e)},S:function(t,e){return ys.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return gL(r);case"XXXX":case"XX":return Ol(r);case"XXXXX":case"XXX":default:return Ol(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return gL(r);case"xxxx":case"xx":return Ol(r);case"xxxxx":case"xxx":default:return Ol(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+mL(r,":");case"OOOO":default:return"GMT"+Ol(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+mL(r,":");case"zzzz":default:return"GMT"+Ol(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return pt(r,e.length)},T:function(t,e,n){return pt(+t,e.length)}};function mL(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),o=r%60;return o===0?n+String(i):n+String(i)+e+pt(o,2)}function gL(t,e){return t%60===0?(t>0?"-":"+")+pt(Math.abs(t)/60,2):Ol(t,e)}function Ol(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=pt(Math.trunc(r/60),2),o=pt(r%60,2);return n+i+e+o}const yL=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},n5=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},ame=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return yL(t,e);let o;switch(r){case"P":o=e.dateTime({width:"short"});break;case"PP":o=e.dateTime({width:"medium"});break;case"PPP":o=e.dateTime({width:"long"});break;case"PPPP":default:o=e.dateTime({width:"full"});break}return o.replace("{{date}}",yL(r,e)).replace("{{time}}",n5(i,e))},sme={p:n5,P:ame},lme=/^D+$/,ume=/^Y+$/,cme=["D","DD","YY","YYYY"];function fme(t){return lme.test(t)}function dme(t){return ume.test(t)}function hme(t,e,n){const r=pme(t,e,n);if(console.warn(r),cme.includes(t))throw new RangeError(r)}function pme(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const mme=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,gme=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,yme=/^'([^]*?)'?$/,vme=/''/g,_me=/[a-zA-Z]/;function Eme(t,e,n){var h,m,_,S;const r=c0(),i=r.locale??tme,o=r.firstWeekContainsDate??((m=(h=r.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,s=r.weekStartsOn??((S=(_=r.locale)==null?void 0:_.options)==null?void 0:S.weekStartsOn)??0,u=ji(t,n==null?void 0:n.in);if(!Tpe(u))throw new RangeError("Invalid time value");let c=e.match(gme).map(w=>{const A=w[0];if(A==="p"||A==="P"){const C=sme[A];return C(w,i.formatLong)}return w}).join("").match(mme).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const A=w[0];if(A==="'")return{isToken:!1,value:Tme(w)};if(pL[A])return{isToken:!0,value:w};if(A.match(_me))throw new RangeError("Format string contains an unescaped latin alphabet character `"+A+"`");return{isToken:!1,value:w}});i.localize.preprocessor&&(c=i.localize.preprocessor(u,c));const d={firstWeekContainsDate:o,weekStartsOn:s,locale:i};return c.map(w=>{if(!w.isToken)return w.value;const A=w.value;(dme(A)||fme(A))&&hme(A,e,String(t));const C=pL[A[0]];return C(u,A,i.localize,d)}).join("")}function Tme(t){const e=t.match(yme);return e?e[1].replace(vme,"'"):t}const Sme=({transactions:t,onDelete:e,lang:n})=>{const[r,i]=N.useState("all"),o=ta[n],s=t.filter(d=>r==="all"?!0:d.type===r),u=d=>(Wy[d.type].find(m=>m.id===d.category),d.type==="income"?j.jsx(yX,{className:"text-green-500"}):j.jsx(_X,{className:"text-red-500"})),c=d=>{const m=Wy[d.type].find(_=>_.id===d.category);return m?n==="mm"?m.label.mm:m.label.en:d.category};return j.jsxs("div",{className:"pb-20 space-y-4 h-full",children:[j.jsxs("div",{className:"flex items-center justify-between px-2 pt-2",children:[j.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:o.list}),j.jsx("div",{className:"flex bg-gray-100 dark:bg-gray-800 rounded-lg p-1",children:["all","income","expense"].map(d=>j.jsx("button",{onClick:()=>i(d),className:`px-3 py-1.5 text-xs font-medium rounded-md transition-colors capitalize ${r===d?"bg-white dark:bg-gray-600 shadow-sm text-gray-900 dark:text-white":"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300"}`,children:d==="all"?o.all:d==="income"?o.income:o.expense},d))})]}),j.jsx("div",{className:"space-y-3",children:s.length===0?j.jsxs("div",{className:"text-center py-10 text-gray-400",children:[j.jsx(PX,{className:"mx-auto mb-2 opacity-50",size:40}),j.jsx("p",{children:"No transactions found."})]}):s.map(d=>j.jsxs("div",{className:"group bg-white dark:bg-gray-800 p-4 rounded-xl border border-gray-100 dark:border-gray-700 shadow-sm hover:shadow-md transition-all flex items-center justify-between",children:[j.jsxs("div",{className:"flex items-center gap-4",children:[j.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${d.type==="income"?"bg-green-100 dark:bg-green-900/30":"bg-red-100 dark:bg-red-900/30"}`,children:u(d)}),j.jsxs("div",{children:[j.jsx("p",{className:"font-semibold text-gray-900 dark:text-white line-clamp-1",children:d.description}),j.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 flex gap-2",children:[j.jsx("span",{children:c(d)}),j.jsx("span",{children:""}),j.jsx("span",{children:Eme(new Date(d.date),"MMM d, yyyy")})]})]})]}),j.jsxs("div",{className:"text-right",children:[j.jsxs("p",{className:`font-bold ${d.type==="income"?"text-primary":"text-danger"}`,children:[d.type==="income"?"+":"-",d.amount.toLocaleString()]}),j.jsx("button",{onClick:()=>{window.confirm(o.confirmDelete)&&e(d.id)},className:"text-gray-300 hover:text-red-500 transition-colors mt-1 opacity-0 group-hover:opacity-100",children:j.jsx(XX,{size:16})})]})]},d.id))})]})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let bme,wme;function Ame(){return{geminiUrl:bme,vertexUrl:wme}}function Ime(t,e,n,r){var i,o;if(!(t!=null&&t.baseUrl)){const s=Ame();return e?(i=s.vertexUrl)!==null&&i!==void 0?i:n:(o=s.geminiUrl)!==null&&o!==void 0?o:r}return t.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ma{}function Te(t,e){const n=/\{([^}]+)\}/g;return t.replace(n,(r,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const o=e[i];return o!=null?String(o):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function y(t,e,n){for(let o=0;o<e.length-1;o++){const s=e[o];if(s.endsWith("[]")){const u=s.slice(0,-2);if(!(u in t))if(Array.isArray(n))t[u]=Array.from({length:n.length},()=>({}));else throw new Error(`Value must be a list given an array path ${s}`);if(Array.isArray(t[u])){const c=t[u];if(Array.isArray(n))for(let d=0;d<c.length;d++){const h=c[d];y(h,e.slice(o+1),n[d])}else for(const d of c)y(d,e.slice(o+1),n)}return}else if(s.endsWith("[0]")){const u=s.slice(0,-3);u in t||(t[u]=[{}]);const c=t[u];y(c[0],e.slice(o+1),n);return}(!t[s]||typeof t[s]!="object")&&(t[s]={}),t=t[s]}const r=e[e.length-1],i=t[r];if(i!==void 0){if(!n||typeof n=="object"&&Object.keys(n).length===0||n===i)return;if(typeof i=="object"&&typeof n=="object"&&i!==null&&n!==null)Object.assign(i,n);else throw new Error(`Cannot set value for an existing key. Key: ${r}`)}else r==="_self"&&typeof n=="object"&&n!==null&&!Array.isArray(n)?Object.assign(t,n):t[r]=n}function g(t,e,n=void 0){try{if(e.length===1&&e[0]==="_self")return t;for(let r=0;r<e.length;r++){if(typeof t!="object"||t===null)return n;const i=e[r];if(i.endsWith("[]")){const o=i.slice(0,-2);if(o in t){const s=t[o];return Array.isArray(s)?s.map(u=>g(u,e.slice(r+1),n)):n}else return n}else t=t[i]}return t}catch(r){if(r instanceof TypeError)return n;throw r}}function Cme(t,e){for(const[n,r]of Object.entries(e)){const i=n.split("."),o=r.split("."),s=new Set;let u=-1;for(let c=0;c<i.length;c++)if(i[c]==="*"){u=c;break}if(u!==-1&&o.length>u)for(let c=u;c<o.length;c++){const d=o[c];d!=="*"&&!d.endsWith("[]")&&!d.endsWith("[0]")&&s.add(d)}Xw(t,i,o,0,s)}}function Xw(t,e,n,r,i){if(r>=e.length||typeof t!="object"||t===null)return;const o=e[r];if(o.endsWith("[]")){const s=o.slice(0,-2),u=t;if(s in u&&Array.isArray(u[s]))for(const c of u[s])Xw(c,e,n,r+1,i)}else if(o==="*"){if(typeof t=="object"&&t!==null&&!Array.isArray(t)){const s=t,u=Object.keys(s).filter(d=>!d.startsWith("_")&&!i.has(d)),c={};for(const d of u)c[d]=s[d];for(const[d,h]of Object.entries(c)){const m=[];for(const _ of n.slice(r))_==="*"?m.push(d):m.push(_);y(s,m,h)}for(const d of u)delete s[d]}}else{const s=t;o in s&&Xw(s[o],e,n,r+1,i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function h1(t){if(typeof t!="string")throw new Error("fromImageBytes must be a string");return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Rme(t){const e={},n=g(t,["operationName"]);n!=null&&y(e,["operationName"],n);const r=g(t,["resourceName"]);return r!=null&&y(e,["_url","resourceName"],r),e}function Pme(t){const e={},n=g(t,["name"]);n!=null&&y(e,["name"],n);const r=g(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=g(t,["done"]);i!=null&&y(e,["done"],i);const o=g(t,["error"]);o!=null&&y(e,["error"],o);const s=g(t,["response","generateVideoResponse"]);return s!=null&&y(e,["response"],Mme(s)),e}function xme(t){const e={},n=g(t,["name"]);n!=null&&y(e,["name"],n);const r=g(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=g(t,["done"]);i!=null&&y(e,["done"],i);const o=g(t,["error"]);o!=null&&y(e,["error"],o);const s=g(t,["response"]);return s!=null&&y(e,["response"],Nme(s)),e}function Mme(t){const e={},n=g(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>Dme(s))),y(e,["generatedVideos"],o)}const r=g(t,["raiMediaFilteredCount"]);r!=null&&y(e,["raiMediaFilteredCount"],r);const i=g(t,["raiMediaFilteredReasons"]);return i!=null&&y(e,["raiMediaFilteredReasons"],i),e}function Nme(t){const e={},n=g(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>Ome(s))),y(e,["generatedVideos"],o)}const r=g(t,["raiMediaFilteredCount"]);r!=null&&y(e,["raiMediaFilteredCount"],r);const i=g(t,["raiMediaFilteredReasons"]);return i!=null&&y(e,["raiMediaFilteredReasons"],i),e}function Dme(t){const e={},n=g(t,["video"]);return n!=null&&y(e,["video"],qme(n)),e}function Ome(t){const e={},n=g(t,["_self"]);return n!=null&&y(e,["video"],Bme(n)),e}function kme(t){const e={},n=g(t,["operationName"]);return n!=null&&y(e,["_url","operationName"],n),e}function Lme(t){const e={},n=g(t,["operationName"]);return n!=null&&y(e,["_url","operationName"],n),e}function Vme(t){const e={},n=g(t,["name"]);n!=null&&y(e,["name"],n);const r=g(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=g(t,["done"]);i!=null&&y(e,["done"],i);const o=g(t,["error"]);o!=null&&y(e,["error"],o);const s=g(t,["response"]);return s!=null&&y(e,["response"],Ume(s)),e}function Ume(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["parent"]);r!=null&&y(e,["parent"],r);const i=g(t,["documentName"]);return i!=null&&y(e,["documentName"],i),e}function r5(t){const e={},n=g(t,["name"]);n!=null&&y(e,["name"],n);const r=g(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=g(t,["done"]);i!=null&&y(e,["done"],i);const o=g(t,["error"]);o!=null&&y(e,["error"],o);const s=g(t,["response"]);return s!=null&&y(e,["response"],Fme(s)),e}function Fme(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["parent"]);r!=null&&y(e,["parent"],r);const i=g(t,["documentName"]);return i!=null&&y(e,["documentName"],i),e}function qme(t){const e={},n=g(t,["uri"]);n!=null&&y(e,["uri"],n);const r=g(t,["encodedVideo"]);r!=null&&y(e,["videoBytes"],h1(r));const i=g(t,["encoding"]);return i!=null&&y(e,["mimeType"],i),e}function Bme(t){const e={},n=g(t,["gcsUri"]);n!=null&&y(e,["uri"],n);const r=g(t,["bytesBase64Encoded"]);r!=null&&y(e,["videoBytes"],h1(r));const i=g(t,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var vL;(function(t){t.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",t.OUTCOME_OK="OUTCOME_OK",t.OUTCOME_FAILED="OUTCOME_FAILED",t.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(vL||(vL={}));var _L;(function(t){t.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",t.PYTHON="PYTHON"})(_L||(_L={}));var EL;(function(t){t.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",t.SILENT="SILENT",t.WHEN_IDLE="WHEN_IDLE",t.INTERRUPT="INTERRUPT"})(EL||(EL={}));var qr;(function(t){t.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",t.STRING="STRING",t.NUMBER="NUMBER",t.INTEGER="INTEGER",t.BOOLEAN="BOOLEAN",t.ARRAY="ARRAY",t.OBJECT="OBJECT",t.NULL="NULL"})(qr||(qr={}));var TL;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(TL||(TL={}));var SL;(function(t){t.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",t.SIMPLE_SEARCH="SIMPLE_SEARCH",t.ELASTIC_SEARCH="ELASTIC_SEARCH"})(SL||(SL={}));var bL;(function(t){t.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",t.NO_AUTH="NO_AUTH",t.API_KEY_AUTH="API_KEY_AUTH",t.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",t.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",t.OAUTH="OAUTH",t.OIDC_AUTH="OIDC_AUTH"})(bL||(bL={}));var wL;(function(t){t.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",t.HTTP_IN_QUERY="HTTP_IN_QUERY",t.HTTP_IN_HEADER="HTTP_IN_HEADER",t.HTTP_IN_PATH="HTTP_IN_PATH",t.HTTP_IN_BODY="HTTP_IN_BODY",t.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(wL||(wL={}));var AL;(function(t){t.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",t.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",t.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",t.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(AL||(AL={}));var IL;(function(t){t.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",t.LOW="LOW",t.HIGH="HIGH"})(IL||(IL={}));var CL;(function(t){t.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",t.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",t.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",t.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",t.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",t.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",t.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",t.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",t.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(CL||(CL={}));var RL;(function(t){t.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",t.SEVERITY="SEVERITY",t.PROBABILITY="PROBABILITY"})(RL||(RL={}));var PL;(function(t){t.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE",t.OFF="OFF"})(PL||(PL={}));var xL;(function(t){t.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",t.STOP="STOP",t.MAX_TOKENS="MAX_TOKENS",t.SAFETY="SAFETY",t.RECITATION="RECITATION",t.LANGUAGE="LANGUAGE",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.SPII="SPII",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.IMAGE_SAFETY="IMAGE_SAFETY",t.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",t.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",t.NO_IMAGE="NO_IMAGE"})(xL||(xL={}));var ML;(function(t){t.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",t.NEGLIGIBLE="NEGLIGIBLE",t.LOW="LOW",t.MEDIUM="MEDIUM",t.HIGH="HIGH"})(ML||(ML={}));var NL;(function(t){t.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",t.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",t.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",t.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",t.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(NL||(NL={}));var DL;(function(t){t.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",t.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",t.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",t.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",t.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(DL||(DL={}));var OL;(function(t){t.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",t.SAFETY="SAFETY",t.OTHER="OTHER",t.BLOCKLIST="BLOCKLIST",t.PROHIBITED_CONTENT="PROHIBITED_CONTENT",t.IMAGE_SAFETY="IMAGE_SAFETY",t.MODEL_ARMOR="MODEL_ARMOR",t.JAILBREAK="JAILBREAK"})(OL||(OL={}));var kL;(function(t){t.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",t.ON_DEMAND="ON_DEMAND",t.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(kL||(kL={}));var Vv;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.AUDIO="AUDIO"})(Vv||(Vv={}));var LL;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(LL||(LL={}));var VL;(function(t){t.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",t.TUNING_MODE_FULL="TUNING_MODE_FULL",t.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(VL||(VL={}));var UL;(function(t){t.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",t.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",t.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",t.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",t.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",t.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",t.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(UL||(UL={}));var Qw;(function(t){t.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",t.JOB_STATE_QUEUED="JOB_STATE_QUEUED",t.JOB_STATE_PENDING="JOB_STATE_PENDING",t.JOB_STATE_RUNNING="JOB_STATE_RUNNING",t.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",t.JOB_STATE_FAILED="JOB_STATE_FAILED",t.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",t.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",t.JOB_STATE_PAUSED="JOB_STATE_PAUSED",t.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",t.JOB_STATE_UPDATING="JOB_STATE_UPDATING",t.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Qw||(Qw={}));var FL;(function(t){t.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",t.TUNING_TASK_I2V="TUNING_TASK_I2V",t.TUNING_TASK_T2V="TUNING_TASK_T2V",t.TUNING_TASK_R2V="TUNING_TASK_R2V"})(FL||(FL={}));var qL;(function(t){t.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",t.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",t.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",t.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(qL||(qL={}));var BL;(function(t){t.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",t.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",t.BALANCED="BALANCED",t.PRIORITIZE_COST="PRIORITIZE_COST"})(BL||(BL={}));var zL;(function(t){t.UNSPECIFIED="UNSPECIFIED",t.BLOCKING="BLOCKING",t.NON_BLOCKING="NON_BLOCKING"})(zL||(zL={}));var GL;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.MODE_DYNAMIC="MODE_DYNAMIC"})(GL||(GL={}));var HL;(function(t){t.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",t.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(HL||(HL={}));var $L;(function(t){t.MODE_UNSPECIFIED="MODE_UNSPECIFIED",t.AUTO="AUTO",t.ANY="ANY",t.NONE="NONE",t.VALIDATED="VALIDATED"})($L||($L={}));var KL;(function(t){t.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",t.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",t.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",t.BLOCK_NONE="BLOCK_NONE"})(KL||(KL={}));var YL;(function(t){t.DONT_ALLOW="DONT_ALLOW",t.ALLOW_ADULT="ALLOW_ADULT",t.ALLOW_ALL="ALLOW_ALL"})(YL||(YL={}));var WL;(function(t){t.auto="auto",t.en="en",t.ja="ja",t.ko="ko",t.hi="hi",t.zh="zh",t.pt="pt",t.es="es"})(WL||(WL={}));var jL;(function(t){t.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",t.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",t.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",t.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",t.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(jL||(jL={}));var JL;(function(t){t.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",t.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",t.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",t.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(JL||(JL={}));var XL;(function(t){t.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",t.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",t.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",t.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(XL||(XL={}));var QL;(function(t){t.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",t.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",t.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",t.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",t.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",t.EDIT_MODE_STYLE="EDIT_MODE_STYLE",t.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",t.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(QL||(QL={}));var ZL;(function(t){t.FOREGROUND="FOREGROUND",t.BACKGROUND="BACKGROUND",t.PROMPT="PROMPT",t.SEMANTIC="SEMANTIC",t.INTERACTIVE="INTERACTIVE"})(ZL||(ZL={}));var eV;(function(t){t.ASSET="ASSET",t.STYLE="STYLE"})(eV||(eV={}));var tV;(function(t){t.INSERT="INSERT",t.REMOVE="REMOVE",t.REMOVE_STATIC="REMOVE_STATIC",t.OUTPAINT="OUTPAINT"})(tV||(tV={}));var nV;(function(t){t.OPTIMIZED="OPTIMIZED",t.LOSSLESS="LOSSLESS"})(nV||(nV={}));var rV;(function(t){t.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",t.PREFERENCE_TUNING="PREFERENCE_TUNING"})(rV||(rV={}));var iV;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.STATE_PENDING="STATE_PENDING",t.STATE_ACTIVE="STATE_ACTIVE",t.STATE_FAILED="STATE_FAILED"})(iV||(iV={}));var oV;(function(t){t.STATE_UNSPECIFIED="STATE_UNSPECIFIED",t.PROCESSING="PROCESSING",t.ACTIVE="ACTIVE",t.FAILED="FAILED"})(oV||(oV={}));var aV;(function(t){t.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",t.UPLOADED="UPLOADED",t.GENERATED="GENERATED"})(aV||(aV={}));var sV;(function(t){t.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",t.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",t.RESPONSE_REJECTED="RESPONSE_REJECTED",t.NEED_MORE_INPUT="NEED_MORE_INPUT"})(sV||(sV={}));var lV;(function(t){t.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",t.TEXT="TEXT",t.IMAGE="IMAGE",t.VIDEO="VIDEO",t.AUDIO="AUDIO",t.DOCUMENT="DOCUMENT"})(lV||(lV={}));var uV;(function(t){t.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",t.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",t.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(uV||(uV={}));var cV;(function(t){t.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",t.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",t.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(cV||(cV={}));var fV;(function(t){t.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",t.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",t.NO_INTERRUPTION="NO_INTERRUPTION"})(fV||(fV={}));var dV;(function(t){t.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",t.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",t.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(dV||(dV={}));var hV;(function(t){t.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",t.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",t.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",t.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",t.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",t.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",t.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",t.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",t.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",t.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",t.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",t.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",t.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(hV||(hV={}));var pV;(function(t){t.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",t.QUALITY="QUALITY",t.DIVERSITY="DIVERSITY",t.VOCALIZATION="VOCALIZATION"})(pV||(pV={}));var Mc;(function(t){t.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",t.PLAY="PLAY",t.PAUSE="PAUSE",t.STOP="STOP",t.RESET_CONTEXT="RESET_CONTEXT"})(Mc||(Mc={}));class Zw{constructor(e){const n={};for(const r of e.headers.entries())n[r[0]]=r[1];this.headers=n,this.responseInternal=e}json(){return this.responseInternal.json()}}class sh{get text(){var e,n,r,i,o,s,u,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",h=!1;const m=[];for(const _ of(c=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[S,w]of Object.entries(_))S!=="text"&&S!=="thought"&&S!=="thoughtSignature"&&(w!==null||w!==void 0)&&m.push(S);if(typeof _.text=="string"){if(typeof _.thought=="boolean"&&_.thought)continue;h=!0,d+=_.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),h?d:void 0}get data(){var e,n,r,i,o,s,u,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const h=[];for(const m of(c=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[_,S]of Object.entries(m))_!=="inlineData"&&(S!==null||S!==void 0)&&h.push(_);m.inlineData&&typeof m.inlineData.data=="string"&&(d+=atob(m.inlineData.data))}return h.length>0&&console.warn(`there are non-data parts ${h} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,n,r,i,o,s,u,c;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(c=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(h=>h.functionCall).map(h=>h.functionCall).filter(h=>h!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var e,n,r,i,o,s,u,c,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const h=(c=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(m=>m.executableCode).map(m=>m.executableCode).filter(m=>m!==void 0);if((h==null?void 0:h.length)!==0)return(d=h==null?void 0:h[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,n,r,i,o,s,u,c,d;if(((i=(r=(n=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||n===void 0?void 0:n.content)===null||r===void 0?void 0:r.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const h=(c=(u=(s=(o=this.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(m=>m.codeExecutionResult).map(m=>m.codeExecutionResult).filter(m=>m!==void 0);if((h==null?void 0:h.length)!==0)return(d=h==null?void 0:h[0])===null||d===void 0?void 0:d.output}}class mV{}class gV{}class zme{}class Gme{}class Hme{}class $me{}class yV{}class vV{}class _V{}class Kme{}class Uv{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new Uv;let i;const o=e;return n?i=xme(o):i=Pme(o),Object.assign(r,i),r}}class EV{}class TV{}class SV{}class Yme{}class Wme{}class jme{}class p1{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new p1,o=Vme(e);return Object.assign(r,o),r}}class Jme{}class Xme{}class Qme{}class bV{}class Zme{get text(){var e,n,r;let i="",o=!1;const s=[];for(const u of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[c,d]of Object.entries(u))c!=="text"&&c!=="thought"&&d!==null&&s.push(c);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;o=!0,i+=u.text}}return s.length>0&&console.warn(`there are non-text parts ${s} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?i:void 0}get data(){var e,n,r;let i="";const o=[];for(const s of(r=(n=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||n===void 0?void 0:n.parts)!==null&&r!==void 0?r:[]){for(const[u,c]of Object.entries(s))u!=="inlineData"&&c!==null&&o.push(u);s.inlineData&&typeof s.inlineData.data=="string"&&(i+=atob(s.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class ege{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class m1{_fromAPIResponse({apiResponse:e,_isVertexAI:n}){const r=new m1,o=r5(e);return Object.assign(r,o),r}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function st(t,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(t.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const n=e.split("/",2);return`publishers/${n[0]}/models/${n[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function i5(t,e){const n=st(t,e);return n?n.startsWith("publishers/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}`:n.startsWith("models/")&&t.isVertexAI()?`projects/${t.getProject()}/locations/${t.getLocation()}/publishers/google/${n}`:n:""}function o5(t){return Array.isArray(t)?t.map(e=>Fv(e)):[Fv(t)]}function Fv(t){if(typeof t=="object"&&t!==null)return t;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof t}`)}function a5(t){const e=Fv(t);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function s5(t){const e=Fv(t);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function wV(t){if(t==null)throw new Error("PartUnion is required");if(typeof t=="object")return t;if(typeof t=="string")return{text:t};throw new Error(`Unsupported part type: ${typeof t}`)}function l5(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map(e=>wV(e)):[wV(t)]}function eA(t){return t!=null&&typeof t=="object"&&"parts"in t&&Array.isArray(t.parts)}function AV(t){return t!=null&&typeof t=="object"&&"functionCall"in t}function IV(t){return t!=null&&typeof t=="object"&&"functionResponse"in t}function nr(t){if(t==null)throw new Error("ContentUnion is required");return eA(t)?t:{role:"user",parts:l5(t)}}function g1(t,e){if(!e)return[];if(t.isVertexAI()&&Array.isArray(e))return e.flatMap(n=>{const r=nr(n);return r.parts&&r.parts.length>0&&r.parts[0].text!==void 0?[r.parts[0].text]:[]});if(t.isVertexAI()){const n=nr(e);return n.parts&&n.parts.length>0&&n.parts[0].text!==void 0?[n.parts[0].text]:[]}return Array.isArray(e)?e.map(n=>nr(n)):[nr(e)]}function vi(t){if(t==null||Array.isArray(t)&&t.length===0)throw new Error("contents are required");if(!Array.isArray(t)){if(AV(t)||IV(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[nr(t)]}const e=[],n=[],r=eA(t[0]);for(const i of t){const o=eA(i);if(o!=r)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(o)e.push(i);else{if(AV(i)||IV(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");n.push(i)}}return r||e.push({role:"user",parts:l5(n)}),e}function tge(t,e){t.includes("null")&&(e.nullable=!0);const n=t.filter(r=>r!=="null");if(n.length===1)e.type=Object.values(qr).includes(n[0].toUpperCase())?n[0].toUpperCase():qr.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const r of n)e.anyOf.push({type:Object.values(qr).includes(r.toUpperCase())?r.toUpperCase():qr.TYPE_UNSPECIFIED})}}function Bc(t){const e={},n=["items"],r=["anyOf"],i=["properties"];if(t.type&&t.anyOf)throw new Error("type and anyOf cannot be both populated.");const o=t.anyOf;o!=null&&o.length==2&&(o[0].type==="null"?(e.nullable=!0,t=o[1]):o[1].type==="null"&&(e.nullable=!0,t=o[0])),t.type instanceof Array&&tge(t.type,e);for(const[s,u]of Object.entries(t))if(u!=null)if(s=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(qr).includes(u.toUpperCase())?u.toUpperCase():qr.TYPE_UNSPECIFIED}else if(n.includes(s))e[s]=Bc(u);else if(r.includes(s)){const c=[];for(const d of u){if(d.type=="null"){e.nullable=!0;continue}c.push(Bc(d))}e[s]=c}else if(i.includes(s)){const c={};for(const[d,h]of Object.entries(u))c[d]=Bc(h);e[s]=c}else{if(s==="additionalProperties")continue;e[s]=u}return e}function y1(t){return Bc(t)}function v1(t){if(typeof t=="object")return t;if(typeof t=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error(`Unsupported speechConfig type: ${typeof t}`)}function _1(t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Vf(t){if(t.functionDeclarations)for(const e of t.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Bc(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Bc(e.response));return t}function Uf(t){if(t==null)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const e=[];for(const n of t)e.push(n);return e}function nge(t,e,n,r=1){const i=!e.startsWith(`${n}/`)&&e.split("/").length===r;return t.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${t.getProject()}/${e}`:e.startsWith(`${n}/`)?`projects/${t.getProject()}/locations/${t.getLocation()}/${e}`:i?`projects/${t.getProject()}/locations/${t.getLocation()}/${n}/${e}`:e:i?`${n}/${e}`:e}function Na(t,e){if(typeof e!="string")throw new Error("name must be a string");return nge(t,e,"cachedContents")}function u5(t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Xs(t){return h1(t)}function rge(t){return t!=null&&typeof t=="object"&&"name"in t}function ige(t){return t!=null&&typeof t=="object"&&"video"in t}function oge(t){return t!=null&&typeof t=="object"&&"uri"in t}function c5(t){var e;let n;if(rge(t)&&(n=t.name),!(oge(t)&&(n=t.uri,n===void 0))&&!(ige(t)&&(n=(e=t.video)===null||e===void 0?void 0:e.uri,n===void 0))){if(typeof t=="string"&&(n=t),n===void 0)throw new Error("Could not extract file name from the provided input.");if(n.startsWith("https://")){const i=n.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${n}`);n=i[0]}else n.startsWith("files/")&&(n=n.split("files/")[1]);return n}}function f5(t,e){let n;return t.isVertexAI()?n=e?"publishers/google/models":"models":n=e?"models":"tunedModels",n}function d5(t){for(const e of["models","tunedModels","publisherModels"])if(age(t,e))return t[e];return[]}function age(t,e){return t!==null&&typeof t=="object"&&e in t}function sge(t,e={}){const n=t,r={name:n.name,description:n.description,parametersJsonSchema:n.inputSchema};return n.outputSchema&&(r.responseJsonSchema=n.outputSchema),e.behavior&&(r.behavior=e.behavior),{functionDeclarations:[r]}}function lge(t,e={}){const n=[],r=new Set;for(const i of t){const o=i.name;if(r.has(o))throw new Error(`Duplicate function name ${o} found in MCP tools. Please ensure function names are unique.`);r.add(o);const s=sge(i,e);s.functionDeclarations&&n.push(...s.functionDeclarations)}return{functionDeclarations:n}}function h5(t,e){let n;if(typeof e=="string")if(t.isVertexAI())if(e.startsWith("gs://"))n={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))n={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))n={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(t.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");n={inlinedRequests:e}}else n=e;const r=[n.gcsUri,n.bigqueryUri].filter(Boolean).length,i=[n.inlinedRequests,n.fileName].filter(Boolean).length;if(t.isVertexAI()){if(i>0||r!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(r>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return n}function uge(t){if(typeof t!="string")return t;const e=t;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function p5(t){if(typeof t!="object"||t===null)return{};const e=t,n=e.inlinedResponses;if(typeof n!="object"||n===null)return t;const i=n.inlinedResponses;if(!Array.isArray(i)||i.length===0)return t;let o=!1;for(const s of i){if(typeof s!="object"||s===null)continue;const c=s.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){o=!0;break}}return o&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),t}function Ff(t,e){const n=e;if(!t.isVertexAI()){if(/batches\/[^/]+$/.test(n))return n.split("/").pop();throw new Error(`Invalid batch job name: ${n}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(n))return n.split("/").pop();if(/^\d+$/.test(n))return n;throw new Error(`Invalid batch job name: ${n}.`)}function m5(t){const e=t;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cge(t){const e={},n=g(t,["responsesFile"]);n!=null&&y(e,["fileName"],n);const r=g(t,["inlinedResponses","inlinedResponses"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>Hge(s))),y(e,["inlinedResponses"],o)}const i=g(t,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),y(e,["inlinedEmbedContentResponses"],o)}return e}function fge(t){const e={},n=g(t,["predictionsFormat"]);n!=null&&y(e,["format"],n);const r=g(t,["gcsDestination","outputUriPrefix"]);r!=null&&y(e,["gcsUri"],r);const i=g(t,["bigqueryDestination","outputUri"]);return i!=null&&y(e,["bigqueryUri"],i),e}function dge(t){const e={},n=g(t,["format"]);n!=null&&y(e,["predictionsFormat"],n);const r=g(t,["gcsUri"]);r!=null&&y(e,["gcsDestination","outputUriPrefix"],r);const i=g(t,["bigqueryUri"]);if(i!=null&&y(e,["bigqueryDestination","outputUri"],i),g(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(g(t,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(g(t,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Ty(t){const e={},n=g(t,["name"]);n!=null&&y(e,["name"],n);const r=g(t,["metadata","displayName"]);r!=null&&y(e,["displayName"],r);const i=g(t,["metadata","state"]);i!=null&&y(e,["state"],m5(i));const o=g(t,["metadata","createTime"]);o!=null&&y(e,["createTime"],o);const s=g(t,["metadata","endTime"]);s!=null&&y(e,["endTime"],s);const u=g(t,["metadata","updateTime"]);u!=null&&y(e,["updateTime"],u);const c=g(t,["metadata","model"]);c!=null&&y(e,["model"],c);const d=g(t,["metadata","output"]);return d!=null&&y(e,["dest"],cge(p5(d))),e}function tA(t){const e={},n=g(t,["name"]);n!=null&&y(e,["name"],n);const r=g(t,["displayName"]);r!=null&&y(e,["displayName"],r);const i=g(t,["state"]);i!=null&&y(e,["state"],m5(i));const o=g(t,["error"]);o!=null&&y(e,["error"],o);const s=g(t,["createTime"]);s!=null&&y(e,["createTime"],s);const u=g(t,["startTime"]);u!=null&&y(e,["startTime"],u);const c=g(t,["endTime"]);c!=null&&y(e,["endTime"],c);const d=g(t,["updateTime"]);d!=null&&y(e,["updateTime"],d);const h=g(t,["model"]);h!=null&&y(e,["model"],h);const m=g(t,["inputConfig"]);m!=null&&y(e,["src"],hge(m));const _=g(t,["outputConfig"]);_!=null&&y(e,["dest"],fge(p5(_)));const S=g(t,["completionStats"]);return S!=null&&y(e,["completionStats"],S),e}function hge(t){const e={},n=g(t,["instancesFormat"]);n!=null&&y(e,["format"],n);const r=g(t,["gcsSource","uris"]);r!=null&&y(e,["gcsUri"],r);const i=g(t,["bigquerySource","inputUri"]);return i!=null&&y(e,["bigqueryUri"],i),e}function pge(t,e){const n={};if(g(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(g(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(g(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const r=g(e,["fileName"]);r!=null&&y(n,["fileName"],r);const i=g(e,["inlinedRequests"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>Gge(t,s))),y(n,["requests","requests"],o)}return n}function mge(t){const e={},n=g(t,["format"]);n!=null&&y(e,["instancesFormat"],n);const r=g(t,["gcsUri"]);r!=null&&y(e,["gcsSource","uris"],r);const i=g(t,["bigqueryUri"]);if(i!=null&&y(e,["bigquerySource","inputUri"],i),g(t,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(g(t,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function gge(t){const e={},n=g(t,["data"]);if(n!=null&&y(e,["data"],n),g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function yge(t,e){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],Ff(t,r)),n}function vge(t,e){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],Ff(t,r)),n}function _ge(t){const e={},n=g(t,["content"]);n!=null&&y(e,["content"],n);const r=g(t,["citationMetadata"]);r!=null&&y(e,["citationMetadata"],Ege(r));const i=g(t,["tokenCount"]);i!=null&&y(e,["tokenCount"],i);const o=g(t,["finishReason"]);o!=null&&y(e,["finishReason"],o);const s=g(t,["avgLogprobs"]);s!=null&&y(e,["avgLogprobs"],s);const u=g(t,["groundingMetadata"]);u!=null&&y(e,["groundingMetadata"],u);const c=g(t,["index"]);c!=null&&y(e,["index"],c);const d=g(t,["logprobsResult"]);d!=null&&y(e,["logprobsResult"],d);const h=g(t,["safetyRatings"]);if(h!=null){let _=h;Array.isArray(_)&&(_=_.map(S=>S)),y(e,["safetyRatings"],_)}const m=g(t,["urlContextMetadata"]);return m!=null&&y(e,["urlContextMetadata"],m),e}function Ege(t){const e={},n=g(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),y(e,["citations"],r)}return e}function g5(t){const e={},n=g(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Xge(o))),y(e,["parts"],i)}const r=g(t,["role"]);return r!=null&&y(e,["role"],r),e}function Tge(t,e){const n={},r=g(t,["displayName"]);if(e!==void 0&&r!=null&&y(e,["batch","displayName"],r),g(t,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return n}function Sge(t,e){const n={},r=g(t,["displayName"]);e!==void 0&&r!=null&&y(e,["displayName"],r);const i=g(t,["dest"]);return e!==void 0&&i!=null&&y(e,["outputConfig"],dge(uge(i))),n}function CV(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],st(t,r));const i=g(e,["src"]);i!=null&&y(n,["batch","inputConfig"],pge(t,h5(t,i)));const o=g(e,["config"]);return o!=null&&Tge(o,n),n}function bge(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["model"],st(t,r));const i=g(e,["src"]);i!=null&&y(n,["inputConfig"],mge(h5(t,i)));const o=g(e,["config"]);return o!=null&&Sge(o,n),n}function wge(t,e){const n={},r=g(t,["displayName"]);return e!==void 0&&r!=null&&y(e,["batch","displayName"],r),n}function Age(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],st(t,r));const i=g(e,["src"]);i!=null&&y(n,["batch","inputConfig"],Nge(t,i));const o=g(e,["config"]);return o!=null&&wge(o,n),n}function Ige(t,e){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],Ff(t,r)),n}function Cge(t,e){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],Ff(t,r)),n}function Rge(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["name"]);r!=null&&y(e,["name"],r);const i=g(t,["done"]);i!=null&&y(e,["done"],i);const o=g(t,["error"]);return o!=null&&y(e,["error"],o),e}function Pge(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["name"]);r!=null&&y(e,["name"],r);const i=g(t,["done"]);i!=null&&y(e,["done"],i);const o=g(t,["error"]);return o!=null&&y(e,["error"],o),e}function xge(t,e){const n={},r=g(e,["contents"]);if(r!=null){let o=g1(t,r);Array.isArray(o)&&(o=o.map(s=>s)),y(n,["requests[]","request","content"],o)}const i=g(e,["config"]);return i!=null&&(y(n,["_self"],Mge(i,n)),Cme(n,{"requests[].*":"requests[].request.*"})),n}function Mge(t,e){const n={},r=g(t,["taskType"]);e!==void 0&&r!=null&&y(e,["requests[]","taskType"],r);const i=g(t,["title"]);e!==void 0&&i!=null&&y(e,["requests[]","title"],i);const o=g(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&y(e,["requests[]","outputDimensionality"],o),g(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(g(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Nge(t,e){const n={},r=g(e,["fileName"]);r!=null&&y(n,["file_name"],r);const i=g(e,["inlinedRequests"]);return i!=null&&y(n,["requests"],xge(t,i)),n}function Dge(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["fileUri"]);n!=null&&y(e,["fileUri"],n);const r=g(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function Oge(t){const e={},n=g(t,["id"]);n!=null&&y(e,["id"],n);const r=g(t,["args"]);r!=null&&y(e,["args"],r);const i=g(t,["name"]);if(i!=null&&y(e,["name"],i),g(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function kge(t){const e={},n=g(t,["mode"]);n!=null&&y(e,["mode"],n);const r=g(t,["allowedFunctionNames"]);if(r!=null&&y(e,["allowedFunctionNames"],r),g(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Lge(t,e,n){const r={},i=g(e,["systemInstruction"]);n!==void 0&&i!=null&&y(n,["systemInstruction"],g5(nr(i)));const o=g(e,["temperature"]);o!=null&&y(r,["temperature"],o);const s=g(e,["topP"]);s!=null&&y(r,["topP"],s);const u=g(e,["topK"]);u!=null&&y(r,["topK"],u);const c=g(e,["candidateCount"]);c!=null&&y(r,["candidateCount"],c);const d=g(e,["maxOutputTokens"]);d!=null&&y(r,["maxOutputTokens"],d);const h=g(e,["stopSequences"]);h!=null&&y(r,["stopSequences"],h);const m=g(e,["responseLogprobs"]);m!=null&&y(r,["responseLogprobs"],m);const _=g(e,["logprobs"]);_!=null&&y(r,["logprobs"],_);const S=g(e,["presencePenalty"]);S!=null&&y(r,["presencePenalty"],S);const w=g(e,["frequencyPenalty"]);w!=null&&y(r,["frequencyPenalty"],w);const A=g(e,["seed"]);A!=null&&y(r,["seed"],A);const C=g(e,["responseMimeType"]);C!=null&&y(r,["responseMimeType"],C);const M=g(e,["responseSchema"]);M!=null&&y(r,["responseSchema"],y1(M));const U=g(e,["responseJsonSchema"]);if(U!=null&&y(r,["responseJsonSchema"],U),g(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(g(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const L=g(e,["safetySettings"]);if(n!==void 0&&L!=null){let B=L;Array.isArray(B)&&(B=B.map(q=>Qge(q))),y(n,["safetySettings"],B)}const H=g(e,["tools"]);if(n!==void 0&&H!=null){let B=Uf(H);Array.isArray(B)&&(B=B.map(q=>eye(Vf(q)))),y(n,["tools"],B)}const z=g(e,["toolConfig"]);if(n!==void 0&&z!=null&&y(n,["toolConfig"],Zge(z)),g(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const G=g(e,["cachedContent"]);n!==void 0&&G!=null&&y(n,["cachedContent"],Na(t,G));const P=g(e,["responseModalities"]);P!=null&&y(r,["responseModalities"],P);const D=g(e,["mediaResolution"]);D!=null&&y(r,["mediaResolution"],D);const x=g(e,["speechConfig"]);if(x!=null&&y(r,["speechConfig"],v1(x)),g(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const F=g(e,["thinkingConfig"]);F!=null&&y(r,["thinkingConfig"],F);const k=g(e,["imageConfig"]);return k!=null&&y(r,["imageConfig"],zge(k)),r}function Vge(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>_ge(d))),y(e,["candidates"],c)}const i=g(t,["modelVersion"]);i!=null&&y(e,["modelVersion"],i);const o=g(t,["promptFeedback"]);o!=null&&y(e,["promptFeedback"],o);const s=g(t,["responseId"]);s!=null&&y(e,["responseId"],s);const u=g(t,["usageMetadata"]);return u!=null&&y(e,["usageMetadata"],u),e}function Uge(t,e){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],Ff(t,r)),n}function Fge(t,e){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],Ff(t,r)),n}function qge(t){const e={};if(g(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(t,["enableWidget"]);return n!=null&&y(e,["enableWidget"],n),e}function Bge(t){const e={};if(g(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(t,["timeRangeFilter"]);return n!=null&&y(e,["timeRangeFilter"],n),e}function zge(t){const e={},n=g(t,["aspectRatio"]);n!=null&&y(e,["aspectRatio"],n);const r=g(t,["imageSize"]);if(r!=null&&y(e,["imageSize"],r),g(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(g(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Gge(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["request","model"],st(t,r));const i=g(e,["contents"]);if(i!=null){let u=vi(i);Array.isArray(u)&&(u=u.map(c=>g5(c))),y(n,["request","contents"],u)}const o=g(e,["metadata"]);o!=null&&y(n,["metadata"],o);const s=g(e,["config"]);return s!=null&&y(n,["request","generationConfig"],Lge(t,s,g(n,["request"],{}))),n}function Hge(t){const e={},n=g(t,["response"]);n!=null&&y(e,["response"],Vge(n));const r=g(t,["error"]);return r!=null&&y(e,["error"],r),e}function $ge(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);if(e!==void 0&&i!=null&&y(e,["_query","pageToken"],i),g(t,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return n}function Kge(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);e!==void 0&&i!=null&&y(e,["_query","pageToken"],i);const o=g(t,["filter"]);return e!==void 0&&o!=null&&y(e,["_query","filter"],o),n}function Yge(t){const e={},n=g(t,["config"]);return n!=null&&$ge(n,e),e}function Wge(t){const e={},n=g(t,["config"]);return n!=null&&Kge(n,e),e}function jge(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=g(t,["operations"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>Ty(s))),y(e,["batchJobs"],o)}return e}function Jge(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=g(t,["batchPredictionJobs"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>tA(s))),y(e,["batchJobs"],o)}return e}function Xge(t){const e={},n=g(t,["mediaResolution"]);n!=null&&y(e,["mediaResolution"],n);const r=g(t,["codeExecutionResult"]);r!=null&&y(e,["codeExecutionResult"],r);const i=g(t,["executableCode"]);i!=null&&y(e,["executableCode"],i);const o=g(t,["fileData"]);o!=null&&y(e,["fileData"],Dge(o));const s=g(t,["functionCall"]);s!=null&&y(e,["functionCall"],Oge(s));const u=g(t,["functionResponse"]);u!=null&&y(e,["functionResponse"],u);const c=g(t,["inlineData"]);c!=null&&y(e,["inlineData"],gge(c));const d=g(t,["text"]);d!=null&&y(e,["text"],d);const h=g(t,["thought"]);h!=null&&y(e,["thought"],h);const m=g(t,["thoughtSignature"]);m!=null&&y(e,["thoughtSignature"],m);const _=g(t,["videoMetadata"]);return _!=null&&y(e,["videoMetadata"],_),e}function Qge(t){const e={},n=g(t,["category"]);if(n!=null&&y(e,["category"],n),g(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=g(t,["threshold"]);return r!=null&&y(e,["threshold"],r),e}function Zge(t){const e={},n=g(t,["functionCallingConfig"]);n!=null&&y(e,["functionCallingConfig"],kge(n));const r=g(t,["retrievalConfig"]);return r!=null&&y(e,["retrievalConfig"],r),e}function eye(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),y(e,["functionDeclarations"],h)}if(g(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(t,["googleSearchRetrieval"]);r!=null&&y(e,["googleSearchRetrieval"],r);const i=g(t,["computerUse"]);i!=null&&y(e,["computerUse"],i);const o=g(t,["fileSearch"]);o!=null&&y(e,["fileSearch"],o);const s=g(t,["codeExecution"]);if(s!=null&&y(e,["codeExecution"],s),g(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=g(t,["googleMaps"]);u!=null&&y(e,["googleMaps"],qge(u));const c=g(t,["googleSearch"]);c!=null&&y(e,["googleSearch"],Bge(c));const d=g(t,["urlContext"]);return d!=null&&y(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ba;(function(t){t.PAGED_ITEM_BATCH_JOBS="batchJobs",t.PAGED_ITEM_MODELS="models",t.PAGED_ITEM_TUNING_JOBS="tuningJobs",t.PAGED_ITEM_FILES="files",t.PAGED_ITEM_CACHED_CONTENTS="cachedContents",t.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",t.PAGED_ITEM_DOCUMENTS="documents"})(ba||(ba={}));class bu{constructor(e,n,r,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=n,this.init(e,r,i)}init(e,n,r){var i,o;this.nameInternal=e,this.pageInternal=n[this.nameInternal]||[],this.sdkHttpResponseInternal=n==null?void 0:n.sdkHttpResponse,this.idxInternal=0;let s={config:{}};!r||Object.keys(r).length===0?s={config:{}}:typeof r=="object"?s=Object.assign({},r):s=r,s.config&&(s.config.pageToken=n.nextPageToken),this.paramsInternal=s,this.pageInternalSize=(o=(i=s.config)===null||i===void 0?void 0:i.pageSize)!==null&&o!==void 0?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tye extends Ma{constructor(e){super(),this.apiClient=e,this.create=async n=>(this.apiClient.isVertexAI()&&(n.config=this.formatDestination(n.src,n.config)),this.createInternal(n)),this.createEmbeddings=async n=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(n)},this.list=async(n={})=>new bu(ba.PAGED_ITEM_BATCH_JOBS,r=>this.listInternal(r),await this.listInternal(n),n)}createInlinedGenerateContentRequest(e){const n=CV(this.apiClient,e),r=n._url,i=Te("{model}:batchGenerateContent",r),u=n.batch.inputConfig.requests,c=u.requests,d=[];for(const h of c){const m=Object.assign({},h);if(m.systemInstruction){const _=m.systemInstruction;delete m.systemInstruction;const S=m.request;S.systemInstruction=_,m.request=S}d.push(m)}return u.requests=d,delete n.config,delete n._url,delete n._query,{path:i,body:n}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,n){const r=n?Object.assign({},n):{},i=Date.now().toString();if(r.displayName||(r.displayName=`genaiBatchJob_${i}`),r.dest===void 0){const o=this.getGcsUri(e),s=this.getBigqueryUri(e);if(o)o.endsWith(".jsonl")?r.dest=`${o.slice(0,-6)}/dest`:r.dest=`${o}_dest_${i}`;else if(s)r.dest=`${s}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return r}async createInternal(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=bge(this.apiClient,e);return u=Te("batchPredictionJobs",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>tA(h))}else{const d=CV(this.apiClient,e);return u=Te("{model}:batchGenerateContent",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>Ty(h))}}async createEmbeddingsInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Age(this.apiClient,e);return o=Te("{model}:asyncBatchEmbedContent",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>Ty(c))}}async get(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=Fge(this.apiClient,e);return u=Te("batchPredictionJobs/{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>tA(h))}else{const d=Uge(this.apiClient,e);return u=Te("batches/{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>Ty(h))}}async cancel(e){var n,r,i,o;let s="",u={};if(this.apiClient.isVertexAI()){const c=vge(this.apiClient,e);s=Te("batchPredictionJobs/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const c=yge(this.apiClient,e);s=Te("batches/{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async listInternal(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=Wge(e);return u=Te("batchPredictionJobs",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:h.headers},_})),s.then(h=>{const m=Jge(h),_=new bV;return Object.assign(_,m),_})}else{const d=Yge(e);return u=Te("batches",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:h.headers},_})),s.then(h=>{const m=jge(h),_=new bV;return Object.assign(_,m),_})}}async delete(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=Cge(this.apiClient,e);return u=Te("batchPredictionJobs/{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:h.headers},_})),s.then(h=>Pge(h))}else{const d=Ige(this.apiClient,e);return u=Te("batches/{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:h.headers},_})),s.then(h=>Rge(h))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nye(t){const e={},n=g(t,["data"]);if(n!=null&&y(e,["data"],n),g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function RV(t){const e={},n=g(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>Aye(o))),y(e,["parts"],i)}const r=g(t,["role"]);return r!=null&&y(e,["role"],r),e}function rye(t,e){const n={},r=g(t,["ttl"]);e!==void 0&&r!=null&&y(e,["ttl"],r);const i=g(t,["expireTime"]);e!==void 0&&i!=null&&y(e,["expireTime"],i);const o=g(t,["displayName"]);e!==void 0&&o!=null&&y(e,["displayName"],o);const s=g(t,["contents"]);if(e!==void 0&&s!=null){let h=vi(s);Array.isArray(h)&&(h=h.map(m=>RV(m))),y(e,["contents"],h)}const u=g(t,["systemInstruction"]);e!==void 0&&u!=null&&y(e,["systemInstruction"],RV(nr(u)));const c=g(t,["tools"]);if(e!==void 0&&c!=null){let h=c;Array.isArray(h)&&(h=h.map(m=>Cye(m))),y(e,["tools"],h)}const d=g(t,["toolConfig"]);if(e!==void 0&&d!=null&&y(e,["toolConfig"],Iye(d)),g(t,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return n}function iye(t,e){const n={},r=g(t,["ttl"]);e!==void 0&&r!=null&&y(e,["ttl"],r);const i=g(t,["expireTime"]);e!==void 0&&i!=null&&y(e,["expireTime"],i);const o=g(t,["displayName"]);e!==void 0&&o!=null&&y(e,["displayName"],o);const s=g(t,["contents"]);if(e!==void 0&&s!=null){let m=vi(s);Array.isArray(m)&&(m=m.map(_=>_)),y(e,["contents"],m)}const u=g(t,["systemInstruction"]);e!==void 0&&u!=null&&y(e,["systemInstruction"],nr(u));const c=g(t,["tools"]);if(e!==void 0&&c!=null){let m=c;Array.isArray(m)&&(m=m.map(_=>Rye(_))),y(e,["tools"],m)}const d=g(t,["toolConfig"]);e!==void 0&&d!=null&&y(e,["toolConfig"],d);const h=g(t,["kmsKeyName"]);return e!==void 0&&h!=null&&y(e,["encryption_spec","kmsKeyName"],h),n}function oye(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["model"],i5(t,r));const i=g(e,["config"]);return i!=null&&rye(i,n),n}function aye(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["model"],i5(t,r));const i=g(e,["config"]);return i!=null&&iye(i,n),n}function sye(t,e){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],Na(t,r)),n}function lye(t,e){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],Na(t,r)),n}function uye(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function cye(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function fye(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["fileUri"]);n!=null&&y(e,["fileUri"],n);const r=g(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function dye(t){const e={},n=g(t,["id"]);n!=null&&y(e,["id"],n);const r=g(t,["args"]);r!=null&&y(e,["args"],r);const i=g(t,["name"]);if(i!=null&&y(e,["name"],i),g(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function hye(t){const e={},n=g(t,["mode"]);n!=null&&y(e,["mode"],n);const r=g(t,["allowedFunctionNames"]);if(r!=null&&y(e,["allowedFunctionNames"],r),g(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function pye(t){const e={};if(g(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=g(t,["description"]);n!=null&&y(e,["description"],n);const r=g(t,["name"]);r!=null&&y(e,["name"],r);const i=g(t,["parameters"]);i!=null&&y(e,["parameters"],i);const o=g(t,["parametersJsonSchema"]);o!=null&&y(e,["parametersJsonSchema"],o);const s=g(t,["response"]);s!=null&&y(e,["response"],s);const u=g(t,["responseJsonSchema"]);return u!=null&&y(e,["responseJsonSchema"],u),e}function mye(t,e){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],Na(t,r)),n}function gye(t,e){const n={},r=g(e,["name"]);return r!=null&&y(n,["_url","name"],Na(t,r)),n}function yye(t){const e={};if(g(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(t,["enableWidget"]);return n!=null&&y(e,["enableWidget"],n),e}function vye(t){const e={};if(g(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(t,["timeRangeFilter"]);return n!=null&&y(e,["timeRangeFilter"],n),e}function _ye(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);return e!==void 0&&i!=null&&y(e,["_query","pageToken"],i),n}function Eye(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);return e!==void 0&&i!=null&&y(e,["_query","pageToken"],i),n}function Tye(t){const e={},n=g(t,["config"]);return n!=null&&_ye(n,e),e}function Sye(t){const e={},n=g(t,["config"]);return n!=null&&Eye(n,e),e}function bye(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=g(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),y(e,["cachedContents"],o)}return e}function wye(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=g(t,["cachedContents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),y(e,["cachedContents"],o)}return e}function Aye(t){const e={},n=g(t,["mediaResolution"]);n!=null&&y(e,["mediaResolution"],n);const r=g(t,["codeExecutionResult"]);r!=null&&y(e,["codeExecutionResult"],r);const i=g(t,["executableCode"]);i!=null&&y(e,["executableCode"],i);const o=g(t,["fileData"]);o!=null&&y(e,["fileData"],fye(o));const s=g(t,["functionCall"]);s!=null&&y(e,["functionCall"],dye(s));const u=g(t,["functionResponse"]);u!=null&&y(e,["functionResponse"],u);const c=g(t,["inlineData"]);c!=null&&y(e,["inlineData"],nye(c));const d=g(t,["text"]);d!=null&&y(e,["text"],d);const h=g(t,["thought"]);h!=null&&y(e,["thought"],h);const m=g(t,["thoughtSignature"]);m!=null&&y(e,["thoughtSignature"],m);const _=g(t,["videoMetadata"]);return _!=null&&y(e,["videoMetadata"],_),e}function Iye(t){const e={},n=g(t,["functionCallingConfig"]);n!=null&&y(e,["functionCallingConfig"],hye(n));const r=g(t,["retrievalConfig"]);return r!=null&&y(e,["retrievalConfig"],r),e}function Cye(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),y(e,["functionDeclarations"],h)}if(g(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(t,["googleSearchRetrieval"]);r!=null&&y(e,["googleSearchRetrieval"],r);const i=g(t,["computerUse"]);i!=null&&y(e,["computerUse"],i);const o=g(t,["fileSearch"]);o!=null&&y(e,["fileSearch"],o);const s=g(t,["codeExecution"]);if(s!=null&&y(e,["codeExecution"],s),g(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=g(t,["googleMaps"]);u!=null&&y(e,["googleMaps"],yye(u));const c=g(t,["googleSearch"]);c!=null&&y(e,["googleSearch"],vye(c));const d=g(t,["urlContext"]);return d!=null&&y(e,["urlContext"],d),e}function Rye(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(_=>pye(_))),y(e,["functionDeclarations"],m)}const r=g(t,["retrieval"]);r!=null&&y(e,["retrieval"],r);const i=g(t,["googleSearchRetrieval"]);i!=null&&y(e,["googleSearchRetrieval"],i);const o=g(t,["computerUse"]);if(o!=null&&y(e,["computerUse"],o),g(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=g(t,["codeExecution"]);s!=null&&y(e,["codeExecution"],s);const u=g(t,["enterpriseWebSearch"]);u!=null&&y(e,["enterpriseWebSearch"],u);const c=g(t,["googleMaps"]);c!=null&&y(e,["googleMaps"],c);const d=g(t,["googleSearch"]);d!=null&&y(e,["googleSearch"],d);const h=g(t,["urlContext"]);return h!=null&&y(e,["urlContext"],h),e}function Pye(t,e){const n={},r=g(t,["ttl"]);e!==void 0&&r!=null&&y(e,["ttl"],r);const i=g(t,["expireTime"]);return e!==void 0&&i!=null&&y(e,["expireTime"],i),n}function xye(t,e){const n={},r=g(t,["ttl"]);e!==void 0&&r!=null&&y(e,["ttl"],r);const i=g(t,["expireTime"]);return e!==void 0&&i!=null&&y(e,["expireTime"],i),n}function Mye(t,e){const n={},r=g(e,["name"]);r!=null&&y(n,["_url","name"],Na(t,r));const i=g(e,["config"]);return i!=null&&Pye(i,n),n}function Nye(t,e){const n={},r=g(e,["name"]);r!=null&&y(n,["_url","name"],Na(t,r));const i=g(e,["config"]);return i!=null&&xye(i,n),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Dye extends Ma{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new bu(ba.PAGED_ITEM_CACHED_CONTENTS,r=>this.listInternal(r),await this.listInternal(n),n)}async create(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=aye(this.apiClient,e);return u=Te("cachedContents",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const d=oye(this.apiClient,e);return u=Te("cachedContents",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async get(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=gye(this.apiClient,e);return u=Te("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const d=mye(this.apiClient,e);return u=Te("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async delete(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=lye(this.apiClient,e);return u=Te("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:h.headers},_})),s.then(h=>{const m=cye(h),_=new TV;return Object.assign(_,m),_})}else{const d=sye(this.apiClient,e);return u=Te("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:h.headers},_})),s.then(h=>{const m=uye(h),_=new TV;return Object.assign(_,m),_})}}async update(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=Nye(this.apiClient,e);return u=Te("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>h)}else{const d=Mye(this.apiClient,e);return u=Te("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>h)}}async listInternal(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=Sye(e);return u=Te("cachedContents",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:h.headers},_})),s.then(h=>{const m=wye(h),_=new SV;return Object.assign(_,m),_})}else{const d=Tye(e);return u=Te("cachedContents",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:h.headers},_})),s.then(h=>{const m=bye(h),_=new SV;return Object.assign(_,m),_})}}}function PV(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function xt(t){return this instanceof xt?(this.v=t,this):new xt(t)}function zc(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(S){return function(w){return Promise.resolve(w).then(S,m)}}function u(S,w){r[S]&&(i[S]=function(A){return new Promise(function(C,M){o.push([S,A,C,M])>1||c(S,A)})},w&&(i[S]=w(i[S])))}function c(S,w){try{d(r[S](w))}catch(A){_(o[0][3],A)}}function d(S){S.value instanceof xt?Promise.resolve(S.value.v).then(h,m):_(o[0][2],S)}function h(S){c("next",S)}function m(S){c("throw",S)}function _(S,w){S(w),o.shift(),o.length&&c(o[0][0],o[0][1])}}function Mh(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof PV=="function"?PV(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(u,c){s=t[o](s),i(u,c,s.done,s.value)})}}function i(o,s,u,c){Promise.resolve(c).then(function(d){o({value:d,done:u})},s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Oye(t){var e;if(t.candidates==null||t.candidates.length===0)return!1;const n=(e=t.candidates[0])===null||e===void 0?void 0:e.content;return n===void 0?!1:y5(n)}function y5(t){if(t.parts===void 0||t.parts.length===0)return!1;for(const e of t.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function kye(t){if(t.length!==0){for(const e of t)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function xV(t){if(t===void 0||t.length===0)return[];const e=[],n=t.length;let r=0;for(;r<n;)if(t[r].role==="user")e.push(t[r]),r++;else{const i=[];let o=!0;for(;r<n&&t[r].role==="model";)i.push(t[r]),o&&!y5(t[r])&&(o=!1),r++;o?e.push(...i):e.pop()}return e}class Lye{constructor(e,n){this.modelsModule=e,this.apiClient=n}create(e){return new Vye(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Vye{constructor(e,n,r,i={},o=[]){this.apiClient=e,this.modelsModule=n,this.model=r,this.config=i,this.history=o,this.sendPromise=Promise.resolve(),kye(o)}async sendMessage(e){var n;await this.sendPromise;const r=nr(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});return this.sendPromise=(async()=>{var o,s,u;const c=await i,d=(s=(o=c.candidates)===null||o===void 0?void 0:o[0])===null||s===void 0?void 0:s.content,h=c.automaticFunctionCallingHistory,m=this.getHistory(!0).length;let _=[];h!=null&&(_=(u=h.slice(m))!==null&&u!==void 0?u:[]);const S=d?[d]:[];this.recordHistory(r,S,_)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var n;await this.sendPromise;const r=nr(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(r),config:(n=e.config)!==null&&n!==void 0?n:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const o=await i;return this.processStreamResponse(o,r)}getHistory(e=!1){const n=e?xV(this.history):this.history;return structuredClone(n)}processStreamResponse(e,n){var r,i;return zc(this,arguments,function*(){var s,u,c,d;const h=[];try{for(var m=!0,_=Mh(e),S;S=yield xt(_.next()),s=S.done,!s;m=!0){d=S.value,m=!1;const w=d;if(Oye(w)){const A=(i=(r=w.candidates)===null||r===void 0?void 0:r[0])===null||i===void 0?void 0:i.content;A!==void 0&&h.push(A)}yield yield xt(w)}}catch(w){u={error:w}}finally{try{!m&&!s&&(c=_.return)&&(yield xt(c.call(_)))}finally{if(u)throw u.error}}this.recordHistory(n,h)})}recordHistory(e,n,r){let i=[];n.length>0&&n.every(o=>o.role!==void 0)?i=n:i.push({role:"model",parts:[]}),r&&r.length>0?this.history.push(...xV(r)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class f0 extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,f0.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Uye(t){const e={},n=g(t,["file"]);return n!=null&&y(e,["file"],n),e}function Fye(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function qye(t){const e={},n=g(t,["name"]);return n!=null&&y(e,["_url","file"],c5(n)),e}function Bye(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function zye(t){const e={},n=g(t,["name"]);return n!=null&&y(e,["_url","file"],c5(n)),e}function Gye(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);return e!==void 0&&i!=null&&y(e,["_query","pageToken"],i),n}function Hye(t){const e={},n=g(t,["config"]);return n!=null&&Gye(n,e),e}function $ye(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=g(t,["files"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),y(e,["files"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Kye extends Ma{constructor(e){super(),this.apiClient=e,this.list=async(n={})=>new bu(ba.PAGED_ITEM_FILES,r=>this.listInternal(r),await this.listInternal(n),n)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(n=>n)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Hye(e);return o=Te("files",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const d=$ye(c),h=new Jme;return Object.assign(h,d),h})}}async createInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Uye(e);return o=Te("upload/v1beta/files",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=Fye(c),h=new Xme;return Object.assign(h,d),h})}}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=zye(e);return o=Te("files/{file}",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=qye(e);return o=Te("files/{file}",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const d=Bye(c),h=new Qme;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Sy(t){const e={},n=g(t,["data"]);if(n!=null&&y(e,["data"],n),g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function Yye(t){const e={},n=g(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>uve(o))),y(e,["parts"],i)}const r=g(t,["role"]);return r!=null&&y(e,["role"],r),e}function Wye(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["fileUri"]);n!=null&&y(e,["fileUri"],n);const r=g(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function jye(t){const e={},n=g(t,["id"]);n!=null&&y(e,["id"],n);const r=g(t,["args"]);r!=null&&y(e,["args"],r);const i=g(t,["name"]);if(i!=null&&y(e,["name"],i),g(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Jye(t){const e={};if(g(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=g(t,["description"]);n!=null&&y(e,["description"],n);const r=g(t,["name"]);r!=null&&y(e,["name"],r);const i=g(t,["parameters"]);i!=null&&y(e,["parameters"],i);const o=g(t,["parametersJsonSchema"]);o!=null&&y(e,["parametersJsonSchema"],o);const s=g(t,["response"]);s!=null&&y(e,["response"],s);const u=g(t,["responseJsonSchema"]);return u!=null&&y(e,["responseJsonSchema"],u),e}function Xye(t){const e={},n=g(t,["modelSelectionConfig"]);n!=null&&y(e,["modelConfig"],n);const r=g(t,["responseJsonSchema"]);r!=null&&y(e,["responseJsonSchema"],r);const i=g(t,["audioTimestamp"]);i!=null&&y(e,["audioTimestamp"],i);const o=g(t,["candidateCount"]);o!=null&&y(e,["candidateCount"],o);const s=g(t,["enableAffectiveDialog"]);s!=null&&y(e,["enableAffectiveDialog"],s);const u=g(t,["frequencyPenalty"]);u!=null&&y(e,["frequencyPenalty"],u);const c=g(t,["logprobs"]);c!=null&&y(e,["logprobs"],c);const d=g(t,["maxOutputTokens"]);d!=null&&y(e,["maxOutputTokens"],d);const h=g(t,["mediaResolution"]);h!=null&&y(e,["mediaResolution"],h);const m=g(t,["presencePenalty"]);m!=null&&y(e,["presencePenalty"],m);const _=g(t,["responseLogprobs"]);_!=null&&y(e,["responseLogprobs"],_);const S=g(t,["responseMimeType"]);S!=null&&y(e,["responseMimeType"],S);const w=g(t,["responseModalities"]);w!=null&&y(e,["responseModalities"],w);const A=g(t,["responseSchema"]);A!=null&&y(e,["responseSchema"],A);const C=g(t,["routingConfig"]);C!=null&&y(e,["routingConfig"],C);const M=g(t,["seed"]);M!=null&&y(e,["seed"],M);const U=g(t,["speechConfig"]);U!=null&&y(e,["speechConfig"],v5(U));const L=g(t,["stopSequences"]);L!=null&&y(e,["stopSequences"],L);const H=g(t,["temperature"]);H!=null&&y(e,["temperature"],H);const z=g(t,["thinkingConfig"]);z!=null&&y(e,["thinkingConfig"],z);const G=g(t,["topK"]);G!=null&&y(e,["topK"],G);const P=g(t,["topP"]);if(P!=null&&y(e,["topP"],P),g(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function Qye(t){const e={};if(g(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(t,["enableWidget"]);return n!=null&&y(e,["enableWidget"],n),e}function Zye(t){const e={};if(g(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(t,["timeRangeFilter"]);return n!=null&&y(e,["timeRangeFilter"],n),e}function eve(t,e){const n={},r=g(t,["generationConfig"]);e!==void 0&&r!=null&&y(e,["setup","generationConfig"],r);const i=g(t,["responseModalities"]);e!==void 0&&i!=null&&y(e,["setup","generationConfig","responseModalities"],i);const o=g(t,["temperature"]);e!==void 0&&o!=null&&y(e,["setup","generationConfig","temperature"],o);const s=g(t,["topP"]);e!==void 0&&s!=null&&y(e,["setup","generationConfig","topP"],s);const u=g(t,["topK"]);e!==void 0&&u!=null&&y(e,["setup","generationConfig","topK"],u);const c=g(t,["maxOutputTokens"]);e!==void 0&&c!=null&&y(e,["setup","generationConfig","maxOutputTokens"],c);const d=g(t,["mediaResolution"]);e!==void 0&&d!=null&&y(e,["setup","generationConfig","mediaResolution"],d);const h=g(t,["seed"]);e!==void 0&&h!=null&&y(e,["setup","generationConfig","seed"],h);const m=g(t,["speechConfig"]);e!==void 0&&m!=null&&y(e,["setup","generationConfig","speechConfig"],_1(m));const _=g(t,["thinkingConfig"]);e!==void 0&&_!=null&&y(e,["setup","generationConfig","thinkingConfig"],_);const S=g(t,["enableAffectiveDialog"]);e!==void 0&&S!=null&&y(e,["setup","generationConfig","enableAffectiveDialog"],S);const w=g(t,["systemInstruction"]);e!==void 0&&w!=null&&y(e,["setup","systemInstruction"],Yye(nr(w)));const A=g(t,["tools"]);if(e!==void 0&&A!=null){let G=Uf(A);Array.isArray(G)&&(G=G.map(P=>fve(Vf(P)))),y(e,["setup","tools"],G)}const C=g(t,["sessionResumption"]);e!==void 0&&C!=null&&y(e,["setup","sessionResumption"],cve(C));const M=g(t,["inputAudioTranscription"]);e!==void 0&&M!=null&&y(e,["setup","inputAudioTranscription"],M);const U=g(t,["outputAudioTranscription"]);e!==void 0&&U!=null&&y(e,["setup","outputAudioTranscription"],U);const L=g(t,["realtimeInputConfig"]);e!==void 0&&L!=null&&y(e,["setup","realtimeInputConfig"],L);const H=g(t,["contextWindowCompression"]);e!==void 0&&H!=null&&y(e,["setup","contextWindowCompression"],H);const z=g(t,["proactivity"]);return e!==void 0&&z!=null&&y(e,["setup","proactivity"],z),n}function tve(t,e){const n={},r=g(t,["generationConfig"]);e!==void 0&&r!=null&&y(e,["setup","generationConfig"],Xye(r));const i=g(t,["responseModalities"]);e!==void 0&&i!=null&&y(e,["setup","generationConfig","responseModalities"],i);const o=g(t,["temperature"]);e!==void 0&&o!=null&&y(e,["setup","generationConfig","temperature"],o);const s=g(t,["topP"]);e!==void 0&&s!=null&&y(e,["setup","generationConfig","topP"],s);const u=g(t,["topK"]);e!==void 0&&u!=null&&y(e,["setup","generationConfig","topK"],u);const c=g(t,["maxOutputTokens"]);e!==void 0&&c!=null&&y(e,["setup","generationConfig","maxOutputTokens"],c);const d=g(t,["mediaResolution"]);e!==void 0&&d!=null&&y(e,["setup","generationConfig","mediaResolution"],d);const h=g(t,["seed"]);e!==void 0&&h!=null&&y(e,["setup","generationConfig","seed"],h);const m=g(t,["speechConfig"]);e!==void 0&&m!=null&&y(e,["setup","generationConfig","speechConfig"],v5(_1(m)));const _=g(t,["thinkingConfig"]);e!==void 0&&_!=null&&y(e,["setup","generationConfig","thinkingConfig"],_);const S=g(t,["enableAffectiveDialog"]);e!==void 0&&S!=null&&y(e,["setup","generationConfig","enableAffectiveDialog"],S);const w=g(t,["systemInstruction"]);e!==void 0&&w!=null&&y(e,["setup","systemInstruction"],nr(w));const A=g(t,["tools"]);if(e!==void 0&&A!=null){let G=Uf(A);Array.isArray(G)&&(G=G.map(P=>dve(Vf(P)))),y(e,["setup","tools"],G)}const C=g(t,["sessionResumption"]);e!==void 0&&C!=null&&y(e,["setup","sessionResumption"],C);const M=g(t,["inputAudioTranscription"]);e!==void 0&&M!=null&&y(e,["setup","inputAudioTranscription"],M);const U=g(t,["outputAudioTranscription"]);e!==void 0&&U!=null&&y(e,["setup","outputAudioTranscription"],U);const L=g(t,["realtimeInputConfig"]);e!==void 0&&L!=null&&y(e,["setup","realtimeInputConfig"],L);const H=g(t,["contextWindowCompression"]);e!==void 0&&H!=null&&y(e,["setup","contextWindowCompression"],H);const z=g(t,["proactivity"]);return e!==void 0&&z!=null&&y(e,["setup","proactivity"],z),n}function nve(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["setup","model"],st(t,r));const i=g(e,["config"]);return i!=null&&y(n,["config"],eve(i,n)),n}function rve(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["setup","model"],st(t,r));const i=g(e,["config"]);return i!=null&&y(n,["config"],tve(i,n)),n}function ive(t){const e={},n=g(t,["musicGenerationConfig"]);return n!=null&&y(e,["musicGenerationConfig"],n),e}function ove(t){const e={},n=g(t,["weightedPrompts"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),y(e,["weightedPrompts"],r)}return e}function ave(t){const e={},n=g(t,["media"]);if(n!=null){let d=o5(n);Array.isArray(d)&&(d=d.map(h=>Sy(h))),y(e,["mediaChunks"],d)}const r=g(t,["audio"]);r!=null&&y(e,["audio"],Sy(s5(r)));const i=g(t,["audioStreamEnd"]);i!=null&&y(e,["audioStreamEnd"],i);const o=g(t,["video"]);o!=null&&y(e,["video"],Sy(a5(o)));const s=g(t,["text"]);s!=null&&y(e,["text"],s);const u=g(t,["activityStart"]);u!=null&&y(e,["activityStart"],u);const c=g(t,["activityEnd"]);return c!=null&&y(e,["activityEnd"],c),e}function sve(t){const e={},n=g(t,["media"]);if(n!=null){let d=o5(n);Array.isArray(d)&&(d=d.map(h=>h)),y(e,["mediaChunks"],d)}const r=g(t,["audio"]);r!=null&&y(e,["audio"],s5(r));const i=g(t,["audioStreamEnd"]);i!=null&&y(e,["audioStreamEnd"],i);const o=g(t,["video"]);o!=null&&y(e,["video"],a5(o));const s=g(t,["text"]);s!=null&&y(e,["text"],s);const u=g(t,["activityStart"]);u!=null&&y(e,["activityStart"],u);const c=g(t,["activityEnd"]);return c!=null&&y(e,["activityEnd"],c),e}function lve(t){const e={},n=g(t,["setupComplete"]);n!=null&&y(e,["setupComplete"],n);const r=g(t,["serverContent"]);r!=null&&y(e,["serverContent"],r);const i=g(t,["toolCall"]);i!=null&&y(e,["toolCall"],i);const o=g(t,["toolCallCancellation"]);o!=null&&y(e,["toolCallCancellation"],o);const s=g(t,["usageMetadata"]);s!=null&&y(e,["usageMetadata"],hve(s));const u=g(t,["goAway"]);u!=null&&y(e,["goAway"],u);const c=g(t,["sessionResumptionUpdate"]);return c!=null&&y(e,["sessionResumptionUpdate"],c),e}function uve(t){const e={},n=g(t,["mediaResolution"]);n!=null&&y(e,["mediaResolution"],n);const r=g(t,["codeExecutionResult"]);r!=null&&y(e,["codeExecutionResult"],r);const i=g(t,["executableCode"]);i!=null&&y(e,["executableCode"],i);const o=g(t,["fileData"]);o!=null&&y(e,["fileData"],Wye(o));const s=g(t,["functionCall"]);s!=null&&y(e,["functionCall"],jye(s));const u=g(t,["functionResponse"]);u!=null&&y(e,["functionResponse"],u);const c=g(t,["inlineData"]);c!=null&&y(e,["inlineData"],Sy(c));const d=g(t,["text"]);d!=null&&y(e,["text"],d);const h=g(t,["thought"]);h!=null&&y(e,["thought"],h);const m=g(t,["thoughtSignature"]);m!=null&&y(e,["thoughtSignature"],m);const _=g(t,["videoMetadata"]);return _!=null&&y(e,["videoMetadata"],_),e}function cve(t){const e={},n=g(t,["handle"]);if(n!=null&&y(e,["handle"],n),g(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function v5(t){const e={},n=g(t,["languageCode"]);n!=null&&y(e,["languageCode"],n);const r=g(t,["voiceConfig"]);if(r!=null&&y(e,["voiceConfig"],r),g(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function fve(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),y(e,["functionDeclarations"],h)}if(g(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(t,["googleSearchRetrieval"]);r!=null&&y(e,["googleSearchRetrieval"],r);const i=g(t,["computerUse"]);i!=null&&y(e,["computerUse"],i);const o=g(t,["fileSearch"]);o!=null&&y(e,["fileSearch"],o);const s=g(t,["codeExecution"]);if(s!=null&&y(e,["codeExecution"],s),g(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=g(t,["googleMaps"]);u!=null&&y(e,["googleMaps"],Qye(u));const c=g(t,["googleSearch"]);c!=null&&y(e,["googleSearch"],Zye(c));const d=g(t,["urlContext"]);return d!=null&&y(e,["urlContext"],d),e}function dve(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(_=>Jye(_))),y(e,["functionDeclarations"],m)}const r=g(t,["retrieval"]);r!=null&&y(e,["retrieval"],r);const i=g(t,["googleSearchRetrieval"]);i!=null&&y(e,["googleSearchRetrieval"],i);const o=g(t,["computerUse"]);if(o!=null&&y(e,["computerUse"],o),g(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=g(t,["codeExecution"]);s!=null&&y(e,["codeExecution"],s);const u=g(t,["enterpriseWebSearch"]);u!=null&&y(e,["enterpriseWebSearch"],u);const c=g(t,["googleMaps"]);c!=null&&y(e,["googleMaps"],c);const d=g(t,["googleSearch"]);d!=null&&y(e,["googleSearch"],d);const h=g(t,["urlContext"]);return h!=null&&y(e,["urlContext"],h),e}function hve(t){const e={},n=g(t,["promptTokenCount"]);n!=null&&y(e,["promptTokenCount"],n);const r=g(t,["cachedContentTokenCount"]);r!=null&&y(e,["cachedContentTokenCount"],r);const i=g(t,["candidatesTokenCount"]);i!=null&&y(e,["responseTokenCount"],i);const o=g(t,["toolUsePromptTokenCount"]);o!=null&&y(e,["toolUsePromptTokenCount"],o);const s=g(t,["thoughtsTokenCount"]);s!=null&&y(e,["thoughtsTokenCount"],s);const u=g(t,["totalTokenCount"]);u!=null&&y(e,["totalTokenCount"],u);const c=g(t,["promptTokensDetails"]);if(c!=null){let S=c;Array.isArray(S)&&(S=S.map(w=>w)),y(e,["promptTokensDetails"],S)}const d=g(t,["cacheTokensDetails"]);if(d!=null){let S=d;Array.isArray(S)&&(S=S.map(w=>w)),y(e,["cacheTokensDetails"],S)}const h=g(t,["candidatesTokensDetails"]);if(h!=null){let S=h;Array.isArray(S)&&(S=S.map(w=>w)),y(e,["responseTokensDetails"],S)}const m=g(t,["toolUsePromptTokensDetails"]);if(m!=null){let S=m;Array.isArray(S)&&(S=S.map(w=>w)),y(e,["toolUsePromptTokensDetails"],S)}const _=g(t,["trafficType"]);return _!=null&&y(e,["trafficType"],_),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pve(t){const e={},n=g(t,["data"]);if(n!=null&&y(e,["data"],n),g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function mve(t){const e={},n=g(t,["content"]);n!=null&&y(e,["content"],n);const r=g(t,["citationMetadata"]);r!=null&&y(e,["citationMetadata"],gve(r));const i=g(t,["tokenCount"]);i!=null&&y(e,["tokenCount"],i);const o=g(t,["finishReason"]);o!=null&&y(e,["finishReason"],o);const s=g(t,["avgLogprobs"]);s!=null&&y(e,["avgLogprobs"],s);const u=g(t,["groundingMetadata"]);u!=null&&y(e,["groundingMetadata"],u);const c=g(t,["index"]);c!=null&&y(e,["index"],c);const d=g(t,["logprobsResult"]);d!=null&&y(e,["logprobsResult"],d);const h=g(t,["safetyRatings"]);if(h!=null){let _=h;Array.isArray(_)&&(_=_.map(S=>S)),y(e,["safetyRatings"],_)}const m=g(t,["urlContextMetadata"]);return m!=null&&y(e,["urlContextMetadata"],m),e}function gve(t){const e={},n=g(t,["citationSources"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>i)),y(e,["citations"],r)}return e}function yve(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],st(t,r));const i=g(e,["contents"]);if(i!=null){let o=vi(i);Array.isArray(o)&&(o=o.map(s=>s)),y(n,["contents"],o)}return n}function vve(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["tokensInfo"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),y(e,["tokensInfo"],i)}return e}function _ve(t){const e={},n=g(t,["values"]);n!=null&&y(e,["values"],n);const r=g(t,["statistics"]);return r!=null&&y(e,["statistics"],Eve(r)),e}function Eve(t){const e={},n=g(t,["truncated"]);n!=null&&y(e,["truncated"],n);const r=g(t,["token_count"]);return r!=null&&y(e,["tokenCount"],r),e}function d0(t){const e={},n=g(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>P_e(o))),y(e,["parts"],i)}const r=g(t,["role"]);return r!=null&&y(e,["role"],r),e}function Tve(t){const e={},n=g(t,["controlType"]);n!=null&&y(e,["controlType"],n);const r=g(t,["enableControlImageComputation"]);return r!=null&&y(e,["computeControl"],r),e}function Sve(t){const e={};if(g(t,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(g(t,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(g(t,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function bve(t,e){const n={},r=g(t,["systemInstruction"]);e!==void 0&&r!=null&&y(e,["systemInstruction"],nr(r));const i=g(t,["tools"]);if(e!==void 0&&i!=null){let s=i;Array.isArray(s)&&(s=s.map(u=>b5(u))),y(e,["tools"],s)}const o=g(t,["generationConfig"]);return e!==void 0&&o!=null&&y(e,["generationConfig"],p_e(o)),n}function wve(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],st(t,r));const i=g(e,["contents"]);if(i!=null){let s=vi(i);Array.isArray(s)&&(s=s.map(u=>d0(u))),y(n,["contents"],s)}const o=g(e,["config"]);return o!=null&&Sve(o),n}function Ave(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],st(t,r));const i=g(e,["contents"]);if(i!=null){let s=vi(i);Array.isArray(s)&&(s=s.map(u=>u)),y(n,["contents"],s)}const o=g(e,["config"]);return o!=null&&bve(o,n),n}function Ive(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["totalTokens"]);r!=null&&y(e,["totalTokens"],r);const i=g(t,["cachedContentTokenCount"]);return i!=null&&y(e,["cachedContentTokenCount"],i),e}function Cve(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["totalTokens"]);return r!=null&&y(e,["totalTokens"],r),e}function Rve(t,e){const n={},r=g(e,["model"]);return r!=null&&y(n,["_url","name"],st(t,r)),n}function Pve(t,e){const n={},r=g(e,["model"]);return r!=null&&y(n,["_url","name"],st(t,r)),n}function xve(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function Mve(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}function Nve(t,e){const n={},r=g(t,["outputGcsUri"]);e!==void 0&&r!=null&&y(e,["parameters","storageUri"],r);const i=g(t,["negativePrompt"]);e!==void 0&&i!=null&&y(e,["parameters","negativePrompt"],i);const o=g(t,["numberOfImages"]);e!==void 0&&o!=null&&y(e,["parameters","sampleCount"],o);const s=g(t,["aspectRatio"]);e!==void 0&&s!=null&&y(e,["parameters","aspectRatio"],s);const u=g(t,["guidanceScale"]);e!==void 0&&u!=null&&y(e,["parameters","guidanceScale"],u);const c=g(t,["seed"]);e!==void 0&&c!=null&&y(e,["parameters","seed"],c);const d=g(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&y(e,["parameters","safetySetting"],d);const h=g(t,["personGeneration"]);e!==void 0&&h!=null&&y(e,["parameters","personGeneration"],h);const m=g(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&y(e,["parameters","includeSafetyAttributes"],m);const _=g(t,["includeRaiReason"]);e!==void 0&&_!=null&&y(e,["parameters","includeRaiReason"],_);const S=g(t,["language"]);e!==void 0&&S!=null&&y(e,["parameters","language"],S);const w=g(t,["outputMimeType"]);e!==void 0&&w!=null&&y(e,["parameters","outputOptions","mimeType"],w);const A=g(t,["outputCompressionQuality"]);e!==void 0&&A!=null&&y(e,["parameters","outputOptions","compressionQuality"],A);const C=g(t,["addWatermark"]);e!==void 0&&C!=null&&y(e,["parameters","addWatermark"],C);const M=g(t,["labels"]);e!==void 0&&M!=null&&y(e,["labels"],M);const U=g(t,["editMode"]);e!==void 0&&U!=null&&y(e,["parameters","editMode"],U);const L=g(t,["baseSteps"]);return e!==void 0&&L!=null&&y(e,["parameters","editConfig","baseSteps"],L),n}function Dve(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],st(t,r));const i=g(e,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const o=g(e,["referenceImages"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>k_e(c))),y(n,["instances[0]","referenceImages"],u)}const s=g(e,["config"]);return s!=null&&Nve(s,n),n}function Ove(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>h0(o))),y(e,["generatedImages"],i)}return e}function kve(t,e){const n={},r=g(t,["taskType"]);e!==void 0&&r!=null&&y(e,["requests[]","taskType"],r);const i=g(t,["title"]);e!==void 0&&i!=null&&y(e,["requests[]","title"],i);const o=g(t,["outputDimensionality"]);if(e!==void 0&&o!=null&&y(e,["requests[]","outputDimensionality"],o),g(t,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(g(t,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return n}function Lve(t,e){const n={},r=g(t,["taskType"]);e!==void 0&&r!=null&&y(e,["instances[]","task_type"],r);const i=g(t,["title"]);e!==void 0&&i!=null&&y(e,["instances[]","title"],i);const o=g(t,["outputDimensionality"]);e!==void 0&&o!=null&&y(e,["parameters","outputDimensionality"],o);const s=g(t,["mimeType"]);e!==void 0&&s!=null&&y(e,["instances[]","mimeType"],s);const u=g(t,["autoTruncate"]);return e!==void 0&&u!=null&&y(e,["parameters","autoTruncate"],u),n}function Vve(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],st(t,r));const i=g(e,["contents"]);if(i!=null){let u=g1(t,i);Array.isArray(u)&&(u=u.map(c=>c)),y(n,["requests[]","content"],u)}const o=g(e,["config"]);o!=null&&kve(o,n);const s=g(e,["model"]);return s!==void 0&&y(n,["requests[]","model"],st(t,s)),n}function Uve(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],st(t,r));const i=g(e,["contents"]);if(i!=null){let s=g1(t,i);Array.isArray(s)&&(s=s.map(u=>u)),y(n,["instances[]","content"],s)}const o=g(e,["config"]);return o!=null&&Lve(o,n),n}function Fve(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),y(e,["embeddings"],o)}const i=g(t,["metadata"]);return i!=null&&y(e,["metadata"],i),e}function qve(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["predictions[]","embeddings"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>_ve(s))),y(e,["embeddings"],o)}const i=g(t,["metadata"]);return i!=null&&y(e,["metadata"],i),e}function Bve(t){const e={},n=g(t,["endpoint"]);n!=null&&y(e,["name"],n);const r=g(t,["deployedModelId"]);return r!=null&&y(e,["deployedModelId"],r),e}function zve(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["fileUri"]);n!=null&&y(e,["fileUri"],n);const r=g(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function Gve(t){const e={},n=g(t,["id"]);n!=null&&y(e,["id"],n);const r=g(t,["args"]);r!=null&&y(e,["args"],r);const i=g(t,["name"]);if(i!=null&&y(e,["name"],i),g(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Hve(t){const e={},n=g(t,["mode"]);n!=null&&y(e,["mode"],n);const r=g(t,["allowedFunctionNames"]);if(r!=null&&y(e,["allowedFunctionNames"],r),g(t,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function $ve(t){const e={};if(g(t,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const n=g(t,["description"]);n!=null&&y(e,["description"],n);const r=g(t,["name"]);r!=null&&y(e,["name"],r);const i=g(t,["parameters"]);i!=null&&y(e,["parameters"],i);const o=g(t,["parametersJsonSchema"]);o!=null&&y(e,["parametersJsonSchema"],o);const s=g(t,["response"]);s!=null&&y(e,["response"],s);const u=g(t,["responseJsonSchema"]);return u!=null&&y(e,["responseJsonSchema"],u),e}function Kve(t,e,n){const r={},i=g(e,["systemInstruction"]);n!==void 0&&i!=null&&y(n,["systemInstruction"],d0(nr(i)));const o=g(e,["temperature"]);o!=null&&y(r,["temperature"],o);const s=g(e,["topP"]);s!=null&&y(r,["topP"],s);const u=g(e,["topK"]);u!=null&&y(r,["topK"],u);const c=g(e,["candidateCount"]);c!=null&&y(r,["candidateCount"],c);const d=g(e,["maxOutputTokens"]);d!=null&&y(r,["maxOutputTokens"],d);const h=g(e,["stopSequences"]);h!=null&&y(r,["stopSequences"],h);const m=g(e,["responseLogprobs"]);m!=null&&y(r,["responseLogprobs"],m);const _=g(e,["logprobs"]);_!=null&&y(r,["logprobs"],_);const S=g(e,["presencePenalty"]);S!=null&&y(r,["presencePenalty"],S);const w=g(e,["frequencyPenalty"]);w!=null&&y(r,["frequencyPenalty"],w);const A=g(e,["seed"]);A!=null&&y(r,["seed"],A);const C=g(e,["responseMimeType"]);C!=null&&y(r,["responseMimeType"],C);const M=g(e,["responseSchema"]);M!=null&&y(r,["responseSchema"],y1(M));const U=g(e,["responseJsonSchema"]);if(U!=null&&y(r,["responseJsonSchema"],U),g(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(g(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const L=g(e,["safetySettings"]);if(n!==void 0&&L!=null){let B=L;Array.isArray(B)&&(B=B.map(q=>L_e(q))),y(n,["safetySettings"],B)}const H=g(e,["tools"]);if(n!==void 0&&H!=null){let B=Uf(H);Array.isArray(B)&&(B=B.map(q=>G_e(Vf(q)))),y(n,["tools"],B)}const z=g(e,["toolConfig"]);if(n!==void 0&&z!=null&&y(n,["toolConfig"],z_e(z)),g(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const G=g(e,["cachedContent"]);n!==void 0&&G!=null&&y(n,["cachedContent"],Na(t,G));const P=g(e,["responseModalities"]);P!=null&&y(r,["responseModalities"],P);const D=g(e,["mediaResolution"]);D!=null&&y(r,["mediaResolution"],D);const x=g(e,["speechConfig"]);if(x!=null&&y(r,["speechConfig"],v1(x)),g(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const F=g(e,["thinkingConfig"]);F!=null&&y(r,["thinkingConfig"],F);const k=g(e,["imageConfig"]);return k!=null&&y(r,["imageConfig"],__e(k)),r}function Yve(t,e,n){const r={},i=g(e,["systemInstruction"]);n!==void 0&&i!=null&&y(n,["systemInstruction"],nr(i));const o=g(e,["temperature"]);o!=null&&y(r,["temperature"],o);const s=g(e,["topP"]);s!=null&&y(r,["topP"],s);const u=g(e,["topK"]);u!=null&&y(r,["topK"],u);const c=g(e,["candidateCount"]);c!=null&&y(r,["candidateCount"],c);const d=g(e,["maxOutputTokens"]);d!=null&&y(r,["maxOutputTokens"],d);const h=g(e,["stopSequences"]);h!=null&&y(r,["stopSequences"],h);const m=g(e,["responseLogprobs"]);m!=null&&y(r,["responseLogprobs"],m);const _=g(e,["logprobs"]);_!=null&&y(r,["logprobs"],_);const S=g(e,["presencePenalty"]);S!=null&&y(r,["presencePenalty"],S);const w=g(e,["frequencyPenalty"]);w!=null&&y(r,["frequencyPenalty"],w);const A=g(e,["seed"]);A!=null&&y(r,["seed"],A);const C=g(e,["responseMimeType"]);C!=null&&y(r,["responseMimeType"],C);const M=g(e,["responseSchema"]);M!=null&&y(r,["responseSchema"],y1(M));const U=g(e,["responseJsonSchema"]);U!=null&&y(r,["responseJsonSchema"],U);const L=g(e,["routingConfig"]);L!=null&&y(r,["routingConfig"],L);const H=g(e,["modelSelectionConfig"]);H!=null&&y(r,["modelConfig"],H);const z=g(e,["safetySettings"]);if(n!==void 0&&z!=null){let Q=z;Array.isArray(Q)&&(Q=Q.map(fe=>fe)),y(n,["safetySettings"],Q)}const G=g(e,["tools"]);if(n!==void 0&&G!=null){let Q=Uf(G);Array.isArray(Q)&&(Q=Q.map(fe=>b5(Vf(fe)))),y(n,["tools"],Q)}const P=g(e,["toolConfig"]);n!==void 0&&P!=null&&y(n,["toolConfig"],P);const D=g(e,["labels"]);n!==void 0&&D!=null&&y(n,["labels"],D);const x=g(e,["cachedContent"]);n!==void 0&&x!=null&&y(n,["cachedContent"],Na(t,x));const F=g(e,["responseModalities"]);F!=null&&y(r,["responseModalities"],F);const k=g(e,["mediaResolution"]);k!=null&&y(r,["mediaResolution"],k);const B=g(e,["speechConfig"]);B!=null&&y(r,["speechConfig"],S5(v1(B)));const q=g(e,["audioTimestamp"]);q!=null&&y(r,["audioTimestamp"],q);const Se=g(e,["thinkingConfig"]);Se!=null&&y(r,["thinkingConfig"],Se);const De=g(e,["imageConfig"]);return De!=null&&y(r,["imageConfig"],E_e(De)),r}function MV(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],st(t,r));const i=g(e,["contents"]);if(i!=null){let s=vi(i);Array.isArray(s)&&(s=s.map(u=>d0(u))),y(n,["contents"],s)}const o=g(e,["config"]);return o!=null&&y(n,["generationConfig"],Kve(t,o,n)),n}function NV(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],st(t,r));const i=g(e,["contents"]);if(i!=null){let s=vi(i);Array.isArray(s)&&(s=s.map(u=>u)),y(n,["contents"],s)}const o=g(e,["config"]);return o!=null&&y(n,["generationConfig"],Yve(t,o,n)),n}function DV(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["candidates"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>mve(d))),y(e,["candidates"],c)}const i=g(t,["modelVersion"]);i!=null&&y(e,["modelVersion"],i);const o=g(t,["promptFeedback"]);o!=null&&y(e,["promptFeedback"],o);const s=g(t,["responseId"]);s!=null&&y(e,["responseId"],s);const u=g(t,["usageMetadata"]);return u!=null&&y(e,["usageMetadata"],u),e}function OV(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["candidates"]);if(r!=null){let d=r;Array.isArray(d)&&(d=d.map(h=>h)),y(e,["candidates"],d)}const i=g(t,["createTime"]);i!=null&&y(e,["createTime"],i);const o=g(t,["modelVersion"]);o!=null&&y(e,["modelVersion"],o);const s=g(t,["promptFeedback"]);s!=null&&y(e,["promptFeedback"],s);const u=g(t,["responseId"]);u!=null&&y(e,["responseId"],u);const c=g(t,["usageMetadata"]);return c!=null&&y(e,["usageMetadata"],c),e}function Wve(t,e){const n={};if(g(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(g(t,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=g(t,["numberOfImages"]);e!==void 0&&r!=null&&y(e,["parameters","sampleCount"],r);const i=g(t,["aspectRatio"]);e!==void 0&&i!=null&&y(e,["parameters","aspectRatio"],i);const o=g(t,["guidanceScale"]);if(e!==void 0&&o!=null&&y(e,["parameters","guidanceScale"],o),g(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=g(t,["safetyFilterLevel"]);e!==void 0&&s!=null&&y(e,["parameters","safetySetting"],s);const u=g(t,["personGeneration"]);e!==void 0&&u!=null&&y(e,["parameters","personGeneration"],u);const c=g(t,["includeSafetyAttributes"]);e!==void 0&&c!=null&&y(e,["parameters","includeSafetyAttributes"],c);const d=g(t,["includeRaiReason"]);e!==void 0&&d!=null&&y(e,["parameters","includeRaiReason"],d);const h=g(t,["language"]);e!==void 0&&h!=null&&y(e,["parameters","language"],h);const m=g(t,["outputMimeType"]);e!==void 0&&m!=null&&y(e,["parameters","outputOptions","mimeType"],m);const _=g(t,["outputCompressionQuality"]);if(e!==void 0&&_!=null&&y(e,["parameters","outputOptions","compressionQuality"],_),g(t,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(g(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const S=g(t,["imageSize"]);if(e!==void 0&&S!=null&&y(e,["parameters","sampleImageSize"],S),g(t,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return n}function jve(t,e){const n={},r=g(t,["outputGcsUri"]);e!==void 0&&r!=null&&y(e,["parameters","storageUri"],r);const i=g(t,["negativePrompt"]);e!==void 0&&i!=null&&y(e,["parameters","negativePrompt"],i);const o=g(t,["numberOfImages"]);e!==void 0&&o!=null&&y(e,["parameters","sampleCount"],o);const s=g(t,["aspectRatio"]);e!==void 0&&s!=null&&y(e,["parameters","aspectRatio"],s);const u=g(t,["guidanceScale"]);e!==void 0&&u!=null&&y(e,["parameters","guidanceScale"],u);const c=g(t,["seed"]);e!==void 0&&c!=null&&y(e,["parameters","seed"],c);const d=g(t,["safetyFilterLevel"]);e!==void 0&&d!=null&&y(e,["parameters","safetySetting"],d);const h=g(t,["personGeneration"]);e!==void 0&&h!=null&&y(e,["parameters","personGeneration"],h);const m=g(t,["includeSafetyAttributes"]);e!==void 0&&m!=null&&y(e,["parameters","includeSafetyAttributes"],m);const _=g(t,["includeRaiReason"]);e!==void 0&&_!=null&&y(e,["parameters","includeRaiReason"],_);const S=g(t,["language"]);e!==void 0&&S!=null&&y(e,["parameters","language"],S);const w=g(t,["outputMimeType"]);e!==void 0&&w!=null&&y(e,["parameters","outputOptions","mimeType"],w);const A=g(t,["outputCompressionQuality"]);e!==void 0&&A!=null&&y(e,["parameters","outputOptions","compressionQuality"],A);const C=g(t,["addWatermark"]);e!==void 0&&C!=null&&y(e,["parameters","addWatermark"],C);const M=g(t,["labels"]);e!==void 0&&M!=null&&y(e,["labels"],M);const U=g(t,["imageSize"]);e!==void 0&&U!=null&&y(e,["parameters","sampleImageSize"],U);const L=g(t,["enhancePrompt"]);return e!==void 0&&L!=null&&y(e,["parameters","enhancePrompt"],L),n}function Jve(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],st(t,r));const i=g(e,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const o=g(e,["config"]);return o!=null&&Wve(o,n),n}function Xve(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],st(t,r));const i=g(e,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const o=g(e,["config"]);return o!=null&&jve(o,n),n}function Qve(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>c_e(s))),y(e,["generatedImages"],o)}const i=g(t,["positivePromptSafetyAttributes"]);return i!=null&&y(e,["positivePromptSafetyAttributes"],E5(i)),e}function Zve(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["predictions"]);if(r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>h0(s))),y(e,["generatedImages"],o)}const i=g(t,["positivePromptSafetyAttributes"]);return i!=null&&y(e,["positivePromptSafetyAttributes"],T5(i)),e}function e_e(t,e){const n={},r=g(t,["numberOfVideos"]);if(e!==void 0&&r!=null&&y(e,["parameters","sampleCount"],r),g(t,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(g(t,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=g(t,["durationSeconds"]);if(e!==void 0&&i!=null&&y(e,["parameters","durationSeconds"],i),g(t,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const o=g(t,["aspectRatio"]);e!==void 0&&o!=null&&y(e,["parameters","aspectRatio"],o);const s=g(t,["resolution"]);e!==void 0&&s!=null&&y(e,["parameters","resolution"],s);const u=g(t,["personGeneration"]);if(e!==void 0&&u!=null&&y(e,["parameters","personGeneration"],u),g(t,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=g(t,["negativePrompt"]);e!==void 0&&c!=null&&y(e,["parameters","negativePrompt"],c);const d=g(t,["enhancePrompt"]);if(e!==void 0&&d!=null&&y(e,["parameters","enhancePrompt"],d),g(t,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const h=g(t,["lastFrame"]);e!==void 0&&h!=null&&y(e,["instances[0]","lastFrame"],p0(h));const m=g(t,["referenceImages"]);if(e!==void 0&&m!=null){let _=m;Array.isArray(_)&&(_=_.map(S=>n0e(S))),y(e,["instances[0]","referenceImages"],_)}if(g(t,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(g(t,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return n}function t_e(t,e){const n={},r=g(t,["numberOfVideos"]);e!==void 0&&r!=null&&y(e,["parameters","sampleCount"],r);const i=g(t,["outputGcsUri"]);e!==void 0&&i!=null&&y(e,["parameters","storageUri"],i);const o=g(t,["fps"]);e!==void 0&&o!=null&&y(e,["parameters","fps"],o);const s=g(t,["durationSeconds"]);e!==void 0&&s!=null&&y(e,["parameters","durationSeconds"],s);const u=g(t,["seed"]);e!==void 0&&u!=null&&y(e,["parameters","seed"],u);const c=g(t,["aspectRatio"]);e!==void 0&&c!=null&&y(e,["parameters","aspectRatio"],c);const d=g(t,["resolution"]);e!==void 0&&d!=null&&y(e,["parameters","resolution"],d);const h=g(t,["personGeneration"]);e!==void 0&&h!=null&&y(e,["parameters","personGeneration"],h);const m=g(t,["pubsubTopic"]);e!==void 0&&m!=null&&y(e,["parameters","pubsubTopic"],m);const _=g(t,["negativePrompt"]);e!==void 0&&_!=null&&y(e,["parameters","negativePrompt"],_);const S=g(t,["enhancePrompt"]);e!==void 0&&S!=null&&y(e,["parameters","enhancePrompt"],S);const w=g(t,["generateAudio"]);e!==void 0&&w!=null&&y(e,["parameters","generateAudio"],w);const A=g(t,["lastFrame"]);e!==void 0&&A!=null&&y(e,["instances[0]","lastFrame"],Ji(A));const C=g(t,["referenceImages"]);if(e!==void 0&&C!=null){let L=C;Array.isArray(L)&&(L=L.map(H=>r0e(H))),y(e,["instances[0]","referenceImages"],L)}const M=g(t,["mask"]);e!==void 0&&M!=null&&y(e,["instances[0]","mask"],t0e(M));const U=g(t,["compressionQuality"]);return e!==void 0&&U!=null&&y(e,["parameters","compressionQuality"],U),n}function n_e(t){const e={},n=g(t,["name"]);n!=null&&y(e,["name"],n);const r=g(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=g(t,["done"]);i!=null&&y(e,["done"],i);const o=g(t,["error"]);o!=null&&y(e,["error"],o);const s=g(t,["response","generateVideoResponse"]);return s!=null&&y(e,["response"],a_e(s)),e}function r_e(t){const e={},n=g(t,["name"]);n!=null&&y(e,["name"],n);const r=g(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=g(t,["done"]);i!=null&&y(e,["done"],i);const o=g(t,["error"]);o!=null&&y(e,["error"],o);const s=g(t,["response"]);return s!=null&&y(e,["response"],s_e(s)),e}function i_e(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],st(t,r));const i=g(e,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const o=g(e,["image"]);o!=null&&y(n,["instances[0]","image"],p0(o));const s=g(e,["video"]);s!=null&&y(n,["instances[0]","video"],w5(s));const u=g(e,["source"]);u!=null&&l_e(u,n);const c=g(e,["config"]);return c!=null&&e_e(c,n),n}function o_e(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],st(t,r));const i=g(e,["prompt"]);i!=null&&y(n,["instances[0]","prompt"],i);const o=g(e,["image"]);o!=null&&y(n,["instances[0]","image"],Ji(o));const s=g(e,["video"]);s!=null&&y(n,["instances[0]","video"],A5(s));const u=g(e,["source"]);u!=null&&u_e(u,n);const c=g(e,["config"]);return c!=null&&t_e(c,n),n}function a_e(t){const e={},n=g(t,["generatedSamples"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>d_e(s))),y(e,["generatedVideos"],o)}const r=g(t,["raiMediaFilteredCount"]);r!=null&&y(e,["raiMediaFilteredCount"],r);const i=g(t,["raiMediaFilteredReasons"]);return i!=null&&y(e,["raiMediaFilteredReasons"],i),e}function s_e(t){const e={},n=g(t,["videos"]);if(n!=null){let o=n;Array.isArray(o)&&(o=o.map(s=>h_e(s))),y(e,["generatedVideos"],o)}const r=g(t,["raiMediaFilteredCount"]);r!=null&&y(e,["raiMediaFilteredCount"],r);const i=g(t,["raiMediaFilteredReasons"]);return i!=null&&y(e,["raiMediaFilteredReasons"],i),e}function l_e(t,e){const n={},r=g(t,["prompt"]);e!==void 0&&r!=null&&y(e,["instances[0]","prompt"],r);const i=g(t,["image"]);e!==void 0&&i!=null&&y(e,["instances[0]","image"],p0(i));const o=g(t,["video"]);return e!==void 0&&o!=null&&y(e,["instances[0]","video"],w5(o)),n}function u_e(t,e){const n={},r=g(t,["prompt"]);e!==void 0&&r!=null&&y(e,["instances[0]","prompt"],r);const i=g(t,["image"]);e!==void 0&&i!=null&&y(e,["instances[0]","image"],Ji(i));const o=g(t,["video"]);return e!==void 0&&o!=null&&y(e,["instances[0]","video"],A5(o)),n}function c_e(t){const e={},n=g(t,["_self"]);n!=null&&y(e,["image"],T_e(n));const r=g(t,["raiFilteredReason"]);r!=null&&y(e,["raiFilteredReason"],r);const i=g(t,["_self"]);return i!=null&&y(e,["safetyAttributes"],E5(i)),e}function h0(t){const e={},n=g(t,["_self"]);n!=null&&y(e,["image"],_5(n));const r=g(t,["raiFilteredReason"]);r!=null&&y(e,["raiFilteredReason"],r);const i=g(t,["_self"]);i!=null&&y(e,["safetyAttributes"],T5(i));const o=g(t,["prompt"]);return o!=null&&y(e,["enhancedPrompt"],o),e}function f_e(t){const e={},n=g(t,["_self"]);n!=null&&y(e,["mask"],_5(n));const r=g(t,["labels"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),y(e,["labels"],i)}return e}function d_e(t){const e={},n=g(t,["video"]);return n!=null&&y(e,["video"],Z_e(n)),e}function h_e(t){const e={},n=g(t,["_self"]);return n!=null&&y(e,["video"],e0e(n)),e}function p_e(t){const e={},n=g(t,["modelSelectionConfig"]);n!=null&&y(e,["modelConfig"],n);const r=g(t,["responseJsonSchema"]);r!=null&&y(e,["responseJsonSchema"],r);const i=g(t,["audioTimestamp"]);i!=null&&y(e,["audioTimestamp"],i);const o=g(t,["candidateCount"]);o!=null&&y(e,["candidateCount"],o);const s=g(t,["enableAffectiveDialog"]);s!=null&&y(e,["enableAffectiveDialog"],s);const u=g(t,["frequencyPenalty"]);u!=null&&y(e,["frequencyPenalty"],u);const c=g(t,["logprobs"]);c!=null&&y(e,["logprobs"],c);const d=g(t,["maxOutputTokens"]);d!=null&&y(e,["maxOutputTokens"],d);const h=g(t,["mediaResolution"]);h!=null&&y(e,["mediaResolution"],h);const m=g(t,["presencePenalty"]);m!=null&&y(e,["presencePenalty"],m);const _=g(t,["responseLogprobs"]);_!=null&&y(e,["responseLogprobs"],_);const S=g(t,["responseMimeType"]);S!=null&&y(e,["responseMimeType"],S);const w=g(t,["responseModalities"]);w!=null&&y(e,["responseModalities"],w);const A=g(t,["responseSchema"]);A!=null&&y(e,["responseSchema"],A);const C=g(t,["routingConfig"]);C!=null&&y(e,["routingConfig"],C);const M=g(t,["seed"]);M!=null&&y(e,["seed"],M);const U=g(t,["speechConfig"]);U!=null&&y(e,["speechConfig"],S5(U));const L=g(t,["stopSequences"]);L!=null&&y(e,["stopSequences"],L);const H=g(t,["temperature"]);H!=null&&y(e,["temperature"],H);const z=g(t,["thinkingConfig"]);z!=null&&y(e,["thinkingConfig"],z);const G=g(t,["topK"]);G!=null&&y(e,["topK"],G);const P=g(t,["topP"]);if(P!=null&&y(e,["topP"],P),g(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function m_e(t,e){const n={},r=g(e,["model"]);return r!=null&&y(n,["_url","name"],st(t,r)),n}function g_e(t,e){const n={},r=g(e,["model"]);return r!=null&&y(n,["_url","name"],st(t,r)),n}function y_e(t){const e={};if(g(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(t,["enableWidget"]);return n!=null&&y(e,["enableWidget"],n),e}function v_e(t){const e={};if(g(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(t,["timeRangeFilter"]);return n!=null&&y(e,["timeRangeFilter"],n),e}function __e(t){const e={},n=g(t,["aspectRatio"]);n!=null&&y(e,["aspectRatio"],n);const r=g(t,["imageSize"]);if(r!=null&&y(e,["imageSize"],r),g(t,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(g(t,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function E_e(t){const e={},n=g(t,["aspectRatio"]);n!=null&&y(e,["aspectRatio"],n);const r=g(t,["imageSize"]);r!=null&&y(e,["imageSize"],r);const i=g(t,["outputMimeType"]);i!=null&&y(e,["imageOutputOptions","mimeType"],i);const o=g(t,["outputCompressionQuality"]);return o!=null&&y(e,["imageOutputOptions","compressionQuality"],o),e}function T_e(t){const e={},n=g(t,["bytesBase64Encoded"]);n!=null&&y(e,["imageBytes"],Xs(n));const r=g(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function _5(t){const e={},n=g(t,["gcsUri"]);n!=null&&y(e,["gcsUri"],n);const r=g(t,["bytesBase64Encoded"]);r!=null&&y(e,["imageBytes"],Xs(r));const i=g(t,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function p0(t){const e={};if(g(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const n=g(t,["imageBytes"]);n!=null&&y(e,["bytesBase64Encoded"],Xs(n));const r=g(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function Ji(t){const e={},n=g(t,["gcsUri"]);n!=null&&y(e,["gcsUri"],n);const r=g(t,["imageBytes"]);r!=null&&y(e,["bytesBase64Encoded"],Xs(r));const i=g(t,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function S_e(t,e,n){const r={},i=g(e,["pageSize"]);n!==void 0&&i!=null&&y(n,["_query","pageSize"],i);const o=g(e,["pageToken"]);n!==void 0&&o!=null&&y(n,["_query","pageToken"],o);const s=g(e,["filter"]);n!==void 0&&s!=null&&y(n,["_query","filter"],s);const u=g(e,["queryBase"]);return n!==void 0&&u!=null&&y(n,["_url","models_url"],f5(t,u)),r}function b_e(t,e,n){const r={},i=g(e,["pageSize"]);n!==void 0&&i!=null&&y(n,["_query","pageSize"],i);const o=g(e,["pageToken"]);n!==void 0&&o!=null&&y(n,["_query","pageToken"],o);const s=g(e,["filter"]);n!==void 0&&s!=null&&y(n,["_query","filter"],s);const u=g(e,["queryBase"]);return n!==void 0&&u!=null&&y(n,["_url","models_url"],f5(t,u)),r}function w_e(t,e){const n={},r=g(e,["config"]);return r!=null&&S_e(t,r,n),n}function A_e(t,e){const n={},r=g(e,["config"]);return r!=null&&b_e(t,r,n),n}function I_e(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=g(t,["_self"]);if(i!=null){let o=d5(i);Array.isArray(o)&&(o=o.map(s=>nA(s))),y(e,["models"],o)}return e}function C_e(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=g(t,["_self"]);if(i!=null){let o=d5(i);Array.isArray(o)&&(o=o.map(s=>rA(s))),y(e,["models"],o)}return e}function R_e(t){const e={},n=g(t,["maskMode"]);n!=null&&y(e,["maskMode"],n);const r=g(t,["segmentationClasses"]);r!=null&&y(e,["maskClasses"],r);const i=g(t,["maskDilation"]);return i!=null&&y(e,["dilation"],i),e}function nA(t){const e={},n=g(t,["name"]);n!=null&&y(e,["name"],n);const r=g(t,["displayName"]);r!=null&&y(e,["displayName"],r);const i=g(t,["description"]);i!=null&&y(e,["description"],i);const o=g(t,["version"]);o!=null&&y(e,["version"],o);const s=g(t,["_self"]);s!=null&&y(e,["tunedModelInfo"],H_e(s));const u=g(t,["inputTokenLimit"]);u!=null&&y(e,["inputTokenLimit"],u);const c=g(t,["outputTokenLimit"]);c!=null&&y(e,["outputTokenLimit"],c);const d=g(t,["supportedGenerationMethods"]);d!=null&&y(e,["supportedActions"],d);const h=g(t,["temperature"]);h!=null&&y(e,["temperature"],h);const m=g(t,["maxTemperature"]);m!=null&&y(e,["maxTemperature"],m);const _=g(t,["topP"]);_!=null&&y(e,["topP"],_);const S=g(t,["topK"]);S!=null&&y(e,["topK"],S);const w=g(t,["thinking"]);return w!=null&&y(e,["thinking"],w),e}function rA(t){const e={},n=g(t,["name"]);n!=null&&y(e,["name"],n);const r=g(t,["displayName"]);r!=null&&y(e,["displayName"],r);const i=g(t,["description"]);i!=null&&y(e,["description"],i);const o=g(t,["versionId"]);o!=null&&y(e,["version"],o);const s=g(t,["deployedModels"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(_=>Bve(_))),y(e,["endpoints"],m)}const u=g(t,["labels"]);u!=null&&y(e,["labels"],u);const c=g(t,["_self"]);c!=null&&y(e,["tunedModelInfo"],$_e(c));const d=g(t,["defaultCheckpointId"]);d!=null&&y(e,["defaultCheckpointId"],d);const h=g(t,["checkpoints"]);if(h!=null){let m=h;Array.isArray(m)&&(m=m.map(_=>_)),y(e,["checkpoints"],m)}return e}function P_e(t){const e={},n=g(t,["mediaResolution"]);n!=null&&y(e,["mediaResolution"],n);const r=g(t,["codeExecutionResult"]);r!=null&&y(e,["codeExecutionResult"],r);const i=g(t,["executableCode"]);i!=null&&y(e,["executableCode"],i);const o=g(t,["fileData"]);o!=null&&y(e,["fileData"],zve(o));const s=g(t,["functionCall"]);s!=null&&y(e,["functionCall"],Gve(s));const u=g(t,["functionResponse"]);u!=null&&y(e,["functionResponse"],u);const c=g(t,["inlineData"]);c!=null&&y(e,["inlineData"],pve(c));const d=g(t,["text"]);d!=null&&y(e,["text"],d);const h=g(t,["thought"]);h!=null&&y(e,["thought"],h);const m=g(t,["thoughtSignature"]);m!=null&&y(e,["thoughtSignature"],m);const _=g(t,["videoMetadata"]);return _!=null&&y(e,["videoMetadata"],_),e}function x_e(t){const e={},n=g(t,["productImage"]);return n!=null&&y(e,["image"],Ji(n)),e}function M_e(t,e){const n={},r=g(t,["numberOfImages"]);e!==void 0&&r!=null&&y(e,["parameters","sampleCount"],r);const i=g(t,["baseSteps"]);e!==void 0&&i!=null&&y(e,["parameters","baseSteps"],i);const o=g(t,["outputGcsUri"]);e!==void 0&&o!=null&&y(e,["parameters","storageUri"],o);const s=g(t,["seed"]);e!==void 0&&s!=null&&y(e,["parameters","seed"],s);const u=g(t,["safetyFilterLevel"]);e!==void 0&&u!=null&&y(e,["parameters","safetySetting"],u);const c=g(t,["personGeneration"]);e!==void 0&&c!=null&&y(e,["parameters","personGeneration"],c);const d=g(t,["addWatermark"]);e!==void 0&&d!=null&&y(e,["parameters","addWatermark"],d);const h=g(t,["outputMimeType"]);e!==void 0&&h!=null&&y(e,["parameters","outputOptions","mimeType"],h);const m=g(t,["outputCompressionQuality"]);e!==void 0&&m!=null&&y(e,["parameters","outputOptions","compressionQuality"],m);const _=g(t,["enhancePrompt"]);e!==void 0&&_!=null&&y(e,["parameters","enhancePrompt"],_);const S=g(t,["labels"]);return e!==void 0&&S!=null&&y(e,["labels"],S),n}function N_e(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],st(t,r));const i=g(e,["source"]);i!=null&&O_e(i,n);const o=g(e,["config"]);return o!=null&&M_e(o,n),n}function D_e(t){const e={},n=g(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>h0(i))),y(e,["generatedImages"],r)}return e}function O_e(t,e){const n={},r=g(t,["prompt"]);e!==void 0&&r!=null&&y(e,["instances[0]","prompt"],r);const i=g(t,["personImage"]);e!==void 0&&i!=null&&y(e,["instances[0]","personImage","image"],Ji(i));const o=g(t,["productImages"]);if(e!==void 0&&o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>x_e(u))),y(e,["instances[0]","productImages"],s)}return n}function k_e(t){const e={},n=g(t,["referenceImage"]);n!=null&&y(e,["referenceImage"],Ji(n));const r=g(t,["referenceId"]);r!=null&&y(e,["referenceId"],r);const i=g(t,["referenceType"]);i!=null&&y(e,["referenceType"],i);const o=g(t,["maskImageConfig"]);o!=null&&y(e,["maskImageConfig"],R_e(o));const s=g(t,["controlImageConfig"]);s!=null&&y(e,["controlImageConfig"],Tve(s));const u=g(t,["styleImageConfig"]);u!=null&&y(e,["styleImageConfig"],u);const c=g(t,["subjectImageConfig"]);return c!=null&&y(e,["subjectImageConfig"],c),e}function E5(t){const e={},n=g(t,["safetyAttributes","categories"]);n!=null&&y(e,["categories"],n);const r=g(t,["safetyAttributes","scores"]);r!=null&&y(e,["scores"],r);const i=g(t,["contentType"]);return i!=null&&y(e,["contentType"],i),e}function T5(t){const e={},n=g(t,["safetyAttributes","categories"]);n!=null&&y(e,["categories"],n);const r=g(t,["safetyAttributes","scores"]);r!=null&&y(e,["scores"],r);const i=g(t,["contentType"]);return i!=null&&y(e,["contentType"],i),e}function L_e(t){const e={},n=g(t,["category"]);if(n!=null&&y(e,["category"],n),g(t,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const r=g(t,["threshold"]);return r!=null&&y(e,["threshold"],r),e}function V_e(t){const e={},n=g(t,["image"]);return n!=null&&y(e,["image"],Ji(n)),e}function U_e(t,e){const n={},r=g(t,["mode"]);e!==void 0&&r!=null&&y(e,["parameters","mode"],r);const i=g(t,["maxPredictions"]);e!==void 0&&i!=null&&y(e,["parameters","maxPredictions"],i);const o=g(t,["confidenceThreshold"]);e!==void 0&&o!=null&&y(e,["parameters","confidenceThreshold"],o);const s=g(t,["maskDilation"]);e!==void 0&&s!=null&&y(e,["parameters","maskDilation"],s);const u=g(t,["binaryColorThreshold"]);e!==void 0&&u!=null&&y(e,["parameters","binaryColorThreshold"],u);const c=g(t,["labels"]);return e!==void 0&&c!=null&&y(e,["labels"],c),n}function F_e(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],st(t,r));const i=g(e,["source"]);i!=null&&B_e(i,n);const o=g(e,["config"]);return o!=null&&U_e(o,n),n}function q_e(t){const e={},n=g(t,["predictions"]);if(n!=null){let r=n;Array.isArray(r)&&(r=r.map(i=>f_e(i))),y(e,["generatedMasks"],r)}return e}function B_e(t,e){const n={},r=g(t,["prompt"]);e!==void 0&&r!=null&&y(e,["instances[0]","prompt"],r);const i=g(t,["image"]);e!==void 0&&i!=null&&y(e,["instances[0]","image"],Ji(i));const o=g(t,["scribbleImage"]);return e!==void 0&&o!=null&&y(e,["instances[0]","scribble"],V_e(o)),n}function S5(t){const e={},n=g(t,["languageCode"]);n!=null&&y(e,["languageCode"],n);const r=g(t,["voiceConfig"]);if(r!=null&&y(e,["voiceConfig"],r),g(t,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function z_e(t){const e={},n=g(t,["functionCallingConfig"]);n!=null&&y(e,["functionCallingConfig"],Hve(n));const r=g(t,["retrievalConfig"]);return r!=null&&y(e,["retrievalConfig"],r),e}function G_e(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),y(e,["functionDeclarations"],h)}if(g(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(t,["googleSearchRetrieval"]);r!=null&&y(e,["googleSearchRetrieval"],r);const i=g(t,["computerUse"]);i!=null&&y(e,["computerUse"],i);const o=g(t,["fileSearch"]);o!=null&&y(e,["fileSearch"],o);const s=g(t,["codeExecution"]);if(s!=null&&y(e,["codeExecution"],s),g(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=g(t,["googleMaps"]);u!=null&&y(e,["googleMaps"],y_e(u));const c=g(t,["googleSearch"]);c!=null&&y(e,["googleSearch"],v_e(c));const d=g(t,["urlContext"]);return d!=null&&y(e,["urlContext"],d),e}function b5(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let m=n;Array.isArray(m)&&(m=m.map(_=>$ve(_))),y(e,["functionDeclarations"],m)}const r=g(t,["retrieval"]);r!=null&&y(e,["retrieval"],r);const i=g(t,["googleSearchRetrieval"]);i!=null&&y(e,["googleSearchRetrieval"],i);const o=g(t,["computerUse"]);if(o!=null&&y(e,["computerUse"],o),g(t,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=g(t,["codeExecution"]);s!=null&&y(e,["codeExecution"],s);const u=g(t,["enterpriseWebSearch"]);u!=null&&y(e,["enterpriseWebSearch"],u);const c=g(t,["googleMaps"]);c!=null&&y(e,["googleMaps"],c);const d=g(t,["googleSearch"]);d!=null&&y(e,["googleSearch"],d);const h=g(t,["urlContext"]);return h!=null&&y(e,["urlContext"],h),e}function H_e(t){const e={},n=g(t,["baseModel"]);n!=null&&y(e,["baseModel"],n);const r=g(t,["createTime"]);r!=null&&y(e,["createTime"],r);const i=g(t,["updateTime"]);return i!=null&&y(e,["updateTime"],i),e}function $_e(t){const e={},n=g(t,["labels","google-vertex-llm-tuning-base-model-id"]);n!=null&&y(e,["baseModel"],n);const r=g(t,["createTime"]);r!=null&&y(e,["createTime"],r);const i=g(t,["updateTime"]);return i!=null&&y(e,["updateTime"],i),e}function K_e(t,e){const n={},r=g(t,["displayName"]);e!==void 0&&r!=null&&y(e,["displayName"],r);const i=g(t,["description"]);e!==void 0&&i!=null&&y(e,["description"],i);const o=g(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&y(e,["defaultCheckpointId"],o),n}function Y_e(t,e){const n={},r=g(t,["displayName"]);e!==void 0&&r!=null&&y(e,["displayName"],r);const i=g(t,["description"]);e!==void 0&&i!=null&&y(e,["description"],i);const o=g(t,["defaultCheckpointId"]);return e!==void 0&&o!=null&&y(e,["defaultCheckpointId"],o),n}function W_e(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","name"],st(t,r));const i=g(e,["config"]);return i!=null&&K_e(i,n),n}function j_e(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],st(t,r));const i=g(e,["config"]);return i!=null&&Y_e(i,n),n}function J_e(t,e){const n={},r=g(t,["outputGcsUri"]);e!==void 0&&r!=null&&y(e,["parameters","storageUri"],r);const i=g(t,["safetyFilterLevel"]);e!==void 0&&i!=null&&y(e,["parameters","safetySetting"],i);const o=g(t,["personGeneration"]);e!==void 0&&o!=null&&y(e,["parameters","personGeneration"],o);const s=g(t,["includeRaiReason"]);e!==void 0&&s!=null&&y(e,["parameters","includeRaiReason"],s);const u=g(t,["outputMimeType"]);e!==void 0&&u!=null&&y(e,["parameters","outputOptions","mimeType"],u);const c=g(t,["outputCompressionQuality"]);e!==void 0&&c!=null&&y(e,["parameters","outputOptions","compressionQuality"],c);const d=g(t,["enhanceInputImage"]);e!==void 0&&d!=null&&y(e,["parameters","upscaleConfig","enhanceInputImage"],d);const h=g(t,["imagePreservationFactor"]);e!==void 0&&h!=null&&y(e,["parameters","upscaleConfig","imagePreservationFactor"],h);const m=g(t,["labels"]);e!==void 0&&m!=null&&y(e,["labels"],m);const _=g(t,["numberOfImages"]);e!==void 0&&_!=null&&y(e,["parameters","sampleCount"],_);const S=g(t,["mode"]);return e!==void 0&&S!=null&&y(e,["parameters","mode"],S),n}function X_e(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["_url","model"],st(t,r));const i=g(e,["image"]);i!=null&&y(n,["instances[0]","image"],Ji(i));const o=g(e,["upscaleFactor"]);o!=null&&y(n,["parameters","upscaleConfig","upscaleFactor"],o);const s=g(e,["config"]);return s!=null&&J_e(s,n),n}function Q_e(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["predictions"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>h0(o))),y(e,["generatedImages"],i)}return e}function Z_e(t){const e={},n=g(t,["uri"]);n!=null&&y(e,["uri"],n);const r=g(t,["encodedVideo"]);r!=null&&y(e,["videoBytes"],Xs(r));const i=g(t,["encoding"]);return i!=null&&y(e,["mimeType"],i),e}function e0e(t){const e={},n=g(t,["gcsUri"]);n!=null&&y(e,["uri"],n);const r=g(t,["bytesBase64Encoded"]);r!=null&&y(e,["videoBytes"],Xs(r));const i=g(t,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}function t0e(t){const e={},n=g(t,["image"]);n!=null&&y(e,["_self"],Ji(n));const r=g(t,["maskMode"]);return r!=null&&y(e,["maskMode"],r),e}function n0e(t){const e={},n=g(t,["image"]);n!=null&&y(e,["image"],p0(n));const r=g(t,["referenceType"]);return r!=null&&y(e,["referenceType"],r),e}function r0e(t){const e={},n=g(t,["image"]);n!=null&&y(e,["image"],Ji(n));const r=g(t,["referenceType"]);return r!=null&&y(e,["referenceType"],r),e}function w5(t){const e={},n=g(t,["uri"]);n!=null&&y(e,["uri"],n);const r=g(t,["videoBytes"]);r!=null&&y(e,["encodedVideo"],Xs(r));const i=g(t,["mimeType"]);return i!=null&&y(e,["encoding"],i),e}function A5(t){const e={},n=g(t,["uri"]);n!=null&&y(e,["gcsUri"],n);const r=g(t,["videoBytes"]);r!=null&&y(e,["bytesBase64Encoded"],Xs(r));const i=g(t,["mimeType"]);return i!=null&&y(e,["mimeType"],i),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const i0e="Content-Type",o0e="X-Server-Timeout",a0e="User-Agent",iA="x-goog-api-client",s0e="1.30.0",l0e=`google-genai-sdk/${s0e}`,u0e="v1beta1",c0e="v1beta",kV=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class f0e{constructor(e){var n,r;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(n=this.clientOptions.apiVersion)!==null&&n!==void 0?n:u0e,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(r=this.clientOptions.apiVersion)!==null&&r!==void 0?r:c0e,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const r=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&r.push(e.apiVersion),r.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),n=new URL(e);return n.protocol=n.protocol=="http:"?"ws":"wss",n.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,n,r){const i=[this.getRequestUrlInternal(n)];return r&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);if(e.queryParams)for(const[s,u]of Object.entries(e.queryParams))i.searchParams.append(s,String(u));let o={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.unaryApiCall(i,o,e.httpMethod)}patchHttpOptions(e,n){const r=JSON.parse(JSON.stringify(e));for(const[i,o]of Object.entries(n))typeof o=="object"?r[i]=Object.assign(Object.assign({},r[i]),o):o!==void 0&&(r[i]=o);return r}async requestStream(e){let n=this.clientOptions.httpOptions;e.httpOptions&&(n=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const r=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,n,r);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,n,i.toString(),e.abortSignal),this.streamApiCall(i,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,n,r,i){if(n&&n.timeout||i){const o=new AbortController,s=o.signal;if(n.timeout&&(n==null?void 0:n.timeout)>0){const u=setTimeout(()=>o.abort(),n.timeout);u&&typeof u.unref=="function"&&u.unref()}i&&i.addEventListener("abort",()=>{o.abort()}),e.signal=s}return n&&n.extraBody!==null&&d0e(e,n.extraBody),e.headers=await this.getHeadersInternal(n,r),e}async unaryApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await LV(i),new Zw(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,n,r){return this.apiCall(e.toString(),Object.assign(Object.assign({},n),{method:r})).then(async i=>(await LV(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var n;return zc(this,arguments,function*(){const i=(n=e==null?void 0:e.body)===null||n===void 0?void 0:n.getReader(),o=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let s="";for(;;){const{done:u,value:c}=yield xt(i.read());if(u){if(s.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const d=o.decode(c,{stream:!0});try{const m=JSON.parse(d);if("error"in m){const _=JSON.parse(JSON.stringify(m.error)),S=_.status,w=_.code,A=`got status: ${S}. ${JSON.stringify(m)}`;if(w>=400&&w<600)throw new f0({message:A,status:w})}}catch(m){if(m.name==="ApiError")throw m}s+=d;let h=s.match(kV);for(;h;){const m=h[1];try{const _=new Response(m,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield xt(new Zw(_)),s=s.slice(h[0].length),h=s.match(kV)}catch(_){throw new Error(`exception parsing stream chunk ${m}. ${_}`)}}}}finally{i.releaseLock()}})}async apiCall(e,n){return fetch(e,n).catch(r=>{throw new Error(`exception ${r} sending request`)})}getDefaultHeaders(){const e={},n=l0e+" "+this.clientOptions.userAgentExtra;return e[a0e]=n,e[iA]=n,e[i0e]="application/json",e}async getHeadersInternal(e,n){const r=new Headers;if(e&&e.headers){for(const[i,o]of Object.entries(e.headers))r.append(i,o);e.timeout&&e.timeout>0&&r.append(o0e,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(r,n),r}getFileName(e){var n;let r="";return typeof e=="string"&&(r=e.replace(/[/\\]+$/,""),r=(n=r.split(/[/\\]/).pop())!==null&&n!==void 0?n:""),r}async uploadFile(e,n){var r;const i={};n!=null&&(i.mimeType=n.mimeType,i.name=n.name,i.displayName=n.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const o=this.clientOptions.uploader,s=await o.stat(e);i.sizeBytes=String(s.size);const u=(r=n==null?void 0:n.mimeType)!==null&&r!==void 0?r:s.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=u;const c={file:i},d=this.getFileName(e),h=Te("upload/v1beta/files",c._url),m=await this.fetchUploadUrl(h,i.sizeBytes,i.mimeType,d,c,n==null?void 0:n.httpOptions);return o.upload(e,m,this)}async uploadFileToFileSearchStore(e,n,r){var i;const o=this.clientOptions.uploader,s=await o.stat(n),u=String(s.size),c=(i=r==null?void 0:r.mimeType)!==null&&i!==void 0?i:s.type;if(c===void 0||c==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const d=`upload/v1beta/${e}:uploadToFileSearchStore`,h=this.getFileName(n),m={};r!=null&&r.customMetadata&&(m.customMetadata=r.customMetadata),r!=null&&r.chunkingConfig&&(m.chunkingConfig=r.chunkingConfig);const _=await this.fetchUploadUrl(d,u,c,h,m,r==null?void 0:r.httpOptions);return o.uploadToFileSearchStore(n,_,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,n,r,i,o,s){var u;let c={};s?c=s:c={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n}`,"X-Goog-Upload-Header-Content-Type":`${r}`},i?{"X-Goog-Upload-File-Name":i}:{})};const d=await this.request({path:e,body:JSON.stringify(o),httpMethod:"POST",httpOptions:c});if(!d||!(d!=null&&d.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(u=d==null?void 0:d.headers)===null||u===void 0?void 0:u["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function LV(t){var e;if(t===void 0)throw new Error("response is undefined");if(!t.ok){const n=t.status;let r;!((e=t.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?r=await t.json():r={error:{message:await t.text(),code:t.status,status:t.statusText}};const i=JSON.stringify(r);throw n>=400&&n<600?new f0({message:i,status:n}):new Error(i)}}function d0e(t,e){if(!e||Object.keys(e).length===0)return;if(t.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let n={};if(typeof t.body=="string"&&t.body.length>0)try{const o=JSON.parse(t.body);if(typeof o=="object"&&o!==null&&!Array.isArray(o))n=o;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function r(o,s){const u=Object.assign({},o);for(const c in s)if(Object.prototype.hasOwnProperty.call(s,c)){const d=s[c],h=u[c];d&&typeof d=="object"&&!Array.isArray(d)&&h&&typeof h=="object"&&!Array.isArray(h)?u[c]=r(h,d):(h&&d&&typeof h!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof h}, New type: ${typeof d}. Overwriting.`),u[c]=d)}return u}const i=r(n,e);t.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const h0e="mcp_used/unknown";let p0e=!1;function I5(t){for(const e of t)if(m0e(e)||typeof e=="object"&&"inputSchema"in e)return!0;return p0e}function C5(t){var e;const n=(e=t[iA])!==null&&e!==void 0?e:"";t[iA]=(n+` ${h0e}`).trimStart()}function m0e(t){return t!==null&&typeof t=="object"&&t instanceof E1}function g0e(t,e=100){return zc(this,arguments,function*(){let r,i=0;for(;i<e;){const o=yield xt(t.listTools({cursor:r}));for(const s of o.tools)yield yield xt(s),i++;if(!o.nextCursor)break;r=o.nextCursor}})}class E1{constructor(e=[],n){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=n}static create(e,n){return new E1(e,n)}async initialize(){var e,n,r,i;if(this.mcpTools.length>0)return;const o={},s=[];for(const h of this.mcpClients)try{for(var u=!0,c=(n=void 0,Mh(g0e(h))),d;d=await c.next(),e=d.done,!e;u=!0){i=d.value,u=!1;const m=i;s.push(m);const _=m.name;if(o[_])throw new Error(`Duplicate function name ${_} found in MCP tools. Please ensure function names are unique.`);o[_]=h}}catch(m){n={error:m}}finally{try{!u&&!e&&(r=c.return)&&await r.call(c)}finally{if(n)throw n.error}}this.mcpTools=s,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),lge(this.mcpTools,this.config)}async callTool(e){await this.initialize();const n=[];for(const r of e)if(r.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[r.name];let o;this.config.timeout&&(o={timeout:this.config.timeout});const s=await i.callTool({name:r.name,arguments:r.args},void 0,o);n.push({functionResponse:{name:r.name,response:s.isError?{error:s}:s}})}return n}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function y0e(t,e,n){const r=new ege;let i;n.data instanceof Blob?i=JSON.parse(await n.data.text()):i=JSON.parse(n.data),Object.assign(r,i),e(r)}class v0e{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r}async connect(e){var n,r;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),s=T0e(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),c=`${i}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${u}`;let d=()=>{};const h=new Promise(L=>{d=L}),m=e.callbacks,_=function(){d({})},S=this.apiClient,w={onopen:_,onmessage:L=>{y0e(S,m.onmessage,L)},onerror:(n=m==null?void 0:m.onerror)!==null&&n!==void 0?n:function(L){},onclose:(r=m==null?void 0:m.onclose)!==null&&r!==void 0?r:function(L){}},A=this.webSocketFactory.create(c,E0e(s),w);A.connect(),await h;const U={setup:{model:st(this.apiClient,e.model)}};return A.send(JSON.stringify(U)),new _0e(A,this.apiClient)}}class _0e{constructor(e,n){this.conn=e,this.apiClient=n}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const n=ove(e);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const n=ive(e);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const n={playbackControl:e};this.conn.send(JSON.stringify(n))}play(){this.sendPlaybackControl(Mc.PLAY)}pause(){this.sendPlaybackControl(Mc.PAUSE)}stop(){this.sendPlaybackControl(Mc.STOP)}resetContext(){this.sendPlaybackControl(Mc.RESET_CONTEXT)}close(){this.conn.close()}}function E0e(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function T0e(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const S0e="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function b0e(t,e,n){const r=new Zme;let i;n.data instanceof Blob?i=await n.data.text():n.data instanceof ArrayBuffer?i=new TextDecoder().decode(n.data):i=n.data;const o=JSON.parse(i);if(t.isVertexAI()){const s=lve(o);Object.assign(r,s)}else Object.assign(r,o);e(r)}class w0e{constructor(e,n,r){this.apiClient=e,this.auth=n,this.webSocketFactory=r,this.music=new v0e(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var n,r,i,o,s,u;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let h;const m=this.apiClient.getHeaders();e.config&&e.config.tools&&I5(e.config.tools)&&C5(m);const _=R0e(m);if(this.apiClient.isVertexAI())h=`${c}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(_,h);else{const x=this.apiClient.getApiKey();let F="BidiGenerateContent",k="key";x!=null&&x.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),F="BidiGenerateContentConstrained",k="access_token"),h=`${c}/ws/google.ai.generativelanguage.${d}.GenerativeService.${F}?${k}=${x}`}let S=()=>{};const w=new Promise(x=>{S=x}),A=e.callbacks,C=function(){var x;(x=A==null?void 0:A.onopen)===null||x===void 0||x.call(A),S({})},M=this.apiClient,U={onopen:C,onmessage:x=>{b0e(M,A.onmessage,x)},onerror:(n=A==null?void 0:A.onerror)!==null&&n!==void 0?n:function(x){},onclose:(r=A==null?void 0:A.onclose)!==null&&r!==void 0?r:function(x){}},L=this.webSocketFactory.create(h,C0e(_),U);L.connect(),await w;let H=st(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&H.startsWith("publishers/")){const x=this.apiClient.getProject(),F=this.apiClient.getLocation();H=`projects/${x}/locations/${F}/`+H}let z={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Vv.AUDIO]}:e.config.responseModalities=[Vv.AUDIO]),!((o=e.config)===null||o===void 0)&&o.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const G=(u=(s=e.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[],P=[];for(const x of G)if(this.isCallableTool(x)){const F=x;P.push(await F.tool())}else P.push(x);P.length>0&&(e.config.tools=P);const D={model:H,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?z=rve(this.apiClient,D):z=nve(this.apiClient,D),delete z.config,L.send(JSON.stringify(z)),new I0e(L,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const A0e={turnComplete:!0};class I0e{constructor(e,n){this.conn=e,this.apiClient=n}tLiveClientContent(e,n){if(n.turns!==null&&n.turns!==void 0){let r=[];try{r=vi(n.turns),e.isVertexAI()||(r=r.map(i=>d0(i)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof n.turns}'`)}return{clientContent:{turns:r,turnComplete:n.turnComplete}}}return{clientContent:{turnComplete:n.turnComplete}}}tLiveClienttToolResponse(e,n){let r=[];if(n.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(n.functionResponses)?r=n.functionResponses:r=[n.functionResponses],r.length===0)throw new Error("functionResponses is required.");for(const o of r){if(typeof o!="object"||o===null||!("name"in o)||!("response"in o))throw new Error(`Could not parse function response, type '${typeof o}'.`);if(!e.isVertexAI()&&!("id"in o))throw new Error(S0e)}return{toolResponse:{functionResponses:r}}}sendClientContent(e){e=Object.assign(Object.assign({},A0e),e);const n=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(n))}sendRealtimeInput(e){let n={};this.apiClient.isVertexAI()?n={realtimeInput:sve(e)}:n={realtimeInput:ave(e)},this.conn.send(JSON.stringify(n))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const n=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(n))}close(){this.conn.close()}}function C0e(t){const e={};return t.forEach((n,r)=>{e[r]=n}),e}function R0e(t){const e=new Headers;for(const[n,r]of Object.entries(t))e.append(n,r);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const VV=10;function UV(t){var e,n,r;if(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const s of(n=t==null?void 0:t.tools)!==null&&n!==void 0?n:[])if(Gc(s)){i=!0;break}if(!i)return!0;const o=(r=t==null?void 0:t.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls;return o&&(o<0||!Number.isInteger(o))||o==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",o),!0):!1}function Gc(t){return"callTool"in t&&typeof t.callTool=="function"}function P0e(t){var e,n,r;return(r=(n=(e=t.config)===null||e===void 0?void 0:e.tools)===null||n===void 0?void 0:n.some(i=>Gc(i)))!==null&&r!==void 0?r:!1}function FV(t){var e;const n=[];return!((e=t==null?void 0:t.config)===null||e===void 0)&&e.tools&&t.config.tools.forEach((r,i)=>{if(Gc(r))return;const o=r;o.functionDeclarations&&o.functionDeclarations.length>0&&n.push(i)}),n}function qV(t){var e;return!(!((e=t==null?void 0:t.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class x0e extends Ma{constructor(e){super(),this.apiClient=e,this.generateContent=async n=>{var r,i,o,s,u;const c=await this.processParamsMaybeAddMcpUsage(n);if(this.maybeMoveToResponseJsonSchem(n),!P0e(n)||UV(n.config))return await this.generateContentInternal(c);const d=FV(n);if(d.length>0){const A=d.map(C=>`tools[${C}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${A}.`)}let h,m;const _=vi(c.contents),S=(o=(i=(r=c.config)===null||r===void 0?void 0:r.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&o!==void 0?o:VV;let w=0;for(;w<S&&(h=await this.generateContentInternal(c),!(!h.functionCalls||h.functionCalls.length===0));){const A=h.candidates[0].content,C=[];for(const M of(u=(s=n.config)===null||s===void 0?void 0:s.tools)!==null&&u!==void 0?u:[])if(Gc(M)){const L=await M.callTool(h.functionCalls);C.push(...L)}w++,m={role:"user",parts:C},c.contents=vi(c.contents),c.contents.push(A),c.contents.push(m),qV(c.config)&&(_.push(A),_.push(m))}return qV(c.config)&&(h.automaticFunctionCallingHistory=_),h},this.generateContentStream=async n=>{var r,i,o,s,u;if(this.maybeMoveToResponseJsonSchem(n),UV(n.config)){const m=await this.processParamsMaybeAddMcpUsage(n);return await this.generateContentStreamInternal(m)}const c=FV(n);if(c.length>0){const m=c.map(_=>`tools[${_}]`).join(", ");throw new Error(`Incompatible tools found at ${m}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const d=(o=(i=(r=n==null?void 0:n.config)===null||r===void 0?void 0:r.toolConfig)===null||i===void 0?void 0:i.functionCallingConfig)===null||o===void 0?void 0:o.streamFunctionCallArguments,h=(u=(s=n==null?void 0:n.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||u===void 0?void 0:u.disable;if(d&&!h)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(n)},this.generateImages=async n=>await this.generateImagesInternal(n).then(r=>{var i;let o;const s=[];if(r!=null&&r.generatedImages)for(const c of r.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((i=c==null?void 0:c.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?o=c==null?void 0:c.safetyAttributes:s.push(c);let u;return o?u={generatedImages:s,positivePromptSafetyAttributes:o,sdkHttpResponse:r.sdkHttpResponse}:u={generatedImages:s,sdkHttpResponse:r.sdkHttpResponse},u}),this.list=async n=>{var r;const s={config:Object.assign(Object.assign({},{queryBase:!0}),n==null?void 0:n.config)};if(this.apiClient.isVertexAI()&&!s.config.queryBase){if(!((r=s.config)===null||r===void 0)&&r.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");s.config.filter="labels.tune-type:*"}return new bu(ba.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(s),s)},this.editImage=async n=>{const r={model:n.model,prompt:n.prompt,referenceImages:[],config:n.config};return n.referenceImages&&n.referenceImages&&(r.referenceImages=n.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(r)},this.upscaleImage=async n=>{let r={numberOfImages:1,mode:"upscale"};n.config&&(r=Object.assign(Object.assign({},r),n.config));const i={model:n.model,image:n.image,upscaleFactor:n.upscaleFactor,config:r};return await this.upscaleImageInternal(i)},this.generateVideos=async n=>{var r,i,o,s,u,c;if((n.prompt||n.image||n.video)&&n.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((r=n.video)===null||r===void 0)&&r.uri&&(!((i=n.video)===null||i===void 0)&&i.videoBytes)?n.video={uri:n.video.uri,mimeType:n.video.mimeType}:!((s=(o=n.source)===null||o===void 0?void 0:o.video)===null||s===void 0)&&s.uri&&(!((c=(u=n.source)===null||u===void 0?void 0:u.video)===null||c===void 0)&&c.videoBytes)&&(n.source.video={uri:n.source.video.uri,mimeType:n.source.video.mimeType})),await this.generateVideosInternal(n)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var n,r,i;const o=(n=e.config)===null||n===void 0?void 0:n.tools;if(!o)return e;const s=await Promise.all(o.map(async c=>Gc(c)?await c.tool():c)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:s})};if(u.config.tools=s,e.config&&e.config.tools&&I5(e.config.tools)){const c=(i=(r=e.config.httpOptions)===null||r===void 0?void 0:r.headers)!==null&&i!==void 0?i:{};let d=Object.assign({},c);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),C5(d),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return u}async initAfcToolsMap(e){var n,r,i;const o=new Map;for(const s of(r=(n=e.config)===null||n===void 0?void 0:n.tools)!==null&&r!==void 0?r:[])if(Gc(s)){const u=s,c=await u.tool();for(const d of(i=c.functionDeclarations)!==null&&i!==void 0?i:[]){if(!d.name)throw new Error("Function declaration name is required.");if(o.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);o.set(d.name,u)}}return o}async processAfcStream(e){var n,r,i;const o=(i=(r=(n=e.config)===null||n===void 0?void 0:n.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&i!==void 0?i:VV;let s=!1,u=0;const c=await this.initAfcToolsMap(e);return(function(d,h,m){var _,S;return zc(this,arguments,function*(){for(var w,A,C,M;u<o;){s&&(u++,s=!1);const z=yield xt(d.processParamsMaybeAddMcpUsage(m)),G=yield xt(d.generateContentStreamInternal(z)),P=[],D=[];try{for(var U=!0,L=(A=void 0,Mh(G)),H;H=yield xt(L.next()),w=H.done,!w;U=!0){M=H.value,U=!1;const x=M;if(yield yield xt(x),x.candidates&&(!((_=x.candidates[0])===null||_===void 0)&&_.content)){D.push(x.candidates[0].content);for(const F of(S=x.candidates[0].content.parts)!==null&&S!==void 0?S:[])if(u<o&&F.functionCall){if(!F.functionCall.name)throw new Error("Function call name was not returned by the model.");if(h.has(F.functionCall.name)){const k=yield xt(h.get(F.functionCall.name).callTool([F.functionCall]));P.push(...k)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${h.keys()}, mising tool: ${F.functionCall.name}`)}}}}catch(x){A={error:x}}finally{try{!U&&!w&&(C=L.return)&&(yield xt(C.call(L)))}finally{if(A)throw A.error}}if(P.length>0){s=!0;const x=new sh;x.candidates=[{content:{role:"user",parts:P}}],yield yield xt(x);const F=[];F.push(...D),F.push({role:"user",parts:P});const k=vi(m.contents).concat(F);m.contents=k}else break}})})(this,c,e)}async generateContentInternal(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=NV(this.apiClient,e);return u=Te("{model}:generateContent",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:h.headers},_})),s.then(h=>{const m=OV(h),_=new sh;return Object.assign(_,m),_})}else{const d=MV(this.apiClient,e);return u=Te("{model}:generateContent",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:h.headers},_})),s.then(h=>{const m=DV(h),_=new sh;return Object.assign(_,m),_})}}async generateContentStreamInternal(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=NV(this.apiClient,e);return u=Te("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}),s.then(function(m){return zc(this,arguments,function*(){var _,S,w,A;try{for(var C=!0,M=Mh(m),U;U=yield xt(M.next()),_=U.done,!_;C=!0){A=U.value,C=!1;const L=A,H=OV(yield xt(L.json()));H.sdkHttpResponse={headers:L.headers};const z=new sh;Object.assign(z,H),yield yield xt(z)}}catch(L){S={error:L}}finally{try{!C&&!_&&(w=M.return)&&(yield xt(w.call(M)))}finally{if(S)throw S.error}}})})}else{const d=MV(this.apiClient,e);return u=Te("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),s.then(function(m){return zc(this,arguments,function*(){var _,S,w,A;try{for(var C=!0,M=Mh(m),U;U=yield xt(M.next()),_=U.done,!_;C=!0){A=U.value,C=!1;const L=A,H=DV(yield xt(L.json()));H.sdkHttpResponse={headers:L.headers};const z=new sh;Object.assign(z,H),yield yield xt(z)}}catch(L){S={error:L}}finally{try{!C&&!_&&(w=M.return)&&(yield xt(w.call(M)))}finally{if(S)throw S.error}}})})}}async embedContent(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=Uve(this.apiClient,e);return u=Te("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:h.headers},_})),s.then(h=>{const m=qve(h),_=new mV;return Object.assign(_,m),_})}else{const d=Vve(this.apiClient,e);return u=Te("{model}:batchEmbedContents",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:h.headers},_})),s.then(h=>{const m=Fve(h),_=new mV;return Object.assign(_,m),_})}}async generateImagesInternal(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=Xve(this.apiClient,e);return u=Te("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:h.headers},_})),s.then(h=>{const m=Zve(h),_=new gV;return Object.assign(_,m),_})}else{const d=Jve(this.apiClient,e);return u=Te("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:h.headers},_})),s.then(h=>{const m=Qve(h),_=new gV;return Object.assign(_,m),_})}}async editImageInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const u=Dve(this.apiClient,e);return o=Te("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const d=Ove(c),h=new zme;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const u=X_e(this.apiClient,e);return o=Te("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const d=Q_e(c),h=new Gme;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const u=N_e(this.apiClient,e);return o=Te("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=D_e(c),h=new Hme;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const u=F_e(this.apiClient,e);return o=Te("{model}:predict",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=q_e(c),h=new $me;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=g_e(this.apiClient,e);return u=Te("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>rA(h))}else{const d=m_e(this.apiClient,e);return u=Te("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>nA(h))}}async listInternal(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=A_e(this.apiClient,e);return u=Te("{models_url}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:h.headers},_})),s.then(h=>{const m=C_e(h),_=new yV;return Object.assign(_,m),_})}else{const d=w_e(this.apiClient,e);return u=Te("{models_url}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:h.headers},_})),s.then(h=>{const m=I_e(h),_=new yV;return Object.assign(_,m),_})}}async update(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=j_e(this.apiClient,e);return u=Te("{model}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>rA(h))}else{const d=W_e(this.apiClient,e);return u=Te("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>nA(h))}}async delete(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=Pve(this.apiClient,e);return u=Te("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:h.headers},_})),s.then(h=>{const m=Mve(h),_=new vV;return Object.assign(_,m),_})}else{const d=Rve(this.apiClient,e);return u=Te("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:h.headers},_})),s.then(h=>{const m=xve(h),_=new vV;return Object.assign(_,m),_})}}async countTokens(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=Ave(this.apiClient,e);return u=Te("{model}:countTokens",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:h.headers},_})),s.then(h=>{const m=Cve(h),_=new _V;return Object.assign(_,m),_})}else{const d=wve(this.apiClient,e);return u=Te("{model}:countTokens",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:h.headers},_})),s.then(h=>{const m=Ive(h),_=new _V;return Object.assign(_,m),_})}}async computeTokens(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const u=yve(this.apiClient,e);return o=Te("{model}:computeTokens",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>{const d=vve(c),h=new Kme;return Object.assign(h,d),h})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=o_e(this.apiClient,e);return u=Te("{model}:predictLongRunning",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s.then(h=>{const m=r_e(h),_=new Uv;return Object.assign(_,m),_})}else{const d=i_e(this.apiClient,e);return u=Te("{model}:predictLongRunning",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s.then(h=>{const m=n_e(h),_=new Uv;return Object.assign(_,m),_})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class M0e extends Ma{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async get(e){const n=e.operation,r=e.config;if(n.name===void 0||n.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=n.name.split("/operations/")[0];let o;r&&"httpOptions"in r&&(o=r.httpOptions);const s=await this.fetchPredictVideosOperationInternal({operationName:n.name,resourceName:i,config:{httpOptions:o}});return n._fromAPIResponse({apiResponse:s,_isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:n.name,config:r});return n._fromAPIResponse({apiResponse:i,_isVertexAI:!1})}}async getVideosOperationInternal(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=Lme(e);return u=Te("{operationName}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json()),s}else{const d=kme(e);return u=Te("{operationName}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json()),s}}async fetchPredictVideosOperationInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const u=Rme(e);return o=Te("{resourceName}:fetchPredictOperation",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function N0e(t){const e={},n=g(t,["data"]);if(n!=null&&y(e,["data"],n),g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const r=g(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function D0e(t){const e={},n=g(t,["parts"]);if(n!=null){let i=n;Array.isArray(i)&&(i=i.map(o=>z0e(o))),y(e,["parts"],i)}const r=g(t,["role"]);return r!=null&&y(e,["role"],r),e}function O0e(t,e,n){const r={},i=g(e,["expireTime"]);n!==void 0&&i!=null&&y(n,["expireTime"],i);const o=g(e,["newSessionExpireTime"]);n!==void 0&&o!=null&&y(n,["newSessionExpireTime"],o);const s=g(e,["uses"]);n!==void 0&&s!=null&&y(n,["uses"],s);const u=g(e,["liveConnectConstraints"]);n!==void 0&&u!=null&&y(n,["bidiGenerateContentSetup"],B0e(t,u));const c=g(e,["lockAdditionalFields"]);return n!==void 0&&c!=null&&y(n,["fieldMask"],c),r}function k0e(t,e){const n={},r=g(e,["config"]);return r!=null&&y(n,["config"],O0e(t,r,n)),n}function L0e(t){const e={};if(g(t,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const n=g(t,["fileUri"]);n!=null&&y(e,["fileUri"],n);const r=g(t,["mimeType"]);return r!=null&&y(e,["mimeType"],r),e}function V0e(t){const e={},n=g(t,["id"]);n!=null&&y(e,["id"],n);const r=g(t,["args"]);r!=null&&y(e,["args"],r);const i=g(t,["name"]);if(i!=null&&y(e,["name"],i),g(t,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(g(t,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function U0e(t){const e={};if(g(t,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const n=g(t,["enableWidget"]);return n!=null&&y(e,["enableWidget"],n),e}function F0e(t){const e={};if(g(t,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(g(t,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const n=g(t,["timeRangeFilter"]);return n!=null&&y(e,["timeRangeFilter"],n),e}function q0e(t,e){const n={},r=g(t,["generationConfig"]);e!==void 0&&r!=null&&y(e,["setup","generationConfig"],r);const i=g(t,["responseModalities"]);e!==void 0&&i!=null&&y(e,["setup","generationConfig","responseModalities"],i);const o=g(t,["temperature"]);e!==void 0&&o!=null&&y(e,["setup","generationConfig","temperature"],o);const s=g(t,["topP"]);e!==void 0&&s!=null&&y(e,["setup","generationConfig","topP"],s);const u=g(t,["topK"]);e!==void 0&&u!=null&&y(e,["setup","generationConfig","topK"],u);const c=g(t,["maxOutputTokens"]);e!==void 0&&c!=null&&y(e,["setup","generationConfig","maxOutputTokens"],c);const d=g(t,["mediaResolution"]);e!==void 0&&d!=null&&y(e,["setup","generationConfig","mediaResolution"],d);const h=g(t,["seed"]);e!==void 0&&h!=null&&y(e,["setup","generationConfig","seed"],h);const m=g(t,["speechConfig"]);e!==void 0&&m!=null&&y(e,["setup","generationConfig","speechConfig"],_1(m));const _=g(t,["thinkingConfig"]);e!==void 0&&_!=null&&y(e,["setup","generationConfig","thinkingConfig"],_);const S=g(t,["enableAffectiveDialog"]);e!==void 0&&S!=null&&y(e,["setup","generationConfig","enableAffectiveDialog"],S);const w=g(t,["systemInstruction"]);e!==void 0&&w!=null&&y(e,["setup","systemInstruction"],D0e(nr(w)));const A=g(t,["tools"]);if(e!==void 0&&A!=null){let G=Uf(A);Array.isArray(G)&&(G=G.map(P=>H0e(Vf(P)))),y(e,["setup","tools"],G)}const C=g(t,["sessionResumption"]);e!==void 0&&C!=null&&y(e,["setup","sessionResumption"],G0e(C));const M=g(t,["inputAudioTranscription"]);e!==void 0&&M!=null&&y(e,["setup","inputAudioTranscription"],M);const U=g(t,["outputAudioTranscription"]);e!==void 0&&U!=null&&y(e,["setup","outputAudioTranscription"],U);const L=g(t,["realtimeInputConfig"]);e!==void 0&&L!=null&&y(e,["setup","realtimeInputConfig"],L);const H=g(t,["contextWindowCompression"]);e!==void 0&&H!=null&&y(e,["setup","contextWindowCompression"],H);const z=g(t,["proactivity"]);return e!==void 0&&z!=null&&y(e,["setup","proactivity"],z),n}function B0e(t,e){const n={},r=g(e,["model"]);r!=null&&y(n,["setup","model"],st(t,r));const i=g(e,["config"]);return i!=null&&y(n,["config"],q0e(i,n)),n}function z0e(t){const e={},n=g(t,["mediaResolution"]);n!=null&&y(e,["mediaResolution"],n);const r=g(t,["codeExecutionResult"]);r!=null&&y(e,["codeExecutionResult"],r);const i=g(t,["executableCode"]);i!=null&&y(e,["executableCode"],i);const o=g(t,["fileData"]);o!=null&&y(e,["fileData"],L0e(o));const s=g(t,["functionCall"]);s!=null&&y(e,["functionCall"],V0e(s));const u=g(t,["functionResponse"]);u!=null&&y(e,["functionResponse"],u);const c=g(t,["inlineData"]);c!=null&&y(e,["inlineData"],N0e(c));const d=g(t,["text"]);d!=null&&y(e,["text"],d);const h=g(t,["thought"]);h!=null&&y(e,["thought"],h);const m=g(t,["thoughtSignature"]);m!=null&&y(e,["thoughtSignature"],m);const _=g(t,["videoMetadata"]);return _!=null&&y(e,["videoMetadata"],_),e}function G0e(t){const e={},n=g(t,["handle"]);if(n!=null&&y(e,["handle"],n),g(t,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function H0e(t){const e={},n=g(t,["functionDeclarations"]);if(n!=null){let h=n;Array.isArray(h)&&(h=h.map(m=>m)),y(e,["functionDeclarations"],h)}if(g(t,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const r=g(t,["googleSearchRetrieval"]);r!=null&&y(e,["googleSearchRetrieval"],r);const i=g(t,["computerUse"]);i!=null&&y(e,["computerUse"],i);const o=g(t,["fileSearch"]);o!=null&&y(e,["fileSearch"],o);const s=g(t,["codeExecution"]);if(s!=null&&y(e,["codeExecution"],s),g(t,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const u=g(t,["googleMaps"]);u!=null&&y(e,["googleMaps"],U0e(u));const c=g(t,["googleSearch"]);c!=null&&y(e,["googleSearch"],F0e(c));const d=g(t,["urlContext"]);return d!=null&&y(e,["urlContext"],d),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $0e(t){const e=[];for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const r=t[n];if(typeof r=="object"&&r!=null&&Object.keys(r).length>0){const i=Object.keys(r).map(o=>`${n}.${o}`);e.push(...i)}else e.push(n)}return e.join(",")}function K0e(t,e){let n=null;const r=t.bidiGenerateContentSetup;if(typeof r=="object"&&r!==null&&"setup"in r){const o=r.setup;typeof o=="object"&&o!==null?(t.bidiGenerateContentSetup=o,n=o):delete t.bidiGenerateContentSetup}else r!==void 0&&delete t.bidiGenerateContentSetup;const i=t.fieldMask;if(n){const o=$0e(n);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)o?t.fieldMask=o:delete t.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const s=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];i.length>0&&(u=i.map(d=>s.includes(d)?`generationConfig.${d}`:d));const c=[];o&&c.push(o),u.length>0&&c.push(...u),c.length>0?t.fieldMask=c.join(","):delete t.fieldMask}else delete t.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?t.fieldMask=i.join(","):delete t.fieldMask;return t}class Y0e extends Ma{constructor(e){super(),this.apiClient=e}async create(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=k0e(this.apiClient,e);o=Te("auth_tokens",u._url),s=u._query,delete u.config,delete u._url,delete u._query;const c=K0e(u,e.config);return i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(d=>d.json()),i.then(d=>d)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function W0e(t,e){const n={},r=g(t,["displayName"]);return e!==void 0&&r!=null&&y(e,["displayName"],r),n}function j0e(t){const e={},n=g(t,["config"]);return n!=null&&W0e(n,e),e}function J0e(t,e){const n={},r=g(t,["force"]);return e!==void 0&&r!=null&&y(e,["_query","force"],r),n}function X0e(t){const e={},n=g(t,["name"]);n!=null&&y(e,["_url","name"],n);const r=g(t,["config"]);return r!=null&&J0e(r,e),e}function Q0e(t){const e={},n=g(t,["name"]);return n!=null&&y(e,["_url","name"],n),e}function Z0e(t,e){const n={},r=g(t,["customMetadata"]);if(e!==void 0&&r!=null){let o=r;Array.isArray(o)&&(o=o.map(s=>s)),y(e,["customMetadata"],o)}const i=g(t,["chunkingConfig"]);return e!==void 0&&i!=null&&y(e,["chunkingConfig"],i),n}function eEe(t){const e={},n=g(t,["name"]);n!=null&&y(e,["name"],n);const r=g(t,["metadata"]);r!=null&&y(e,["metadata"],r);const i=g(t,["done"]);i!=null&&y(e,["done"],i);const o=g(t,["error"]);o!=null&&y(e,["error"],o);const s=g(t,["response"]);return s!=null&&y(e,["response"],nEe(s)),e}function tEe(t){const e={},n=g(t,["fileSearchStoreName"]);n!=null&&y(e,["_url","file_search_store_name"],n);const r=g(t,["fileName"]);r!=null&&y(e,["fileName"],r);const i=g(t,["config"]);return i!=null&&Z0e(i,e),e}function nEe(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["parent"]);r!=null&&y(e,["parent"],r);const i=g(t,["documentName"]);return i!=null&&y(e,["documentName"],i),e}function rEe(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);return e!==void 0&&i!=null&&y(e,["_query","pageToken"],i),n}function iEe(t){const e={},n=g(t,["config"]);return n!=null&&rEe(n,e),e}function oEe(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=g(t,["fileSearchStores"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),y(e,["fileSearchStores"],o)}return e}function aEe(t,e){const n={},r=g(t,["mimeType"]);e!==void 0&&r!=null&&y(e,["mimeType"],r);const i=g(t,["displayName"]);e!==void 0&&i!=null&&y(e,["displayName"],i);const o=g(t,["customMetadata"]);if(e!==void 0&&o!=null){let u=o;Array.isArray(u)&&(u=u.map(c=>c)),y(e,["customMetadata"],u)}const s=g(t,["chunkingConfig"]);return e!==void 0&&s!=null&&y(e,["chunkingConfig"],s),n}function sEe(t){const e={},n=g(t,["fileSearchStoreName"]);n!=null&&y(e,["_url","file_search_store_name"],n);const r=g(t,["config"]);return r!=null&&aEe(r,e),e}function lEe(t){const e={},n=g(t,["sdkHttpResponse"]);return n!=null&&y(e,["sdkHttpResponse"],n),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uEe(t,e){const n={},r=g(t,["force"]);return e!==void 0&&r!=null&&y(e,["_query","force"],r),n}function cEe(t){const e={},n=g(t,["name"]);n!=null&&y(e,["_url","name"],n);const r=g(t,["config"]);return r!=null&&uEe(r,e),e}function fEe(t){const e={},n=g(t,["name"]);return n!=null&&y(e,["_url","name"],n),e}function dEe(t,e){const n={},r=g(t,["pageSize"]);e!==void 0&&r!=null&&y(e,["_query","pageSize"],r);const i=g(t,["pageToken"]);return e!==void 0&&i!=null&&y(e,["_query","pageToken"],i),n}function hEe(t){const e={},n=g(t,["parent"]);n!=null&&y(e,["_url","parent"],n);const r=g(t,["config"]);return r!=null&&dEe(r,e),e}function pEe(t){const e={},n=g(t,["sdkHttpResponse"]);n!=null&&y(e,["sdkHttpResponse"],n);const r=g(t,["nextPageToken"]);r!=null&&y(e,["nextPageToken"],r);const i=g(t,["documents"]);if(i!=null){let o=i;Array.isArray(o)&&(o=o.map(s=>s)),y(e,["documents"],o)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class mEe extends Ma{constructor(e){super(),this.apiClient=e,this.list=async n=>new bu(ba.PAGED_ITEM_DOCUMENTS,r=>this.listInternal({parent:n.parent,config:r.config}),await this.listInternal(n),n)}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=fEe(e);return o=Te("{name}",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=cEe(e);i=Te("{name}",s._url),o=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=hEe(e);return o=Te("{parent}/documents",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=pEe(c),h=new Yme;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gEe extends Ma{constructor(e,n=new mEe(e)){super(),this.apiClient=e,this.documents=n,this.list=async(r={})=>new bu(ba.PAGED_ITEM_FILE_SEARCH_STORES,i=>this.listInternal(i),await this.listInternal(r),r)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=j0e(e);return o=Te("fileSearchStores",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async get(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=Q0e(e);return o=Te("{name}",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>c)}}async delete(e){var n,r;let i="",o={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=X0e(e);i=Te("{name}",s._url),o=s._query,delete s._url,delete s._query,await this.apiClient.request({path:i,queryParams:o,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}}async listInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=iEe(e);return o=Te("fileSearchStores",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=oEe(c),h=new Wme;return Object.assign(h,d),h})}}async uploadToFileSearchStoreInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=sEe(e);return o=Te("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=lEe(c),h=new jme;return Object.assign(h,d),h})}}async importFile(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=tEe(e);return o=Te("{file_search_store_name}:importFile",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json()),i.then(c=>{const d=eEe(c),h=new p1;return Object.assign(h,d),h})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yEe(t,e){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],r),n}function vEe(t,e){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],r),n}function _Ee(t,e,n){const r={};if(g(t,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const i=g(t,["tunedModelDisplayName"]);if(e!==void 0&&i!=null&&y(e,["displayName"],i),g(t,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const o=g(t,["epochCount"]);e!==void 0&&o!=null&&y(e,["tuningTask","hyperparameters","epochCount"],o);const s=g(t,["learningRateMultiplier"]);if(s!=null&&y(r,["tuningTask","hyperparameters","learningRateMultiplier"],s),g(t,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(g(t,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(g(t,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const u=g(t,["batchSize"]);e!==void 0&&u!=null&&y(e,["tuningTask","hyperparameters","batchSize"],u);const c=g(t,["learningRate"]);if(e!==void 0&&c!=null&&y(e,["tuningTask","hyperparameters","learningRate"],c),g(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(g(t,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return r}function EEe(t,e,n){const r={};let i=g(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const S=g(t,["validationDataset"]);e!==void 0&&S!=null&&y(e,["supervisedTuningSpec"],BV(S))}else if(i==="PREFERENCE_TUNING"){const S=g(t,["validationDataset"]);e!==void 0&&S!=null&&y(e,["preferenceOptimizationSpec"],BV(S))}const o=g(t,["tunedModelDisplayName"]);e!==void 0&&o!=null&&y(e,["tunedModelDisplayName"],o);const s=g(t,["description"]);e!==void 0&&s!=null&&y(e,["description"],s);let u=g(n,["config","method"]);if(u===void 0&&(u="SUPERVISED_FINE_TUNING"),u==="SUPERVISED_FINE_TUNING"){const S=g(t,["epochCount"]);e!==void 0&&S!=null&&y(e,["supervisedTuningSpec","hyperParameters","epochCount"],S)}else if(u==="PREFERENCE_TUNING"){const S=g(t,["epochCount"]);e!==void 0&&S!=null&&y(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],S)}let c=g(n,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const S=g(t,["learningRateMultiplier"]);e!==void 0&&S!=null&&y(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],S)}else if(c==="PREFERENCE_TUNING"){const S=g(t,["learningRateMultiplier"]);e!==void 0&&S!=null&&y(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],S)}let d=g(n,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const S=g(t,["exportLastCheckpointOnly"]);e!==void 0&&S!=null&&y(e,["supervisedTuningSpec","exportLastCheckpointOnly"],S)}else if(d==="PREFERENCE_TUNING"){const S=g(t,["exportLastCheckpointOnly"]);e!==void 0&&S!=null&&y(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],S)}let h=g(n,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const S=g(t,["adapterSize"]);e!==void 0&&S!=null&&y(e,["supervisedTuningSpec","hyperParameters","adapterSize"],S)}else if(h==="PREFERENCE_TUNING"){const S=g(t,["adapterSize"]);e!==void 0&&S!=null&&y(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],S)}if(g(t,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(g(t,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const m=g(t,["labels"]);e!==void 0&&m!=null&&y(e,["labels"],m);const _=g(t,["beta"]);return e!==void 0&&_!=null&&y(e,["preferenceOptimizationSpec","hyperParameters","beta"],_),r}function TEe(t,e){const n={},r=g(t,["baseModel"]);r!=null&&y(n,["baseModel"],r);const i=g(t,["preTunedModel"]);i!=null&&y(n,["preTunedModel"],i);const o=g(t,["trainingDataset"]);o!=null&&NEe(o);const s=g(t,["config"]);return s!=null&&_Ee(s,n),n}function SEe(t,e){const n={},r=g(t,["baseModel"]);r!=null&&y(n,["baseModel"],r);const i=g(t,["preTunedModel"]);i!=null&&y(n,["preTunedModel"],i);const o=g(t,["trainingDataset"]);o!=null&&DEe(o,n,e);const s=g(t,["config"]);return s!=null&&EEe(s,n,e),n}function bEe(t,e){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],r),n}function wEe(t,e){const n={},r=g(t,["name"]);return r!=null&&y(n,["_url","name"],r),n}function AEe(t,e,n){const r={},i=g(t,["pageSize"]);e!==void 0&&i!=null&&y(e,["_query","pageSize"],i);const o=g(t,["pageToken"]);e!==void 0&&o!=null&&y(e,["_query","pageToken"],o);const s=g(t,["filter"]);return e!==void 0&&s!=null&&y(e,["_query","filter"],s),r}function IEe(t,e,n){const r={},i=g(t,["pageSize"]);e!==void 0&&i!=null&&y(e,["_query","pageSize"],i);const o=g(t,["pageToken"]);e!==void 0&&o!=null&&y(e,["_query","pageToken"],o);const s=g(t,["filter"]);return e!==void 0&&s!=null&&y(e,["_query","filter"],s),r}function CEe(t,e){const n={},r=g(t,["config"]);return r!=null&&AEe(r,n),n}function REe(t,e){const n={},r=g(t,["config"]);return r!=null&&IEe(r,n),n}function PEe(t,e){const n={},r=g(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=g(t,["nextPageToken"]);i!=null&&y(n,["nextPageToken"],i);const o=g(t,["tunedModels"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>R5(u))),y(n,["tuningJobs"],s)}return n}function xEe(t,e){const n={},r=g(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=g(t,["nextPageToken"]);i!=null&&y(n,["nextPageToken"],i);const o=g(t,["tuningJobs"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(u=>oA(u))),y(n,["tuningJobs"],s)}return n}function MEe(t,e){const n={},r=g(t,["name"]);r!=null&&y(n,["model"],r);const i=g(t,["name"]);return i!=null&&y(n,["endpoint"],i),n}function NEe(t,e){const n={};if(g(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(g(t,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const r=g(t,["examples"]);if(r!=null){let i=r;Array.isArray(i)&&(i=i.map(o=>o)),y(n,["examples","examples"],i)}return n}function DEe(t,e,n){const r={};let i=g(n,["config","method"]);if(i===void 0&&(i="SUPERVISED_FINE_TUNING"),i==="SUPERVISED_FINE_TUNING"){const s=g(t,["gcsUri"]);e!==void 0&&s!=null&&y(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(i==="PREFERENCE_TUNING"){const s=g(t,["gcsUri"]);e!==void 0&&s!=null&&y(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}let o=g(n,["config","method"]);if(o===void 0&&(o="SUPERVISED_FINE_TUNING"),o==="SUPERVISED_FINE_TUNING"){const s=g(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&y(e,["supervisedTuningSpec","trainingDatasetUri"],s)}else if(o==="PREFERENCE_TUNING"){const s=g(t,["vertexDatasetResource"]);e!==void 0&&s!=null&&y(e,["preferenceOptimizationSpec","trainingDatasetUri"],s)}if(g(t,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return r}function R5(t,e){const n={},r=g(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=g(t,["name"]);i!=null&&y(n,["name"],i);const o=g(t,["state"]);o!=null&&y(n,["state"],u5(o));const s=g(t,["createTime"]);s!=null&&y(n,["createTime"],s);const u=g(t,["tuningTask","startTime"]);u!=null&&y(n,["startTime"],u);const c=g(t,["tuningTask","completeTime"]);c!=null&&y(n,["endTime"],c);const d=g(t,["updateTime"]);d!=null&&y(n,["updateTime"],d);const h=g(t,["description"]);h!=null&&y(n,["description"],h);const m=g(t,["baseModel"]);m!=null&&y(n,["baseModel"],m);const _=g(t,["_self"]);return _!=null&&y(n,["tunedModel"],MEe(_)),n}function oA(t,e){const n={},r=g(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=g(t,["name"]);i!=null&&y(n,["name"],i);const o=g(t,["state"]);o!=null&&y(n,["state"],u5(o));const s=g(t,["createTime"]);s!=null&&y(n,["createTime"],s);const u=g(t,["startTime"]);u!=null&&y(n,["startTime"],u);const c=g(t,["endTime"]);c!=null&&y(n,["endTime"],c);const d=g(t,["updateTime"]);d!=null&&y(n,["updateTime"],d);const h=g(t,["error"]);h!=null&&y(n,["error"],h);const m=g(t,["description"]);m!=null&&y(n,["description"],m);const _=g(t,["baseModel"]);_!=null&&y(n,["baseModel"],_);const S=g(t,["tunedModel"]);S!=null&&y(n,["tunedModel"],S);const w=g(t,["preTunedModel"]);w!=null&&y(n,["preTunedModel"],w);const A=g(t,["supervisedTuningSpec"]);A!=null&&y(n,["supervisedTuningSpec"],A);const C=g(t,["preferenceOptimizationSpec"]);C!=null&&y(n,["preferenceOptimizationSpec"],C);const M=g(t,["tuningDataStats"]);M!=null&&y(n,["tuningDataStats"],M);const U=g(t,["encryptionSpec"]);U!=null&&y(n,["encryptionSpec"],U);const L=g(t,["partnerModelTuningSpec"]);L!=null&&y(n,["partnerModelTuningSpec"],L);const H=g(t,["customBaseModel"]);H!=null&&y(n,["customBaseModel"],H);const z=g(t,["experiment"]);z!=null&&y(n,["experiment"],z);const G=g(t,["labels"]);G!=null&&y(n,["labels"],G);const P=g(t,["outputUri"]);P!=null&&y(n,["outputUri"],P);const D=g(t,["pipelineJob"]);D!=null&&y(n,["pipelineJob"],D);const x=g(t,["serviceAccount"]);x!=null&&y(n,["serviceAccount"],x);const F=g(t,["tunedModelDisplayName"]);F!=null&&y(n,["tunedModelDisplayName"],F);const k=g(t,["veoTuningSpec"]);return k!=null&&y(n,["veoTuningSpec"],k),n}function OEe(t,e){const n={},r=g(t,["sdkHttpResponse"]);r!=null&&y(n,["sdkHttpResponse"],r);const i=g(t,["name"]);i!=null&&y(n,["name"],i);const o=g(t,["metadata"]);o!=null&&y(n,["metadata"],o);const s=g(t,["done"]);s!=null&&y(n,["done"],s);const u=g(t,["error"]);return u!=null&&y(n,["error"],u),n}function BV(t,e){const n={},r=g(t,["gcsUri"]);r!=null&&y(n,["validationDatasetUri"],r);const i=g(t,["vertexDatasetResource"]);return i!=null&&y(n,["validationDatasetUri"],i),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kEe extends Ma{constructor(e){super(),this.apiClient=e,this.get=async n=>await this.getInternal(n),this.list=async(n={})=>new bu(ba.PAGED_ITEM_TUNING_JOBS,r=>this.listInternal(r),await this.listInternal(n),n),this.tune=async n=>{var r;if(this.apiClient.isVertexAI())if(n.baseModel.startsWith("projects/")){const i={tunedModelName:n.baseModel};!((r=n.config)===null||r===void 0)&&r.preTunedModelCheckpointId&&(i.checkpointId=n.config.preTunedModelCheckpointId);const o=Object.assign(Object.assign({},n),{preTunedModel:i});return o.baseModel=void 0,await this.tuneInternal(o)}else{const i=Object.assign({},n);return await this.tuneInternal(i)}else{const i=Object.assign({},n),o=await this.tuneMldevInternal(i);let s="";return o.metadata!==void 0&&o.metadata.tunedModel!==void 0?s=o.metadata.tunedModel:o.name!==void 0&&o.name.includes("/operations/")&&(s=o.name.split("/operations/")[0]),{name:s,state:Qw.JOB_STATE_QUEUED}}}}async getInternal(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=wEe(e);return u=Te("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:h.headers},_})),s.then(h=>oA(h))}else{const d=bEe(e);return u=Te("{name}",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:h.headers},_})),s.then(h=>R5(h))}}async listInternal(e){var n,r,i,o;let s,u="",c={};if(this.apiClient.isVertexAI()){const d=REe(e);return u=Te("tuningJobs",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(h=>h.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:h.headers},_})),s.then(h=>{const m=xEe(h),_=new EV;return Object.assign(_,m),_})}else{const d=CEe(e);return u=Te("tunedModels",d._url),c=d._query,delete d._url,delete d._query,s=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(h=>h.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:h.headers},_})),s.then(h=>{const m=PEe(h),_=new EV;return Object.assign(_,m),_})}}async cancel(e){var n,r,i,o;let s="",u={};if(this.apiClient.isVertexAI()){const c=vEe(e);s=Te("{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal})}else{const c=yEe(e);s=Te("{name}:cancel",c._url),u=c._query,delete c._url,delete c._query,await this.apiClient.request({path:s,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}}async tuneInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI()){const u=SEe(e,e);return o=Te("tuningJobs",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>oA(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var n,r;let i,o="",s={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=TEe(e);return o=Te("tunedModels",u._url),s=u._query,delete u._url,delete u._query,i=this.apiClient.request({path:o,queryParams:s,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(n=e.config)===null||n===void 0?void 0:n.httpOptions,abortSignal:(r=e.config)===null||r===void 0?void 0:r.abortSignal}).then(c=>c.json().then(d=>{const h=d;return h.sdkHttpResponse={headers:c.headers},h})),i.then(c=>OEe(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class LEe{async download(e,n){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const VEe=1024*1024*8,UEe=3,FEe=1e3,qEe=2,qv="x-goog-upload-status";async function BEe(t,e,n){var r;const i=await P5(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[qv])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return o.file}async function zEe(t,e,n){var r;const i=await P5(t,e,n),o=await(i==null?void 0:i.json());if(((r=i==null?void 0:i.headers)===null||r===void 0?void 0:r[qv])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const s=r5(o),u=new m1;return Object.assign(u,s),u}async function P5(t,e,n){var r,i;let o=0,s=0,u=new Zw(new Response),c="upload";for(o=t.size;s<o;){const d=Math.min(VEe,o-s),h=t.slice(s,s+d);s+d>=o&&(c+=", finalize");let m=0,_=FEe;for(;m<UEe&&(u=await n.request({path:"",body:h,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":c,"X-Goog-Upload-Offset":String(s),"Content-Length":String(d)}}}),!(!((r=u==null?void 0:u.headers)===null||r===void 0)&&r[qv]));)m++,await HEe(_),_=_*qEe;if(s+=d,((i=u==null?void 0:u.headers)===null||i===void 0?void 0:i[qv])!=="active")break;if(o<=s)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return u}async function GEe(t){return{size:t.size,type:t.type}}function HEe(t){return new Promise(e=>setTimeout(e,t))}class $Ee{async upload(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await BEe(e,n,r)}async uploadToFileSearchStore(e,n,r){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await zEe(e,n,r)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await GEe(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class KEe{create(e,n,r){return new YEe(e,n,r)}}class YEe{constructor(e,n,r){this.url=e,this.headers=n,this.callbacks=r}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const zV="x-goog-api-key";class WEe{constructor(e){this.apiKey=e}async addAuthHeaders(e,n){if(e.get(zV)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(zV,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jEe="gl-node/";class JEe{constructor(e){var n;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(n=e.vertexai)!==null&&n!==void 0?n:!1,this.apiKey=e.apiKey;const r=Ime(e.httpOptions,e.vertexai,void 0,void 0);r&&(e.httpOptions?e.httpOptions.baseUrl=r:e.httpOptions={baseUrl:r}),this.apiVersion=e.apiVersion;const i=new WEe(this.apiKey);this.apiClient=new f0e({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:jEe+"web",uploader:new $Ee,downloader:new LEe}),this.models=new x0e(this.apiClient),this.live=new w0e(this.apiClient,i,new KEe),this.batches=new tye(this.apiClient),this.chats=new Lye(this.models,this.apiClient),this.caches=new Dye(this.apiClient),this.files=new Kye(this.apiClient),this.operations=new M0e(this.apiClient),this.authTokens=new Y0e(this.apiClient),this.tunings=new kEe(this.apiClient),this.fileSearchStores=new gEe(this.apiClient)}}var XEe={};const QEe=new JEe({apiKey:XEe.API_KEY}),ZEe="gemini-2.5-flash",eTe=`
You are a financial assistant optimized for the Myanmar language.
Your task is to analyze Myanmar or English text describing a financial transaction and extract structured data.

Rules:
1. Identify the 'amount' (number).
2. Identify the 'description' (short text summary).
3. Identify the 'category' (e.g., Food, Transport, Salary, Shopping, Bills). Map to standard categories if possible.
4. Identify the 'type' (income or expense). Default to 'expense' if ambiguous.
5. If the input is unclear, return null values but try your best to guess.
6. The user might say things like " " (Mohinga 500). Treat this as Expense, Food, 500.

Return the response as a strictly valid JSON object.
`,tTe=async t=>{try{const e=await QEe.models.generateContent({model:ZEe,contents:t,config:{systemInstruction:eTe,responseMimeType:"application/json",responseSchema:{type:qr.OBJECT,properties:{amount:{type:qr.NUMBER},description:{type:qr.STRING},category:{type:qr.STRING},type:{type:qr.STRING,enum:["income","expense"]}},required:["amount","description","category","type"]}}});return e.text?JSON.parse(e.text):null}catch(e){return console.error("Gemini API Error:",e),null}},nTe=({isOpen:t,onClose:e,onSave:n,lang:r})=>{const[i,o]=N.useState(""),[s,u]=N.useState(""),[c,d]=N.useState("expense"),[h,m]=N.useState("others"),[_,S]=N.useState(new Date().toISOString().split("T")[0]),[w,A]=N.useState(""),[C,M]=N.useState(!1),[U,L]=N.useState(!1),H=N.useRef(null),z=ta[r];N.useEffect(()=>{if("webkitSpeechRecognition"in window){const x=new window.webkitSpeechRecognition;x.continuous=!1,x.lang="my-MM",x.interimResults=!1,x.onstart=()=>M(!0),x.onresult=async F=>{const k=F.results[0][0].transcript;M(!1),G(k)},x.onerror=F=>{console.error("Speech error",F.error),M(!1)},x.onend=()=>M(!1),H.current=x}},[]);const G=async x=>{L(!0);try{const F=await tTe(x);if(F&&(F.amount&&o(F.amount.toString()),F.description&&u(F.description),F.type&&d(F.type),F.category)){const k=F.category.toLowerCase(),B=Wy[F.type].find(q=>k.includes(q.id)||q.label.en.toLowerCase().includes(k));B&&m(B.id)}}catch(F){console.error("AI Error",F)}finally{L(!1)}},P=()=>{var x,F;C?(x=H.current)==null||x.stop():(F=H.current)==null||F.start()},D=async x=>{x.preventDefault(),!(!i||!s)&&(await n({amount:parseFloat(i),description:s,type:c,category:h,date:_,note:w}),o(""),u(""),A(""),e())};return t?j.jsx("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-fade-in",children:j.jsxs("div",{className:"bg-white dark:bg-gray-800 w-full max-w-lg rounded-2xl shadow-2xl overflow-hidden animate-slide-up",children:[j.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-gray-100 dark:border-gray-700",children:[j.jsx("h2",{className:"text-lg font-bold text-gray-800 dark:text-white",children:z.addTransaction}),j.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full",children:j.jsx(iQ,{size:24,className:"text-gray-500"})})]}),j.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-900/50 flex flex-col items-center justify-center border-b border-gray-100 dark:border-gray-700",children:[j.jsxs("button",{type:"button",onClick:P,disabled:U,className:`
              relative flex items-center justify-center w-16 h-16 rounded-full shadow-lg transition-all duration-300
              ${C?"bg-red-500 scale-110 shadow-red-500/50 animate-pulse":"bg-primary hover:bg-primary-dark"}
              ${U?"bg-blue-500":""}
            `,children:[U?j.jsx(VX,{className:"text-white animate-spin",size:28}):j.jsx(BX,{className:"text-white",size:28}),C&&j.jsx("span",{className:"absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75 animate-ping"})]}),j.jsx("p",{className:"mt-2 text-sm font-medium text-gray-500 dark:text-gray-400",children:U?z.processing:C?z.listening:"Tap to speak (Myanmar)"})]}),j.jsxs("form",{onSubmit:D,className:"p-6 space-y-4",children:[j.jsxs("div",{className:"flex bg-gray-100 dark:bg-gray-700 p-1 rounded-xl",children:[j.jsx("button",{type:"button",onClick:()=>d("income"),className:`flex-1 py-2 rounded-lg text-sm font-medium transition-colors ${c==="income"?"bg-white dark:bg-gray-600 text-primary shadow-sm":"text-gray-500 dark:text-gray-400"}`,children:z.income}),j.jsx("button",{type:"button",onClick:()=>d("expense"),className:`flex-1 py-2 rounded-lg text-sm font-medium transition-colors ${c==="expense"?"bg-white dark:bg-gray-600 text-danger shadow-sm":"text-gray-500 dark:text-gray-400"}`,children:z.expense})]}),j.jsxs("div",{children:[j.jsx("label",{className:"block text-xs font-semibold text-gray-500 dark:text-gray-400 mb-1 uppercase",children:z.amount}),j.jsx("input",{type:"number",value:i,onChange:x=>o(x.target.value),placeholder:"0",required:!0,className:"w-full text-3xl font-bold bg-transparent border-b-2 border-gray-200 dark:border-gray-700 focus:border-primary outline-none py-2 text-gray-900 dark:text-white"})]}),j.jsxs("div",{children:[j.jsx("label",{className:"block text-xs font-semibold text-gray-500 dark:text-gray-400 mb-1 uppercase",children:z.description}),j.jsx("input",{type:"text",value:s,onChange:x=>u(x.target.value),required:!0,className:"w-full bg-gray-50 dark:bg-gray-900/50 border border-gray-200 dark:border-gray-700 rounded-lg px-4 py-3 outline-none focus:ring-2 focus:ring-primary/50 text-gray-900 dark:text-white"})]}),j.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[j.jsxs("div",{children:[j.jsx("label",{className:"block text-xs font-semibold text-gray-500 dark:text-gray-400 mb-1 uppercase",children:"Category"}),j.jsx("select",{value:h,onChange:x=>m(x.target.value),className:"w-full bg-gray-50 dark:bg-gray-900/50 border border-gray-200 dark:border-gray-700 rounded-lg px-4 py-3 outline-none text-gray-900 dark:text-white appearance-none",children:Wy[c].map(x=>j.jsx("option",{value:x.id,children:r==="mm"?x.label.mm:x.label.en},x.id))})]}),j.jsxs("div",{children:[j.jsx("label",{className:"block text-xs font-semibold text-gray-500 dark:text-gray-400 mb-1 uppercase",children:z.date}),j.jsxs("div",{className:"relative",children:[j.jsx("input",{type:"date",value:_,onChange:x=>S(x.target.value),className:"w-full bg-gray-50 dark:bg-gray-900/50 border border-gray-200 dark:border-gray-700 rounded-lg px-4 py-3 outline-none text-gray-900 dark:text-white"}),j.jsx(TX,{className:"absolute right-3 top-3 text-gray-400 pointer-events-none",size:18})]})]})]}),j.jsxs("div",{children:[j.jsx("label",{className:"block text-xs font-semibold text-gray-500 dark:text-gray-400 mb-1 uppercase",children:z.note}),j.jsx("textarea",{value:w,onChange:x=>A(x.target.value),rows:2,className:"w-full bg-gray-50 dark:bg-gray-900/50 border border-gray-200 dark:border-gray-700 rounded-lg px-4 py-2 outline-none focus:ring-2 focus:ring-primary/50 text-gray-900 dark:text-white"})]}),j.jsxs("button",{type:"submit",className:"w-full bg-primary hover:bg-primary-dark text-white font-bold py-4 rounded-xl shadow-lg shadow-primary/30 transition-all active:scale-95 flex items-center justify-center gap-2",children:[j.jsx(bX,{size:20}),z.save]})]})]})}):null},rTe=()=>{const[t,e]=N.useState(null),[n,r]=N.useState(!0),[i,o]=N.useState([]),[s,u]=N.useState("dashboard"),[c,d]=N.useState(!1),[h,m]=N.useState(()=>localStorage.getItem("lang")||"en"),[_,S]=N.useState(()=>localStorage.getItem("theme")||"light");N.useEffect(()=>{const M=bI.onAuthStateChanged(U=>{e(U),r(!1)});return()=>M()},[]),N.useEffect(()=>{t&&(async()=>{try{const U=await lX(t.uid);o(U)}catch(U){console.error("Fetch failed",U)}})()},[t]),N.useEffect(()=>{_==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),localStorage.setItem("theme",_)},[_]),N.useEffect(()=>{localStorage.setItem("lang",h)},[h]);const w=async M=>{if(t)try{const U=await sX({...M,userId:t.uid,createdAt:Date.now()});o(L=>[U,...L])}catch{alert("Failed to save transaction.")}},A=async M=>{try{await uX(M),o(U=>U.filter(L=>L.id!==M))}catch{alert("Failed to delete.")}},C=()=>{const U=["Date","Description","Category","Type","Amount","Note"],L=i.map(D=>[D.date,`"${D.description.replace(/"/g,'""')}"`,D.category,D.type,D.amount,`"${(D.note||"").replace(/"/g,'""')}"`]),H=[U.join(","),...L.map(D=>D.join(","))].join(`
`),z=new Blob(["\uFEFF"+H],{type:"text/csv;charset=utf-8;"}),G=URL.createObjectURL(z),P=document.createElement("a");P.href=G,P.setAttribute("download",`ngwe_mat_su_export_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(P),P.click(),document.body.removeChild(P)};return n?j.jsx("div",{className:"h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900",children:j.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):t?j.jsxs(oQ,{activeTab:s,setActiveTab:u,onOpenAdd:()=>d(!0),lang:h,children:[s==="dashboard"&&j.jsx(ppe,{transactions:i,userDisplayName:t.displayName||"User",lang:h}),s==="list"&&j.jsx(Sme,{transactions:i,onDelete:A,lang:h}),s==="settings"&&j.jsxs("div",{className:"space-y-6",children:[j.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:ta[h].settings}),j.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl overflow-hidden shadow-sm",children:[j.jsxs("div",{className:"p-4 flex items-center justify-between border-b border-gray-100 dark:border-gray-700",children:[j.jsxs("div",{className:"flex items-center gap-3",children:[j.jsx(MX,{className:"text-gray-500",size:20}),j.jsx("span",{className:"text-gray-700 dark:text-gray-200",children:ta[h].language})]}),j.jsx("button",{onClick:()=>m(M=>M==="en"?"mm":"en"),className:"px-3 py-1 bg-gray-100 dark:bg-gray-700 rounded-lg text-sm font-medium",children:h==="en"?"English":""})]}),j.jsxs("div",{className:"p-4 flex items-center justify-between border-b border-gray-100 dark:border-gray-700",children:[j.jsxs("div",{className:"flex items-center gap-3",children:[_==="light"?j.jsx(jX,{className:"text-gray-500",size:20}):j.jsx(GX,{className:"text-gray-500",size:20}),j.jsx("span",{className:"text-gray-700 dark:text-gray-200",children:ta[h].darkMode})]}),j.jsx("button",{onClick:()=>S(M=>M==="light"?"dark":"light"),className:`w-12 h-6 rounded-full p-1 transition-colors ${_==="dark"?"bg-primary":"bg-gray-300"}`,children:j.jsx("div",{className:`w-4 h-4 rounded-full bg-white transition-transform ${_==="dark"?"translate-x-6":""}`})})]}),j.jsxs("div",{className:"p-4 flex items-center justify-between",children:[j.jsxs("div",{className:"flex items-center gap-3",children:[j.jsx(CX,{className:"text-gray-500",size:20}),j.jsx("span",{className:"text-gray-700 dark:text-gray-200",children:ta[h].exportCsv})]}),j.jsx("button",{onClick:C,className:"text-primary font-medium text-sm",children:"Download"})]})]}),j.jsxs("button",{onClick:aX,className:"w-full bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 p-4 rounded-xl flex items-center justify-center gap-2 font-medium",children:[j.jsx(FX,{size:20}),ta[h].signOut]})]}),j.jsx(nTe,{isOpen:c,onClose:()=>d(!1),onSave:w,lang:h})]}):j.jsx(cX,{})},x5=document.getElementById("root");if(!x5)throw new Error("Could not find root element to mount to");const iTe=EH.createRoot(x5);iTe.render(j.jsx(GV.StrictMode,{children:j.jsx(rTe,{})}));
